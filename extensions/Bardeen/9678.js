"use strict";(self.webpackChunkbardeen_browser_extension=self.webpackChunkbardeen_browser_extension||[]).push([[9678],{87608:(e,t,n)=>{n.d(t,{h:()=>d});var o=n(2784),i=n(79692),r=n(78975);const s=(0,i.Z)({pickerFrame:{border:`solid 2px ${r.ColorMap.bardeen.base}`,backgroundColor:"rgb(38 194 208 / 12%)",boxSizing:"border-box",cursor:"pointer",pointerEvents:"none",position:"fixed",zIndex:2147483002},backgroundMask:{background:"rgba(0,0,0,0.25)",pointerEvents:"none",position:"fixed",zIndex:2147483001}}),d=e=>{const t=(e.acceptTags||[]).map((e=>e.toLowerCase())),n=s(),[i,r]=(0,o.useState)(null);return(0,o.useEffect)((()=>{const t=null==e.isStoppingClickPropagation||e.isStoppingClickPropagation,n=e.stopClickScript,o=e.collectScript,i=null==e.isStyled||e.isStyled,s=e=>{const t=e.target;if(t){if("absolute"===window.getComputedStyle(t).position){const{clientX:n,clientY:o}=e,[,i]=document.elementsFromPoint(n,o);return i?((e,t)=>{var n;const o=null===(n=e.parentElement)||void 0===n?void 0:n.contains(t),{width:i,height:r}=t.getBoundingClientRect(),{width:s,height:d}=e.getBoundingClientRect();return o&&s-i>0&&d-r>0?t:e})(t,i):t}return t}return null},d=e=>{if(n&&n(e))return;t&&(e.preventDefault(),e.stopPropagation());const o=s(e);o?(e=>{const{left:t,top:n,width:o,height:s}=e.getBoundingClientRect();i&&r({left:t,top:n,width:o,height:s})})(o):r(null)},l=e=>{n&&n(e)||t&&(e.preventDefault(),e.stopPropagation())},a=i=>{if(n&&n(i))return;t&&(i.preventDefault(),i.stopPropagation());const r=(()=>{const e=s(i);return o?o(e):e})();e.onClick(r)};return window.addEventListener("mousemove",d,!0),window.addEventListener("mousedown",l,!0),window.addEventListener("mouseover",l,!0),window.addEventListener("mouseout",l,!0),window.addEventListener("mouseleave",l,!0),window.addEventListener("mouseenter",l,!0),window.addEventListener("mouseup",l,!0),window.addEventListener("click",a,!0),()=>{window.removeEventListener("mousemove",d,!0),window.removeEventListener("mousedown",l,!0),window.removeEventListener("mouseover",l,!0),window.removeEventListener("mouseout",l,!0),window.removeEventListener("mouseleave",l,!0),window.removeEventListener("mouseenter",l,!0),window.removeEventListener("mouseup",l,!0),window.removeEventListener("click",a,!0)}}),[e,t]),o.createElement(o.Fragment,null,i?o.createElement(o.Fragment,null,o.createElement("div",{id:"bardeen-focus-ring",className:n.pickerFrame,style:{left:`${i.left}px`,top:`${i.top}px`,width:`${i.width}px`,height:`${i.height}px`}}),o.createElement("div",{className:n.backgroundMask,style:{left:0,width:`${i.left}px`,top:0,bottom:0}}),o.createElement("div",{className:n.backgroundMask,style:{left:`${i.left+i.width}px`,right:0,top:0,bottom:0}}),o.createElement("div",{className:n.backgroundMask,style:{left:`${i.left}px`,width:`${i.width}px`,top:0,height:`${i.top}px`}}),o.createElement("div",{className:n.backgroundMask,style:{left:`${i.left}px`,width:`${i.width}px`,top:`${i.top+i.height}px`,bottom:0}})):null)}},99678:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});var o=n(2784),i=n(28316),r=n(68796),s=n(78975),d=n(87608),l=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function d(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,d)}l((o=o.apply(e,t||[])).next())}))};const a=class extends r.UIModulePage{setup(){return l(this,void 0,void 0,(function*(){}))}mount(e){return l(this,void 0,void 0,(function*(){i.render(o.createElement(s.BardeenStyleProvider,null,o.createElement(d.h,{onClick:e=>{this.controller.onPick(e)},collectScript:e=>({src:e.getAttribute("src"),origin:window.location.origin,rect:e.getBoundingClientRect()})})),e)}))}unmount(e){return l(this,void 0,void 0,(function*(){i.unmountComponentAtNode(e)}))}}}}]);