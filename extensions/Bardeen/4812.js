"use strict";(self.webpackChunkbardeen_browser_extension=self.webpackChunkbardeen_browser_extension||[]).push([[4812],{54812:(e,a,n)=>{n.r(a),n.d(a,{useStyles:()=>y,default:()=>d});var t=n(2784),r=n(68796),l=n(78975),o=n(79692),c=n(74410);const u=l.MetricsMap.boxModel.spacing,y=(0,o.Z)((()=>({inputForm:{marginTop:u.m},selectStyle:{width:"408px"}}))),s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=[{label:"Don't repeat (Schedule only once)",value:"once",icon:{icon:"RepeatRoundOutline"}},{label:"Repeat Daily",value:"daily",icon:{icon:"RepeatRoundOutline"}},{label:"Repeat Weekly",value:"weekly",icon:{icon:"RepeatRoundOutline"}},{label:"Repeat Monthly",value:"monthly",icon:{icon:"RepeatRoundOutline"}},{label:"Repeat Yearly",value:"yearly",icon:{icon:"RepeatRoundOutline"}}],d=e=>{const{value:a,onChange:n,onFocus:o}=e,[u,d]=t.useState("once"),[k,h]=t.useState(""),[p,R]=t.useState(["MO"]),[v,f]=t.useState("on"),[w,S]=t.useState("MO"),[D,g]=t.useState(1),[E,C]=t.useState([1]),[M,A]=t.useState(["Jan"]),[O,Y]=t.useState(!1),[F,N]=t.useState("MO"),[W,L]=t.useState(1),P=t.useRef({}),q=y();t.useEffect((()=>{switch(null==a?void 0:a.freq){case c.RRule.DAILY:d("daily"),h(`${(null==a?void 0:a.interval)||""}`);break;case c.RRule.WEEKLY:if(d("weekly"),h(`${(null==a?void 0:a.interval)||""}`),a.byweekday){const e=m(a.byweekday);R(e.map((e=>e.toString())))}else R(["MO","TU","WE","TH","FR","SA","SU"]);break;case c.RRule.MONTHLY:if(d("monthly"),h(`${(null==a?void 0:a.interval)||""}`),null!=(null==a?void 0:a.byweekday)){f("on");const e=m(a.byweekday);S(e[0].toString());const n=((a.bynweekday||[])[0]||[])[0]||1;g(n)}else{f("on-custom");const e=a.bymonthday?Array.isArray(a.bymonthday)?a.bymonthday:[a.bymonthday]:[];C(e)}break;case c.RRule.YEARLY:if(d("yearly"),h(`${(null==a?void 0:a.interval)||""}`),null==a?void 0:a.bymonth){const e=Array.isArray(a.bymonth)?a.bymonth:[a.bymonth];A(e.map((e=>s[e-1])))}else A(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]);if(null==a?void 0:a.byweekday){Y(!0);const e=m(a.byweekday);N(e[0].toString());const n=((a.bynweekday||[])[0]||[])[0]||1;L(n)}else Y(!1);break;default:d("once")}P.current={freq:null==a?void 0:a.freq}}),[]),t.useEffect((()=>{switch(u){case"once":n(void 0);break;case"daily":n(r.DRecurrence.create({freq:c.RRule.DAILY,interval:parseInt(k)}));break;case"weekly":n(r.DRecurrence.create({freq:c.RRule.WEEKLY,interval:parseInt(k),byweekday:p.map((e=>c.Weekday.fromStr(e).weekday))}));break;case"monthly":switch(v){case"on":n(r.DRecurrence.create({freq:c.RRule.MONTHLY,interval:parseInt(k),byweekday:[c.Weekday.fromStr(w).weekday],bynweekday:[[D]]}));break;case"on-custom":n(r.DRecurrence.create({freq:c.RRule.MONTHLY,interval:parseInt(k),bymonthday:E}))}break;case"yearly":n(O?r.DRecurrence.create({freq:c.RRule.YEARLY,interval:parseInt(k),bymonth:b(M),byweekday:[c.Weekday.fromStr(F).weekday],bynweekday:[[W]]}):r.DRecurrence.create({freq:c.RRule.YEARLY,interval:parseInt(k),bymonth:b(M)}))}}),[E,w,D,v,n,u,k,p,M,O,F,W]);const I=t.useCallback((e=>{d(e),h("1")}),[]),J=t.useMemo((()=>{switch(u){case"once":return null;case"daily":return t.createElement("div",{className:q.inputForm},t.createElement(l.DatePicker.DayPicker,{value:k,onChange:h}));case"weekly":return t.createElement("div",{className:q.inputForm},t.createElement(l.DatePicker.WeekPicker,{onChange:h,onWeekDaysChange:R,value:k,weekDays:p}));case"monthly":return t.createElement("div",{className:q.inputForm},t.createElement(l.DatePicker.MonthPicker,{dayPicker:E,dayValue:w,monthStrategy:v,nthDayValue:D,onChange:h,onDayChange:S,onDayPickerChange:C,onMonthStrategyChange:f,onNthDayChange:g,value:k}));case"yearly":return t.createElement("div",{className:q.inputForm},t.createElement(l.DatePicker.YearPicker,{dayValue:F,isSpecificDay:O,months:M,nthDayValue:W,onChange:h,onIsSpecificDayChanged:Y,onMonthsChange:A,onNthDayChange:L,onDayChange:N,value:k}))}}),[q.inputForm,E,w,D,v,u,k,p,F,M,W,O]);return t.createElement("div",{onFocus:o},t.createElement(l.BardeenSelect,{onChange:I,options:i,selectClasses:{select:q.selectStyle},type:"input",value:u}),J)};function k(e){return"number"==typeof e?new c.Weekday(e):"string"==typeof e?c.Weekday.fromStr(e):e}function m(e){return(Array.isArray(e)?e:[e]).map(k)}function b(e){return e.map((e=>s.indexOf(e)+1))}}}]);