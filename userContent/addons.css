@namespace xul url("http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul");
@namespace html url("http://www.w3.org/1999/xhtml");

/*= Addons.org =============================================================*/
@-moz-document url-prefix("https://addons.mozilla.org")
{
  /* Basic */
  .Page-content,
  .SecondaryHero,
  body,
  main[aria-label="Content"] {
    color: var(--in-content-page-color) !important;
    background: var(--in-content-page-background) !important;
  }

  /* Text */
  .AutoSearchInput-query,
  .AutoSearchInput-suggestions-list,
  .Page-content h1,
  .Page-content h2,
  .SearchResult-link,
  .Home-SubjectShelf-link:link,
  .Home-SubjectShelf-link:visited,
  .DropdownMenuItem-link a,
  .Select,
  .Badge,
  .Notice-generic,
  .Notice-genericWarning,
  .Notice-button,
  .Paginate .Button.Paginate-item:first-child,
  .Paginate .Button.Paginate-item:last-child,
  .Paginate .Button.Paginate-item--current-page,
  .Button--neutral,
  .blog-entry-title,
  .blogpost-nav * {
    color: var(--in-content-text-color) !important;
  }
  .AutoSearchInput-suggestions-item:is(:active, :focus, :hover),
  .AutoSearchInput-suggestions-item--highlighted,
  .SecondaryHero-message-link,
  .SecondaryHero-module-link,
  .Card-contents a:not(.Button),
  .Card-footer-link a,
  .Card-shelf-footer-in-header a,
  .SearchResult-link:is(:active, :focus, :hover),
  .SearchResult:hover .SearchResult-link,
  .Home-SubjectShelf-link:is(:active, :focus, :hover),
  .DropdownMenuItem-link a:is(:active, :focus, :hover),
  .AddonMeta .MetadataCard-title a:is(:active, :hover),
  .AddonMeta .MetadataCard-title a.AddonMeta-reviews-content-link:is(:active, :hover),
  .AddonMeta .MetadataCard-content a:is(:active, :hover),
  .AddonMeta .MetadataCard-content a.AddonMeta-reviews-content-link:is(:active, :hover),
  .Addon-summary a,
  .RatingsByStar-count a:hover,
  .RatingsByStar-star a:hover,
  .Paginate .Button.Paginate-item:not(:first-child, :last-child, .Paginate-item--current-page),
  .AddonTitle-author a,
  .PermissionsCard-learn-more,
  .DefinitionList a,
  .ShowMoreCard-contents a,
  .AddonDescription-contents a,
  .AddonTitle a,
  .TooltipMenu-opener,
  .LanguageTools .Card-contents a,
  .blog-entry-read-more-link,
  .blogpost-nav-next.blogpost-nav-no-prev:hover p,
  .blogpost-content-wrapper p a,
  .blogpost-nav-prev:hover p,
  .blogpost-nav-next:hover p {
    color: var(--in-content-link-color) !important;
  }
  .SearchResult--meta-section,
  .MetadataCard-title,
  .MetadataCard-title a,
  .MetadataCard-content a,
  .CollectionSort-label,
  .SearchResult-summary,
  .AddonMeta .MetadataCard-content a.AddonMeta-reviews-content-link,
  .AddonMeta .MetadataCard-title a.AddonMeta-reviews-content-link,
  .PermissionsCard-subhead--optional,
  .PermissionsCard-subhead--required,
  .Definition-dt,
  .RatingsByStar-count a,
  .RatingsByStar-star a,
  .Paginate-page-number,
  .AddonSummaryCard-addonAverage,
  .AddonReviewCard-authorByLine,
  .UserReview-byLine,
  .UserReview-reply-header,
  .Home-heroHeader-subtitle,
  .blog-entry-date,
  .blogpost-breadcrumb *,
  .AddonTitle-author,
  .ExpandableCard-ToggleLink,
  .SearchFilters-label,
  .PromotedBadge-label--line {
    color: var(--in-content-deemphasized-text) !important;
  }
  .PromotedBadge-label--recommended {
    color: color-mix(in srgb, #8b9cbe 15%, #8265ff) !important;
  }

  /* Background */
  .Button--action {
    color: var(--in-content-primary-button-text-color) !important;
    background: var(--in-content-primary-button-background) !important;
  }
  .Select,
  .Button--neutral,
  .Button--neutral:link,
  .Notice-button,
  .AMInstallButton .AMInstallButton-loading-button {
    background-color: var(--in-content-button-background) !important;
  }
  .Button--neutral.Button--micro:not(.Button--disabled):hover,
  .Button--neutral:not(.Button--disabled):hover,
  .Notice-button:hover {
    background: var(--in-content-button-background-hover) !important;
  }
  .Button--action.Button--micro:not(.Button--disabled):hover,
  .Button--action:not(.Button--disabled):hover {
    background: var(--in-content-primary-button-background-hover) !important;
  }
  .ShowMoreCard-contents::after {
    background: linear-gradient(hsla(0, 0%, 100%, 0), var(--in-content-table-background)) !important;
  }
  .AutoSearchInput-query,
  .AutoSearchInput-suggestions-list,
  .SecondaryHero-module,
  .Card-header,
  .Card-contents,
  .CardList ul > li,
  .AddonsCard--horizontal ul.AddonsCard-list .SearchResult-wrapper:is(:focus, :hover),
  .Paginate,
  .LandingPage-header,
  .DropdownMenu-items,
  .DropdownMenu-items::after,
  .MetadataCard,
  .AddonsCard-list,
  .Card-footer,
  .StaticAddonCard,
  .blogpost-nav,
  .blogpost-nav * {
    background: var(--in-content-table-background) !important;
  }

  .Paginate .Button.Paginate-item:is(:active, :hover) {
    background: var(--in-content-button-background-hover) !important;
  }
  .Notice-generic,
  .Notice-genericWarning {
    background: color-mix(
      in srgb,
      var(--in-content-page-background) 40%,
      var(--in-content-table-background)
    ) !important;
  }

  .LanguageTools-header-row {
    color: var(--in-content-table-header-color) !important;
    background: var(--in-content-table-header-background) !important;
  }
  .LanguageTools-table.responsiveTable tbody tr:nth-child(2n) {
    background-color: var(--in-content-box-background-odd) !important;
  }

  /* Fill */
  .Icon-arrow-blue.SearchSuggestion-icon-arrow {
    filter: hue-rotate(330deg) brightness(1.3) !important;
  }
  .SecondaryHero-module-icon {
    filter: invert(85%) !important;
  }
  .Icon-magnifying-glass,
  .Notice-icon {
    filter: invert(65%) !important;
  }
  .PermissionsCard-learn-more .Icon,
  .Permission .Icon {
    filter: invert(100%) !important;
  }
  .Icon-heart {
    filter: brightness(0) !important;
  }

  /* Others */
  .DropdownMenu-items {
    box-shadow: 0 0 2px var(--in-content-border-color) !important;
  }

  .AutoSearchInput-query {
    border: 1px solid var(--in-content-table-background) !important;
  }
  .AutoSearchInput-query:is(:hover, :focus) {
    border-color: var(--in-content-primary-button-background) !important;
  }
  .AutoSearchInput-query:focus {
    box-shadow: inset 0 0 0 1px var(--in-content-primary-button-background),
      0 0 0 1px var(--in-content-primary-button-background), 0 0 0 4px rgba(0, 211, 255, 0.3) !important;
  }

  .PromotedBadge-link--line {
    border-color: var(--in-content-deemphasized-text) !important;
  }
  .PromotedBadge-link--line:hover {
    border-color: var(--in-content-button-background-hover) !important;
  }

  .blog-entry-read-more-link {
    border-color: var(--in-content-link-color) !important;
  }

  .blogpost-nav-arrow-left .cls-1,
  .blogpost-nav-arrow-right .cls-1 {
    stroke: var(--in-content-text-color) !important;
  }

  /* /developers/ */
  .DevHub-Navigation {
    background: var(--in-content-page-background) !important;
  }
  .DevHub-Navigation.scheme-light ul li a,
  .DevHub-content-copy h2,
  .content p {
    color: var(--in-content-page-color) !important;
  }
  .DevHub-callout-box {
    background: var(--in-content-box-background) !important;
    color: var(--in-content-page-color) !important;
  }
}

/*= Addons Page =============================================================*/
/* Makes addon manager show addons in 2-4 columns based on available width */

@-moz-document url-prefix("chrome://mozapps/content/extensions/aboutaddons.html"), url("about:addons"){
  
  :root{  overflow-x: hidden } /* Remove this if it causes horizontal scrolling problems */
  
  @media (min-width:720px){
    #main{ max-width: unset !important; padding-right: 28px; }
    addon-list > section,
    recommended-addon-list{
      padding: 1em;
      display: grid;
      grid-template-areas: "hd hd" "cd cd";
      grid-auto-columns: 1fr;
      column-gap: 1em;
     
    }
  
    addon-card .card-contents{ width: unset !important; white-space: initial !important; }
  
    .card-heading-image{ max-width: calc(100% + 32px) }
    section > h2{ grid-area: hd }
    addon-card{
      padding-bottom: 0px !important;
      padding-top: 0px !important;
      grid-area: auto;
    }
    addon-card .addon-description{ max-height: 3em; scrollbar-width: thin; }
  }
  
  @media (min-width:1220px){
    addon-list > section,
    recommended-addon-list{
      grid-template-areas: "hd hd hd" "cd cd cd";
    }
  }
  
  @media (min-width:1720px){
    addon-list > section,
    recommended-addon-list{
      grid-template-areas: "hd hd hd hd" "cd cd cd cd";
    }
  }
}

  :root{  overflow-x: hidden } /* Remove this if it causes horizontal scrolling problems */
  
  @media (min-width:420px){
    #main{ max-width: unset !important; padding-right: 28px; }
    addon-list > section{
      padding: 1em;
      display: grid;
      grid-template-areas: "hd hd" "cd cd";
      grid-auto-columns: 1fr;
      column-gap: 1em;
    }
  
    addon-card .card-contents{ width: unset !important; white-space: initial !important; }
  
    .card-heading-image{ max-width: calc(100% + 32px) }
    section > h2{ grid-area: hd }
    addon-card{
      padding-bottom: 0px !important;
      padding-top: 0px !important;
      grid-area: auto;
    }
    addon-card .addon-description{ max-height: 3em; scrollbar-width: thin; }
  }
    
  @media (min-width:640px){
    addon-list[type="extension"] > section{ grid-template-areas: "hd hd hd" "cd cd cd"; }
  }
  @media (min-width:960px){
    addon-list[type="extension"] > section{ grid-template-areas: "hd hd hd hd" "cd cd cd cd"; }
  }
  @media (min-width:1180px){
    addon-list[type="extension"] > section{ grid-template-areas: "hd hd hd hd hd" "cd cd cd cd cd"; }
  }
  @media (min-width:1420px){
    addon-list[type="extension"] > section{ grid-template-areas: "hd hd hd hd hd hd" "cd cd cd cd cd cd"; }
  }
  
  addon-card:not([expanded]) .addon-description,
  addon-card:not([expanded]) .addon-card-message button[action]{ display: none !important; }
  
  addon-list[type="extension"]{ --card-padding: 8px }
 
}

@-moz-document url-prefix("about:addons"){
  #categories{ width: 60px !important; }
  #categories > richlistitem{ margin-left: 20px !important; -moz-box-pack: center }
  .sidebar-footer-label,
  #category-box richlistitem > label{ display: none }
}
