"use strict";(self.webpackChunkbardeen_browser_extension=self.webpackChunkbardeen_browser_extension||[]).push([[3475],{87608:(e,t,n)=>{n.d(t,{h:()=>o});var r=n(2784),a=n(79692),i=n(78975);const l=(0,a.Z)({pickerFrame:{border:`solid 2px ${i.ColorMap.bardeen.base}`,backgroundColor:"rgb(38 194 208 / 12%)",boxSizing:"border-box",cursor:"pointer",pointerEvents:"none",position:"fixed",zIndex:2147483002},backgroundMask:{background:"rgba(0,0,0,0.25)",pointerEvents:"none",position:"fixed",zIndex:2147483001}}),o=e=>{const t=(e.acceptTags||[]).map((e=>e.toLowerCase())),n=l(),[a,i]=(0,r.useState)(null);return(0,r.useEffect)((()=>{const t=null==e.isStoppingClickPropagation||e.isStoppingClickPropagation,n=e.stopClickScript,r=e.collectScript,a=null==e.isStyled||e.isStyled,l=e=>{const t=e.target;if(t){if("absolute"===window.getComputedStyle(t).position){const{clientX:n,clientY:r}=e,[,a]=document.elementsFromPoint(n,r);return a?((e,t)=>{var n;const r=null===(n=e.parentElement)||void 0===n?void 0:n.contains(t),{width:a,height:i}=t.getBoundingClientRect(),{width:l,height:o}=e.getBoundingClientRect();return r&&l-a>0&&o-i>0?t:e})(t,a):t}return t}return null},o=e=>{if(n&&n(e))return;t&&(e.preventDefault(),e.stopPropagation());const r=l(e);r?(e=>{const{left:t,top:n,width:r,height:l}=e.getBoundingClientRect();a&&i({left:t,top:n,width:r,height:l})})(r):i(null)},c=e=>{n&&n(e)||t&&(e.preventDefault(),e.stopPropagation())},s=a=>{if(n&&n(a))return;t&&(a.preventDefault(),a.stopPropagation());const i=(()=>{const e=l(a);return r?r(e):e})();e.onClick(i)};return window.addEventListener("mousemove",o,!0),window.addEventListener("mousedown",c,!0),window.addEventListener("mouseover",c,!0),window.addEventListener("mouseout",c,!0),window.addEventListener("mouseleave",c,!0),window.addEventListener("mouseenter",c,!0),window.addEventListener("mouseup",c,!0),window.addEventListener("click",s,!0),()=>{window.removeEventListener("mousemove",o,!0),window.removeEventListener("mousedown",c,!0),window.removeEventListener("mouseover",c,!0),window.removeEventListener("mouseout",c,!0),window.removeEventListener("mouseleave",c,!0),window.removeEventListener("mouseenter",c,!0),window.removeEventListener("mouseup",c,!0),window.removeEventListener("click",s,!0)}}),[e,t]),r.createElement(r.Fragment,null,a?r.createElement(r.Fragment,null,r.createElement("div",{id:"bardeen-focus-ring",className:n.pickerFrame,style:{left:`${a.left}px`,top:`${a.top}px`,width:`${a.width}px`,height:`${a.height}px`}}),r.createElement("div",{className:n.backgroundMask,style:{left:0,width:`${a.left}px`,top:0,bottom:0}}),r.createElement("div",{className:n.backgroundMask,style:{left:`${a.left+a.width}px`,right:0,top:0,bottom:0}}),r.createElement("div",{className:n.backgroundMask,style:{left:`${a.left}px`,width:`${a.width}px`,top:0,height:`${a.top}px`}}),r.createElement("div",{className:n.backgroundMask,style:{left:`${a.left}px`,width:`${a.width}px`,top:`${a.top+a.height}px`,bottom:0}})):null)}},83475:(e,t,n)=>{n.r(t),n.d(t,{default:()=>W});var r=n(2784),a=n(28316),i=n(79692),l=n(68796),o=n(78975),c=n(82094),s=n(74233),d=n(40453),h=n(29779),m=n(23227);const p=`\n  [data-bardeen-scraper-building] {\n    margin-bottom: 50px;\n  }\n  [data-bardeen-scraper-selector] {\n    border-radius: 4px;\n    padding: 2px;\n  }\n  [data-bardeen-scraper-operation='text'] {\n      border: 1px solid ${c.sv} !important;\n  }\n  [data-bardeen-scraper-operation='table'] {\n    border: 1px solid ${c.sv} !important;\n  }\n  [data-bardeen-scraper-operation='link'] {\n    border: 1px solid ${c.I8} !important;\n  }\n  [data-bardeen-scraper-operation='image'] {\n    border: 1px solid ${c.Ak} !important;\n  }\n  [data-bardeen-scraper-operation='click'] {\n    background-color: ${c.V} !important;\n    border: 1px solid rgba(47, 191, 34, 1) !important;\n  }\n  [data-bardeen-scraper-operation='input'] {\n    background-color: ${c.El} !important;\n    border: 1px solid rgba(212, 139, 44, 1) !important;\n  }\n  [data-bardeen-list-container] {\n    border: 1px solid ${o.ColorMap.bardeen.base} !important;\n    background-color: transparent !important;\n  }\n  [data-bardeen-scraper-selected] {\n    border: 1px solid rgba(66, 72, 245, 1) !important;\n  }\n  [data-bardeen-pagination-selected] {\n    background-color: rgba(236, 151, 151, 0.5) !important;\n    border-radius: 10px !important;\n    border: 1px solid rgba(227, 93, 93, 1) !important;\n  }\n`;class u{constructor(){document.body.dataset.bardeenScraperBuilding="true"}styleContainer(e){(0,c.$$)("[data-bardeen-list-container]").forEach((e=>{delete e.dataset.bardeenListContainer})),(0,c.$$)(e).forEach((e=>{e.dataset.bardeenListContainer="true"}))}styleContainerPick(e){e.forEach((e=>{const t=(0,c.$)("[bardeen-uid='"+e+"'");t&&(t.dataset.bardeenListContainer="true")}))}styleScript(){return(()=>{const e=document.createElement("style");e.setAttribute("type","text/css"),e.appendChild(document.createTextNode((0,c.i7)(p)));const t=document.getElementsByTagName("head")[0];t&&t.appendChild(e)})(),()=>{this.removeAllStyles()}}removeAllStyles(){["data-bardeen-scraper-building","data-bardeen-scraper-selected","data-bardeen-scraper-operation","data-bardeen-list-container","data-bardeen-pagination-selected"].forEach((e=>{(0,c.$$)(`[${e}]`).forEach((t=>{t.removeAttribute(e)}))}))}removePaginationStyles(){const e="data-bardeen-pagination-selected",t=(0,c.$)(`[${e}]`);null==t||t.removeAttribute(e)}styleElements(e,t){this.removeAllStyles(),(t?(0,c.$$)(t):[document]).forEach((t=>{t&&t!==document&&(t.dataset.bardeenListContainer="true"),e.forEach((e=>{const n=(0,m.$o)(e.selector,t,e.selectorType);n&&(n.dataset.bardeenScraperOperation=e.type)}))}))}stylePagination(e){if(this.removePaginationStyles(),"selector"in e){const t=(0,m.$o)(e.selector);t&&(t.dataset.bardeenPaginationSelected="true")}}}var f=n(87608),v=n(56034);const g=e=>{const[t,n]=(0,r.useState)([]),[a,i]=(0,r.useState)([]),l=r.useRef("");return r.useEffect((()=>{const t=JSON.stringify(e.model);t!=l.current&&(l.current=t,function(){var t,r,a,l,o;r=this,a=void 0,o=function*(){const r=new v.z;r.disablePartialRendering();let a=[];if("table"===e.model.type)a=r.getTable(e.model.operations);else{let t;a=yield r.execute(e.model,{},(()=>{}),t)}if(yield r.cleanup(),!a)return null;const l=yield e.resultsToTabularData(a,e.model.type);if(!l)return null;n(l.data.map((e=>e.records||{}))),i(((null===(t=l.schema)||void 0===t?void 0:t.fields)||[]).map((e=>({field:e.name||"undefined",flex:1,headerName:e.name||"undefined",minWidth:180}))))},new((l=void 0)||(l=Promise))((function(e,t){function n(e){try{c(o.next(e))}catch(e){t(e)}}function i(e){try{c(o.throw(e))}catch(e){t(e)}}function c(t){var r;t.done?e(t.value):(r=t.value,r instanceof l?r:new l((function(e){e(r)}))).then(n,i)}c((o=o.apply(r,a||[])).next())}))}())}),[e]),r.createElement(o.BardeenTable,{columns:a,rows:t})};var E,y,x,b,w,_,C,k,z,S,O,B,F,M,P;function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const $=function(e){return r.createElement("svg",L({width:"1em",height:"1em",viewBox:"0 0 312 150",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),E||(E=r.createElement("path",{fill:"url(#pagination-info_react_svg__paint0_linear)",d:"M0 0h312v148H0z"})),y||(y=r.createElement("rect",{x:60,y:-8,width:192,height:48,rx:6,fill:"#484A4F"})),x||(x=r.createElement("rect",{x:68,width:32,height:32,rx:4,fill:"#54575C"})),b||(b=r.createElement("rect",{x:108,y:2,width:48,height:6,rx:3,fill:"#54575C"})),w||(w=r.createElement("rect",{x:108,y:16,width:136,height:4,rx:2,fill:"#54575C"})),_||(_=r.createElement("rect",{x:108,y:26,width:136,height:4,rx:2,fill:"#54575C"})),C||(C=r.createElement("rect",{x:60,y:48,width:192,height:48,rx:6,fill:"#484A4F"})),k||(k=r.createElement("rect",{x:68,y:56,width:32,height:32,rx:4,fill:"#54575C"})),z||(z=r.createElement("rect",{x:108,y:58,width:48,height:6,rx:3,fill:"#54575C"})),S||(S=r.createElement("rect",{x:108,y:72,width:136,height:4,rx:2,fill:"#54575C"})),O||(O=r.createElement("rect",{x:108,y:82,width:136,height:4,rx:2,fill:"#54575C"})),B||(B=r.createElement("g",{filter:"url(#pagination-info_react_svg__filter0_d)"},r.createElement("path",{d:"M132 108a4 4 0 014-4h39a4 4 0 014 4v18a4 4 0 01-4 4h-39a4 4 0 01-4-4v-18z",fill:"#26C2D0"}),r.createElement("path",{d:"M140.861 112.273V121h1.517v-6.009h.081l2.412 5.983h1.133l2.412-5.97h.081V121h1.517v-8.727h-1.934l-2.591 6.324h-.103l-2.591-6.324h-1.934zm13.762 8.855c1.917 0 3.136-1.351 3.136-3.375 0-2.029-1.219-3.384-3.136-3.384-1.918 0-3.137 1.355-3.137 3.384 0 2.024 1.219 3.375 3.137 3.375zm.008-1.236c-1.061 0-1.581-.946-1.581-2.143 0-1.198.52-2.157 1.581-2.157 1.044 0 1.564.959 1.564 2.157 0 1.197-.52 2.143-1.564 2.143zm4.537 1.108h1.543v-3.848c0-.831.626-1.419 1.474-1.419.26 0 .584.047.716.089v-1.419a3.772 3.772 0 00-.554-.042c-.75 0-1.376.426-1.615 1.184h-.068v-1.09h-1.496V121zm7.486.128c1.526 0 2.574-.746 2.847-1.884l-1.44-.162c-.209.554-.721.844-1.385.844-.997 0-1.658-.656-1.671-1.777h4.56v-.473c0-2.297-1.381-3.307-2.992-3.307-1.875 0-3.098 1.377-3.098 3.397 0 2.054 1.206 3.362 3.179 3.362zm-1.644-4.019c.046-.835.664-1.538 1.585-1.538.886 0 1.483.648 1.491 1.538h-3.076z",fill:"#fff"}))),F||(F=r.createElement("g",{filter:"url(#pagination-info_react_svg__filter1_d)"},r.createElement("mask",{id:"pagination-info_react_svg__a",maskUnits:"userSpaceOnUse",x:149,y:127,width:16,height:19,fill:"#000"},r.createElement("path",{fill:"#fff",d:"M149 127h16v19h-16z"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M153.836 138l-.887-1.355c-.605-.925-1.895-1.262-2.881-.755l.23-.118a.571.571 0 00-.262.7l1.227 3.175c.195.504.692 1.216 1.104 1.573 0 0 2.469 2.044 2.469 2.81v.97h4l1-2 1 2h1v-.97c0-.766 1.508-3.179 1.508-3.179.278-.469.51-1.296.51-1.844v-4.035c-.018-.894-.778-1.617-1.715-1.617-.468 0-.848.362-.848.808v.324c0-.894-.759-1.618-1.696-1.618-.469 0-.849.362-.849.809v.323c0-.893-.759-1.617-1.696-1.617-.469 0-.849.362-.849.809v.323c0-.143-.015-.258-.044-.348l-.259-4.167a1.072 1.072 0 00-1.062-1.001c-.557 0-1 .448-1 1v9zm7.018-1h1v4h-1v-4zm-2 0h1v4h-1v-4zm-2 0h1v4h-1v-4z"})),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M153.836 138l-.887-1.355c-.605-.925-1.895-1.262-2.881-.755l.23-.118a.571.571 0 00-.262.7l1.227 3.175c.195.504.692 1.216 1.104 1.573 0 0 2.469 2.044 2.469 2.81v.97h4l1-2 1 2h1v-.97c0-.766 1.508-3.179 1.508-3.179.278-.469.51-1.296.51-1.844v-4.035c-.018-.894-.778-1.617-1.715-1.617-.468 0-.848.362-.848.808v.324c0-.894-.759-1.618-1.696-1.618-.469 0-.849.362-.849.809v.323c0-.893-.759-1.617-1.696-1.617-.469 0-.849.362-.849.809v.323c0-.143-.015-.258-.044-.348l-.259-4.167a1.072 1.072 0 00-1.062-1.001c-.557 0-1 .448-1 1v9zm7.018-1h1v4h-1v-4zm-2 0h1v4h-1v-4zm-2 0h1v4h-1v-4z",fill:"#fff"}),r.createElement("path",{d:"M153.836 138l-.837.548 1.837 2.806V138h-1zm-.887-1.355l.837-.547-.837.547zm-2.913-.173l-.933.361.933-.361zm1.227 3.175l.933-.36-.933.36zm1.104 1.573l-.656.755.009.008.009.008.638-.771zm2.469 3.78h-1v1h1v-1zm4 0v1h.618l.276-.553-.894-.447zm1-2l.894-.447-.894-1.789-.895 1.789.895.447zm1 2l-.895.447.277.553h.618v-1zm1 0v1h1v-1h-1zm1.508-4.149l.848.53.007-.01.006-.011-.861-.509zm.51-5.879h1v-.01l-.001-.01-.999.02zm-7.697-1.804l-.999.062.008.128.04.121.951-.311zm-.259-4.167l-.998.062.998-.062zm-2.062-.001h-1 1zm8.018 8h1v-1h-1v1zm0 4v1h1v-1h-1zm-1 0h-1v1h1v-1zm-1-4h1v-1h-1v1zm0 4v1h1v-1h-1zm-1 0h-1v1h1v-1zm-1-4h1v-1h-1v1zm0 4v1h1v-1h-1zm-1 0h-1v1h1v-1zm-2.182-3.548l-.886-1.354-1.674 1.095.887 1.355 1.673-1.096zm-.886-1.354c-.888-1.356-2.737-1.837-4.176-1.097l.915 1.778c.534-.274 1.264-.08 1.587.414l1.674-1.095zm-3.261.681l.23-.118-.915-1.779-.23.119.915 1.778zm-.685-1.897a1.573 1.573 0 00-.737 1.951l1.866-.721a.433.433 0 01.005.309.446.446 0 01-.219.24l-.915-1.779zm-.737 1.951l1.228 3.175 1.865-.721-1.227-3.175-1.866.721zm1.228 3.175c.252.654.844 1.502 1.38 1.967l1.311-1.51c-.287-.249-.689-.825-.826-1.178l-1.865.721zm2.036 1.212l-.638.771h.001l.004.004.018.015.073.062a20.246 20.246 0 011.075.979c.296.291.568.581.759.829.096.124.154.215.184.272.041.078-.007.022-.007-.122h2c0-.336-.126-.623-.22-.804a3.95 3.95 0 00-.375-.57 10.602 10.602 0 00-.939-1.031 21.892 21.892 0 00-1.182-1.077l-.083-.071-.023-.019-.007-.006-.002-.001v-.001h-.001l-.637.77zm1.469 2.81v.97h2v-.97h-2zm1 1.97h4v-2h-4v2zm4.894-.553l1-2-1.789-.894-1 2 1.789.894zm-.789-2l1 2 1.789-.894-1-2-1.789.894zm1.895 2.553h1v-2h-1v2zm2-1v-.97h-2v.97h2zm0-.97c0 .036.01-.086.156-.43.124-.293.296-.635.478-.972a25.15 25.15 0 01.663-1.151l.045-.073.011-.018.003-.004v-.001l-.848-.53-.848-.53-.001.002-.004.006-.014.023-.051.082-.177.295c-.146.246-.342.584-.539.949a14.18 14.18 0 00-.56 1.142c-.137.324-.314.791-.314 1.21h2zm1.369-2.67c.198-.334.354-.747.462-1.134.107-.387.187-.825.187-1.219h-2c0 .154-.037.403-.114.684-.078.28-.176.515-.256.65l1.721 1.019zm.649-2.353v-4.035h-2v4.035h2zm-.001-4.055c-.029-1.47-1.265-2.597-2.714-2.597v2c.426 0 .708.32.715.637l1.999-.04zm-2.714-2.597c-.975 0-1.848.765-1.848 1.808h2a.21.21 0 01-.062.152.133.133 0 01-.09.04v-2zm-1.848 1.808v.324h2v-.324h-2zm2 .324c0-1.49-1.253-2.618-2.696-2.618v2c.43 0 .696.321.696.618h2zm-2.696-2.618c-.976 0-1.849.766-1.849 1.809h2a.216.216 0 01-.061.152.131.131 0 01-.09.039v-2zm-1.849 1.809v.323h2v-.323h-2zm2 .323c0-1.49-1.252-2.617-2.696-2.617v2c.43 0 .696.321.696.617h2zm-2.696-2.617c-.976 0-1.849.765-1.849 1.809h2c0 .068-.03.122-.061.152a.136.136 0 01-.09.039v-2zm-1.849 1.809v.323h2v-.323h-2zm2 .323c0-.207-.021-.435-.094-.659l-1.901.622c-.008-.023-.008-.035-.007-.027 0 .007.002.027.002.064h2zm-.046-.41l-.259-4.167-1.996.124.258 4.167 1.997-.124zm-.259-4.167a2.072 2.072 0 00-2.06-1.939v2c.008 0 .024.003.041.019a.068.068 0 01.023.044l1.996-.124zm-2.06-1.939c-1.111 0-2 .898-2 2h2v-2zm-2 2v4h2v-4h-2zm0 4v5h2v-5h-2zm8.018 5h1v-2h-1v2zm0-1v4h2v-4h-2zm1 3h-1v2h1v-2zm0 1v-4h-2v4h2zm-3-3h1v-2h-1v2zm0-1v4h2v-4h-2zm1 3h-1v2h1v-2zm0 1v-4h-2v4h2zm-3-3h1v-2h-1v2zm0-1v4h2v-4h-2zm1 3h-1v2h1v-2zm0 1v-4h-2v4h2z",fill:"#000",fillOpacity:.8,mask:"url(#pagination-info_react_svg__a)"}))),M||(M=r.createElement("path",{fill:"url(#pagination-info_react_svg__paint1_linear)",d:"M0 0h312v64H0z"})),P||(P=r.createElement("defs",null,r.createElement("linearGradient",{id:"pagination-info_react_svg__paint0_linear",x1:156,y1:0,x2:156,y2:148,gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#3B3C41"}),r.createElement("stop",{offset:1,stopColor:"#2E2F33"})),r.createElement("linearGradient",{id:"pagination-info_react_svg__paint1_linear",x1:156,y1:0,x2:156,y2:64,gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#3B3C41"}),r.createElement("stop",{offset:1,stopColor:"#3B3C41",stopOpacity:0})),r.createElement("filter",{id:"pagination-info_react_svg__filter0_d",x:124,y:96,width:63,height:42,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},r.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),r.createElement("feOffset",null),r.createElement("feGaussianBlur",{stdDeviation:4}),r.createElement("feColorMatrix",{values:"0 0 0 0 0.149722 0 0 0 0 0.759825 0 0 0 0 0.816667 0 0 0 1 0"}),r.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow"}),r.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})),r.createElement("filter",{id:"pagination-info_react_svg__filter1_d",x:146,y:125,width:21.854,height:25,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},r.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),r.createElement("feOffset",{dy:1}),r.createElement("feGaussianBlur",{stdDeviation:1.5}),r.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),r.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow"}),r.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})))))},U=e=>{const{onFinish:t}=e;return r.createElement("div",null,r.createElement(o.DraggableHOC,{initialCoords:{left:window.innerWidth-320-15,top:15}},r.createElement(o.ScraperTooltip,{mode:"dark",variant:"tutorial-tooltip",description:"Please select a click pagination button or cancel",image:r.createElement($,null),buttons:[r.createElement(o.BardeenButton,{key:"tooltip-1",type:"secondary",mode:"dark",size:"m",onClick:e.onCancel},"Cancel")]})),r.createElement(f.h,{onClick:e=>{const n=(0,m.tS)(e);return t({type:"click",selector:n})},stopClickScript:function(e){const t=(e=e||window.event).target;return l.UIGlobals.documentHost==t}}))};var j,A;function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const T=function(e){return r.createElement("svg",I({width:"1em",height:"1em",viewBox:"0 0 320 160",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),j||(j=r.createElement("g",{clipPath:"url(#tutorial-1-step_react_svg__clip0)"},r.createElement("path",{fill:"#2E2F33",d:"M0 0h320v160H0z"}),r.createElement("rect",{x:64,y:32,width:192,height:48,rx:6,fill:"#484A4F"}),r.createElement("rect",{x:72,y:40,width:32,height:32,rx:4,fill:"#54575C"}),r.createElement("rect",{x:112,y:42,width:48,height:6,rx:3,fill:"#54575C"}),r.createElement("rect",{x:112.5,y:42.5,width:47,height:5,rx:1.5,fill:"#26C2D0",fillOpacity:.16}),r.createElement("rect",{x:112.5,y:42.5,width:47,height:5,rx:1.5,stroke:"#26C2D0"}),r.createElement("rect",{x:112,y:56,width:136,height:4,rx:2,fill:"#5F6368"}),r.createElement("rect",{x:112,y:66,width:136,height:4,rx:2,fill:"#5F6368"}),r.createElement("rect",{x:64,y:86,width:192,height:48,rx:6,fill:"#3B3C41"}),r.createElement("rect",{x:72,y:94,width:32,height:32,rx:4,fill:"#484A4F"}),r.createElement("rect",{x:112,y:96,width:48,height:6,rx:3,fill:"#54575C"}),r.createElement("rect",{x:112,y:110,width:136,height:4,rx:2,fill:"#54575C"}),r.createElement("rect",{x:112,y:120,width:136,height:4,rx:2,fill:"#54575C"}),r.createElement("rect",{x:64,y:140,width:192,height:48,rx:6,fill:"#3B3C41"}),r.createElement("rect",{x:72,y:148,width:32,height:32,rx:4,fill:"#484A4F"}),r.createElement("rect",{x:112,y:150,width:48,height:6,rx:3,fill:"#54575C"}),r.createElement("path",{fill:"url(#tutorial-1-step_react_svg__paint1_linear)",d:"M0 80h320v80H0z"}),r.createElement("g",{filter:"url(#tutorial-1-step_react_svg__filter0_d)"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M161.841 54.516l4.646-1.651L154 46l3.64 13.776 2.726-4.108 3.264 4.177 1.474-1.151-3.263-4.178z",fill:"#fff"}),r.createElement("path",{d:"M162.662 54.755l3.992-1.419 1.049-.373-.976-.536-12.486-6.865-1.022-.562.298 1.128 3.64 13.776.284 1.077.616-.928 2.342-3.53 2.837 3.63.308.394.394-.308 1.474-1.151.394-.308-.308-.394-2.836-3.631z",stroke:"#000",strokeOpacity:.8})),r.createElement("path",{d:"M89.442 51.273h-1.504l-2.169 1.393v1.45l2.041-1.305h.052V60h1.58v-8.727z",fill:"#fff"}),r.createElement("path",{opacity:.32,d:"M85.049 114h5.983v-1.321h-3.801v-.06l1.504-1.53c1.696-1.627 2.165-2.42 2.165-3.404 0-1.462-1.19-2.532-2.945-2.532-1.73 0-2.957 1.074-2.957 2.732h1.504c0-.891.563-1.449 1.432-1.449.83 0 1.449.507 1.449 1.33 0 .728-.443 1.248-1.304 2.122l-3.03 2.97V114z",fill:"#fff"}))),A||(A=r.createElement("defs",null,r.createElement("linearGradient",{id:"tutorial-1-step_react_svg__paint0_linear",x1:160,y1:0,x2:160,y2:160,gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#3B3C41"}),r.createElement("stop",{offset:1,stopColor:"#2E2F33"})),r.createElement("linearGradient",{id:"tutorial-1-step_react_svg__paint1_linear",x1:160,y1:80,x2:160,y2:160,gradientUnits:"userSpaceOnUse"},r.createElement("stop",{offset:0,stopColor:"#2E2F33",stopOpacity:0}),r.createElement("stop",{offset:1,stopColor:"#2E2F33"})),r.createElement("clipPath",{id:"tutorial-1-step_react_svg__clip0"},r.createElement("path",{fill:"#fff",d:"M0 0h320v160H0z"})),r.createElement("filter",{id:"tutorial-1-step_react_svg__filter0_d",x:149.437,y:42,width:22.483,height:24.185,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},r.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),r.createElement("feOffset",{dy:1}),r.createElement("feGaussianBlur",{stdDeviation:1.5}),r.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),r.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow"}),r.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})))))};var D,R;function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const N=function(e){return r.createElement("svg",G({width:"1em",height:"1em",viewBox:"0 0 320 160",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),D||(D=r.createElement("g",{clipPath:"url(#tutorial-2-step_react_svg__clip0)"},r.createElement("path",{fill:"#2E2F33",d:"M0 0h320v160H0z"}),r.createElement("rect",{x:64,y:140,width:192,height:48,rx:6,fill:"#3B3C41"}),r.createElement("rect",{x:72,y:148,width:32,height:32,rx:4,fill:"#484A4F"}),r.createElement("rect",{x:112,y:150,width:48,height:6,rx:3,fill:"#54575C"}),r.createElement("rect",{x:64,y:32,width:192,height:48,rx:6,fill:"#3B3C41"}),r.createElement("rect",{x:72,y:40,width:32,height:32,rx:4,fill:"#484A4F"}),r.createElement("rect",{x:112,y:42,width:48,height:6,rx:3,fill:"#484A4F"}),r.createElement("rect",{x:112.5,y:42.5,width:47,height:5,rx:1.5,fill:"#9D6DCD",fillOpacity:.16}),r.createElement("rect",{x:112.5,y:42.5,width:47,height:5,rx:1.5,stroke:"#9D6DCD"}),r.createElement("rect",{x:112,y:56,width:136,height:4,rx:2,fill:"#54575C"}),r.createElement("rect",{x:112,y:66,width:136,height:4,rx:2,fill:"#54575C"}),r.createElement("path",{fill:"url(#tutorial-2-step_react_svg__paint0_linear)",d:"M0 80h320v80H0z"}),r.createElement("rect",{x:64,y:86,width:192,height:48,rx:6,fill:"#484A4F"}),r.createElement("rect",{x:72,y:94,width:32,height:32,rx:4,fill:"#54575C"}),r.createElement("rect",{x:112,y:96,width:48,height:6,rx:3,fill:"#5F6368"}),r.createElement("rect",{x:112,y:110,width:136,height:4,rx:2,fill:"#5F6368"}),r.createElement("rect",{x:112,y:120,width:136,height:4,rx:2,fill:"#5F6368"}),r.createElement("rect",{x:112.5,y:96.5,width:47,height:5,rx:1.5,fill:"#26C2D0",fillOpacity:.16}),r.createElement("rect",{x:112.5,y:96.5,width:47,height:5,rx:1.5,stroke:"#26C2D0"}),r.createElement("g",{filter:"url(#tutorial-2-step_react_svg__filter0_d)"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M161.841 108.516l4.646-1.651L154 100l3.64 13.776 2.726-4.108 3.264 4.177 1.474-1.152-3.263-4.177z",fill:"#fff"}),r.createElement("path",{d:"M162.662 108.755l3.992-1.419 1.049-.373-.976-.536-12.486-6.865-1.022-.562.298 1.128 3.64 13.776.284 1.077.616-.928 2.342-3.531 2.837 3.631.308.394.394-.308 1.474-1.152.394-.307-.308-.394-2.836-3.631z",stroke:"#000",strokeOpacity:.8})),r.createElement("path",{d:"M89.442 51.273h-1.504l-2.169 1.393v1.45l2.041-1.305h.052V60h1.58v-8.727z",fill:"#fff",fillOpacity:.32}),r.createElement("path",{d:"M85.049 114h5.983v-1.321h-3.801v-.06l1.504-1.53c1.696-1.627 2.165-2.42 2.165-3.404 0-1.462-1.19-2.532-2.945-2.532-1.73 0-2.957 1.074-2.957 2.732h1.504c0-.891.563-1.449 1.432-1.449.83 0 1.449.507 1.449 1.33 0 .728-.443 1.248-1.304 2.122l-3.03 2.97V114z",fill:"#fff"}))),R||(R=r.createElement("defs",null,r.createElement("linearGradient",{id:"tutorial-2-step_react_svg__paint0_linear",x1:160,y1:80,x2:160,y2:160,gradientUnits:"userSpaceOnUse"},r.createElement("stop",{offset:0,stopColor:"#2E2F33",stopOpacity:0}),r.createElement("stop",{offset:1,stopColor:"#2E2F33"})),r.createElement("clipPath",{id:"tutorial-2-step_react_svg__clip0"},r.createElement("path",{fill:"#fff",d:"M0 0h320v160H0z"})),r.createElement("filter",{id:"tutorial-2-step_react_svg__filter0_d",x:149.437,y:95.999,width:22.483,height:24.185,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},r.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),r.createElement("feOffset",{dy:1}),r.createElement("feGaussianBlur",{stdDeviation:1.5}),r.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),r.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow"}),r.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})))))};var H=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function l(e){try{c(r.next(e))}catch(e){i(e)}}function o(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}c((r=r.apply(e,t||[])).next())}))};const V=(0,i.Z)((e=>({askForTableContainer:{padding:`${e.spacing(10)}px ${e.spacing(6)}px`,textAlign:"center"},askForTableBtns:{paddingTop:e.spacing(4),display:"flex",justifyContent:"center","& > :not(:first-child)":{marginLeft:e.spacing(2)}},nameInput:{background:"transparent",border:0,color:"white",fontSize:"14px",fontWeight:500,lineHeight:"20px",letterSpacing:.1,textAlign:"center",width:"100%"},title:{marginBottom:e.spacing(6)}}))),W=class extends l.UIModulePage{setup(){return H(this,void 0,void 0,(function*(){}))}mount(e){return H(this,void 0,void 0,(function*(){yield(0,c.Kg)(2e3,200),a.render(r.createElement(o.BardeenStyleProvider,null,r.createElement("div",{id:"scraper-builder"},r.createElement((()=>{const[e,t]=(0,r.useState)({__type:"scraper-selection"}),[n,a]=(0,r.useState)({container:void 0,name:"",operations:[],pagination:{type:"none"},type:"individual",url:""}),i=(0,r.useRef)(new u),h=(0,r.useRef)([]),[p,v]=(0,r.useState)(void 0),[E,y]=(0,r.useState)(),[x,b]=(0,r.useState)(!1),w=(e,t=[],r="CSS")=>H(this,void 0,void 0,(function*(){const{name:i,type:l,input:o}=e,c={type:l,name:i,input:o,selector:t,selectorType:r},s=Object.assign(Object.assign({},n),{operations:n.operations.concat(c)});yield this.controller.saveProgress(s),a(s)})),_=e=>{b(!0),e&&(n.pagination=e||{type:"none"},a(Object.assign({},n)))},C=(e,t)=>{const r=n.operations;r[t]=e,a((e=>Object.assign(Object.assign({},e),{operations:r})))},k=V();r.useEffect((()=>{this.controller.on("setScraperName",(e=>H(this,void 0,void 0,(function*(){return a((t=>Object.assign(Object.assign({},t),{name:e})))})))),this.controller.on("isMounted",(()=>H(this,void 0,void 0,(function*(){this.controller.isMounted(!0)})))),this.controller.on("setScraperModel",(e=>H(this,void 0,void 0,(function*(){t({__type:"field-selection"}),a((t=>Object.assign(Object.assign({},t),{container:e.container,name:e.name,operations:e.operations,pagination:e.pagination||{type:"none"},type:e.type,url:e.url})))})))),i.current=new u,i.current.styleScript()}),[a]),r.useEffect((()=>{i.current.styleElements(n.operations,n.container),n.container?i.current.styleContainer(n.container):h.current.length&&i.current.styleContainerPick(h.current),i.current.stylePagination(n.pagination)}),[n.operations,n.container,n.pagination,h]),r.useEffect((()=>{const e=e=>{e.target instanceof HTMLElement&&e.target===l.UIGlobals.documentHost||(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault())},t=e=>{e.stopPropagation()};return window.addEventListener("keydown",e,!0),window.addEventListener("keyup",e,!0),window.addEventListener("keypress",e,!0),l.UIGlobals.documentRoot.addEventListener("keydown",t),l.UIGlobals.documentRoot.addEventListener("keyup",t),l.UIGlobals.documentRoot.addEventListener("keypress",t),()=>{window.removeEventListener("keydown",e,!0),window.removeEventListener("keyup",e,!0),window.removeEventListener("keypress",e,!0),l.UIGlobals.documentRoot.removeEventListener("keydown",t),l.UIGlobals.documentRoot.removeEventListener("keyup",t),l.UIGlobals.documentRoot.removeEventListener("keypress",t)}}));const z=e=>!e.isTrusted||l.UIGlobals.documentHost==e.target,S=e=>Z(e,n.container),O=e=>H(this,void 0,void 0,(function*(){const n=e.element.closest("table");n&&(e=S(n),yield w({name:"table",type:"table"},(0,m.tS)(e.element)),y(e.element),a((e=>Object.assign(Object.assign({},e),{type:"table"}))),t({__type:"field-selection"}))})),B=e=>{h.current.push(e.bardeenUid),1==h.current.length&&t({__type:"second-list-item-selection"})},F=e=>H(this,void 0,void 0,(function*(){if("table"===n.type){const t={name:"table",type:"table"};yield w(t,(0,m.tS)(e.element))}else v(e.tooltipPos);y(e.element)})),M=e=>H(this,void 0,void 0,(function*(){if(e.selector.match(/> table[^\w\-]/i))return t({__type:"ask-for-table",resp:e});B(e)})),P=e=>H(this,void 0,void 0,(function*(){if(e.bardeenUid&&h.current.push(e.bardeenUid),h.current.length>=2){const e=h.current.reduce(((e,t)=>{const n=(0,c.$)("[bardeen-uid='"+t+"'");return n&&e.push(n),e}),[]),n=(0,s.U)(e);n&&(a((e=>Object.assign(Object.assign({},e),{container:n}))),t({__type:"field-selection"}))}})),L=e=>{a((t=>(t.operations.splice(e,1),Object.assign(Object.assign({},t),{operations:t.operations}))))},$=e=>{a((t=>Object.assign(Object.assign({},t),{container:e})))},j=()=>{v(void 0),delete n.container,a(Object.assign({},n)),h.current.length=0,i.current.removeAllStyles(),t({__type:"first-list-item-selection"})},A=e=>{n.pagination||(n.pagination={type:"none"}),e&&(n.pagination=e||{type:"none"},a(Object.assign({},n))),this.controller.onFinish(n)},I=()=>this.controller.cancel(),D=e=>{a((t=>Object.assign(Object.assign({},t),{type:e}))),t({__type:"choose-name"})},R=()=>{t({__type:"list"===n.type?"first-list-item-selection":"field-selection"})},G=e=>H(this,void 0,void 0,(function*(){const{type:t,name:r}=e,a=E&&(0,m.tS)(E,n.container);if(yield w(e,a),"click"===t){const e=E;e&&(0,d.S)(e)}else if("input"===t){const e=E;e&&(0,d._)(e,r)}})),W=(e,t)=>new Promise(((r,a)=>{this.controller.once("resultsToTabularDataResponse",(e=>H(this,void 0,void 0,(function*(){r(e)})))),this.controller.resultsToTabularData(n.operations,e,t).catch(a)})),q=e=>H(this,void 0,void 0,(function*(){yield w(e)})),J=(e={})=>r.createElement(r.Fragment,null,r.createElement(o.ScraperBottomBar,{model:n,disabled:!!e.paginationSelection,onFinish:()=>{"list"===n.type||a((e=>Object.assign(Object.assign({},e),{pagination:{type:"none"}}))),A()},onCancel:I,onNameChange:e=>a((t=>Object.assign(Object.assign({},t),{name:e}))),onOperationChange:C,onOperationDelete:L,onAddSpecialClass:q,onContainerSelectorChange:$,onRestartListPicking:j,style:{zIndex:2147483005},onInfiniteScrollPick:()=>_({type:"scroll"}),onClickPaginationPick:()=>t({__type:"pagination-selection"}),onClickPaginationUpdate:_,onNoPaginationPick:()=>_({type:"none"})},r.createElement(g,{model:n,resultsToTabularData:W})));switch(e.__type){case"scraper-selection":return r.createElement(o.Modal,{onCancel:I},r.createElement(o.SelectCards,{mode:"dark",onSinglePageClick:()=>D("individual"),onListClick:()=>D("list")}));case"choose-name":return r.createElement(o.Modal,{onCancel:I},r.createElement(o.NamingPaper,{modelName:n.name,onModelNameChange:e=>a((t=>Object.assign(Object.assign({},t),{name:e}))),onSave:R,mode:"dark"}));case"first-list-item-selection":return r.createElement("div",null,r.createElement(Y,{header:"Help us locate the list! (1/2)",description:"Please pick any element from the list.",image:r.createElement(T,null),info:"01 / 03"}),r.createElement(f.h,{onClick:M,collectScript:S,stopClickScript:z}));case"ask-for-table":return r.createElement(o.Modal,null,r.createElement(o.Paper,{mode:"dark"},r.createElement("div",{className:k.askForTableContainer},r.createElement(o.Title,{variant:"h2",color:"base-white",className:k.title},"This looks like a table."),r.createElement(o.Text,{color:"base-15",variant:"body"},"Do you want to try to detect all data fields automatically?"),r.createElement("div",{className:k.askForTableBtns},r.createElement(o.BardeenButton,{type:"primary",mode:"dark",onClick:()=>O(e.resp)},"Scrape as Table"),r.createElement(o.BardeenButton,{mode:"dark",onClick:()=>B(e.resp)},"Configure Manually")))));case"second-list-item-selection":return r.createElement("div",null,r.createElement(Y,{header:"Help us locate the list! (2/2)",description:"Choose any other element, of the same kind, on the list.",image:r.createElement(N,null),info:"02 / 03"}),r.createElement(f.h,{onClick:P,collectScript:S,stopClickScript:z}));case"field-selection":return r.createElement(r.Fragment,null,0===n.operations.length&&n.container&&x?r.createElement(Y,{header:"You can now select the elements to scrape information from.",description:"Choose any other element, of the same kind, on the list.",image:r.createElement(T,null),info:"03 / 03"}):null,J(),r.createElement(o.PickerModal,{tooltipPos:p,onDone:G}),r.createElement(f.h,{onClick:F,collectScript:S,stopClickScript:z}));case"pagination-selection":return r.createElement(r.Fragment,null,J({paginationSelection:!0}),r.createElement(U,{onFinish:e=>{_(e),t({__type:"field-selection"})},onCancel:()=>t({__type:"field-selection"})}))}}),null))),e)}))}unmount(e){return H(this,void 0,void 0,(function*(){a.unmountComponentAtNode(e),(new u).removeAllStyles()}))}},Y=r.memo((e=>r.createElement(o.DraggableHOC,{initialCoords:{left:window.innerWidth-320-15,top:15}},r.createElement(o.ScraperTooltip,{mode:"dark",variant:"tutorial-tooltip",info:e.info,header:e.header,description:e.description,image:e.image})))),Z=(e,t)=>{const n=(0,h.k)(),r=(0,s.O)(e,{container:t});e.setAttribute("bardeen-uid",n),e.setAttribute("data-bardeen-scraper-selector","true");const a=e.getBoundingClientRect(),i={left:a.left,top:a.top,right:a.right,bottom:a.bottom,width:a.width,height:a.height};return Array.from(document.querySelectorAll("[data-bardeen-scraper-selected]")).forEach((e=>delete e.dataset.bardeenScraperSelected)),e.dataset.bardeenScraperSelected="true",{bardeenUid:n,element:e,selector:r,selectorType:"CSS",tooltipPos:i}}}}]);