"use strict";(self.webpackChunkbardeen_browser_extension=self.webpackChunkbardeen_browser_extension||[]).push([[5111,8065],{78192:(e,t,r)=>{r.d(t,{c:()=>n,$:()=>s});const n="=";var s;!function(e){e.Annotation="[[Annotation]]",e.Group="[[Group]]",e.Internal="[[Internal]]",e.Boolean="boolean",e.Date="date",e.DateRange="date_range",e.Duration="duration",e.ExpressionOperator="expressionOperator",e.Integer="integer",e.Number="number",e.Object="object",e.String="string",e.Type="type",e.Nothing="nothing"}(s||(s={}))},50298:(e,t,r)=>{r.d(t,{a:()=>s});var n=r(15001);class s extends n.O2{}s.typeName="aux-object-group"},7163:(e,t,r)=>{r.d(t,{_:()=>o,N:()=>a});var n=r(15001),s=r(78192),i=r(13670);class o extends n.O2{constructor(){super(...arguments),this.groups={}}static createWithObjects(e,t){const r=new this(null);return t&&Object.assign(r,t),r.groups=Object.keys(e).reduce(((t,r)=>{const n=e[r];return t[r]=n.slice(),t}),{}),r}appendObjects(e,t){e in this.groups||(this.groups[e]=[]),this.groups[e].push(...t)}getGroups(){return this.groups}isEmpty(){for(const e in this.groups)if(this.groups[e].length>0)return!1;return!0}getAllObjects(){const e=new Set;for(const t in this.groups){const r=this.groups[t];for(const t of r)e.add(t)}return Array.from(e)}}function a(e,t="Children"){const r=[],n=[],s=[];for(const t of e)if("is"in t&&t.is(o)){r.push(t);const e=t.constructor;-1===n.findIndex((t=>t.isExact(e)))&&n.push(e)}else s.push(t);if(0===n.length)return o.createWithObjects({[t]:(0,i.hi)(e)});if(n.length>1){const r=[];n.forEach((t=>{const n=e.filter((e=>"isExact"in e&&e.isExact(t))),s=c(t,n);r.push(s)}));const a={Groups:r};return s.length&&(a[t]=(0,i.hi)(s)),o.createWithObjects(a)}return c(n[0],r,s.length?{[t]:(0,i.hi)(s)}:{})}function c(e,t,r){const n={};return t.forEach((e=>{const t=e.getGroups();Object.keys(t).forEach((e=>{n[e]=(n[e]||[]).concat(t[e]||[])}))})),r&&Object.keys(r).forEach((e=>{n[e]=(n[e]||[]).concat(r[e]||[])})),e.createWithObjects(n)}o.typeName=s.$.Group},71619:(e,t,r)=>{r.d(t,{k0:()=>i,hV:()=>o,on:()=>a});var n=r(78192),s=r(15001);class i extends s.cy{constructor(){super(null)}toString(){return""}valueOf(){return null}toJSON(){return this.serialize()}serialize(){return null}}i.typeName=n.$.Nothing,i.typeDesc="No value",i.Value=new i;const o=i.Value;function a(e){return e instanceof s.cy&&e.is(i)}},83907:(e,t,r)=>{r.d(t,{JM:()=>c,qC:()=>u});var n=r(72534),s=r(15001),i=r(78192),o=r(67699);class a extends n.b{}function c(...e){class t extends a{static createComposition(t,r){const n=new this(o.indexKey(this,t));return e.forEach((e=>{const s=Object.assign({},e.createWithID(t,r));delete s._id,delete s._types,delete s._relations,Object.assign(n,s)})),n}static createWithInstances(...e){e[0].getId();const t=new this(o.indexKey(this,e[0].getId()));return e.forEach((e=>{const r=Object.assign({},e);delete r._id,delete r._types,delete r._relations,Object.assign(t,r)})),t}}return t.compositeTypes=e,t.typeName=Array.from(new Set([].concat(...e.map((e=>s.cy.getTypesOf(e)))))),e.forEach((e=>{Object.getOwnPropertyNames(e.prototype).forEach((r=>{"constructor"!==r&&(t.prototype[r]=e.prototype[r])}))})),t}function u(e,...t){const r=c(...t.map((e=>e.constructor))),n={};return t.forEach((e=>{Object.getOwnPropertyNames(e).forEach((t=>{t.startsWith("_")||(n[t]=e[t])}))})),r.createComposition(e,n)}a.typeName=i.$.Internal,a.compositeTypes=[]},49875:(e,t,r)=>{r.d(t,{m:()=>i,P:()=>o}),r(15001);var n=r(72534),s=r(78192);class i extends n.b{involves(e){return e.is(this.constructor.typeA)||e.is(this.constructor.typeB)}serialize(){const e=Object.assign({},this,{a:this.a,b:this.b});return delete e._relations,e}}function o(e,t){var r;return(r=class extends i{constructor(e,t,r){super(e),Object.defineProperties(this,{a:{writable:!0,value:t},b:{writable:!0,value:r}})}static assertClassTypes(r,n){if(!r.is(e))throw new TypeError(`Mismatching types for left-side of relation. Expecting '${e.typeName}', but got '${r.constructor.typeName}'`);if(!n.is(t))throw new TypeError(`Mismatching types for right-side of relation. Expecting '${t.typeName}', but got '${n.constructor.typeName}'`)}static createBetween(e,t,r){this.assertClassTypes(e,t);const n=new this(`${this.typeName}${s.c}${e._id}~${t._id}`,e._id,t._id);return r&&Object.assign(n,r),e._relations.push(n),t._relations.push(n),n}static createFrom(e){return{to:(t,r)=>{this.assertClassTypes(e,t);const n=new this(`${e._id}~${t._id}`,e._id,t._id);return r&&Object.assign(n,r),e._relations.push(n),t._relations.push(n),n}}}static oneFrom(e){return e._relations.find((t=>t.involves(e)))||null}static allFrom(e){return e._relations.filter((t=>t.involves(e)))||null}}).typeName=[],r.typeA=e,r.typeB=t,r}i.typeName="relation",i.typeA=n.b,i.typeB=n.b},94575:(e,t,r)=>{r.d(t,{it:()=>d,Oi:()=>h,o4:()=>f});var n=r(15001),s=r(60877),i=r(77963),o=r(88721),a=r(71619),c=r(19034),u=r.n(c);const l=/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/i;function d(e){return s.v.withConfigOptions({})}function h(e){switch(e instanceof n.cy&&e.constructor,typeof e){case"number":return n.jM;case"boolean":return n.io;case"object":return null==e?a.k0:d();case"string":return function(e){return g(e)?n.jM:p(e)?n.WB:e.match(l)?o.b:i.D}(e);case"symbol":case"function":case"undefined":case"bigint":return a.k0}}function f(e){if(e instanceof n.cy)return e;switch(typeof e){case"number":return new n.jM(e);case"boolean":return new n.io(e);case"object":return null==e?a.hV:s.v.fromObject(e);case"string":return function(e){try{const t=function(e){if(!g(e))return;const t=e.replace(/[’,]/g,"");return t.includes(".")?parseFloat(t):parseInt(t)}(e);if(t)return new n.jM(t)}catch(e){}try{const r=p(t=e)?u()(t,m).toDate():void 0;if(r)return new n.WB(r)}catch(e){}var t;return e.match(l)?o.b.fromURL(e):i.D.createWithText(e)}(e);case"undefined":case"symbol":case"function":case"bigint":return a.hV}}const m=[];for(const e of["DD-MM-YYYY","MM-DD-YYYY","DD/MM/YYYY","MM/DD/YYYY"])m.push(e),m.push(`${e} hh:mm`),m.push(`${e} hh:mm:ss`);function p(e){const t=[u().ISO_8601,u().RFC_2822,...m];return u()(e,t,!0).isValid()}function g(e){return/^[\d\.’,]+$/.test(e)}},33407:(e,t,r)=>{r.d(t,{g:()=>a}),r(85562),r(31530);var n=r(62632),s=r(72534),i=r(69786),o=function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};function a(e,t){class r extends s.b{static isValidValue(e){return t.some((t=>t.value===e))}static createWithValue(t){if(!r.isValidValue(t))throw i._.from({typeName:e.typeName,value:t});return r.createWithID(t)}getValue(){return this.getId()}getDisplayDetails(){const r=this.getValue(),n=t.find((e=>e.value===r));if(!n)throw i._.from({typeName:e.typeName,value:r});return n}}return r.typeName=e.typeName,r.Annotation=class{constructor(){this.type=r}getDefaultAnnotation(){return o(this,void 0,void 0,(function*(){return{description:e.description||"An enumeration of choices",icon:e.defaultIcon}}))}getInstanceAnnotation(e){return o(this,void 0,void 0,(function*(){const t=e.getDisplayDetails();return{label:t.label||t.value,icon:t.icon}}))}getDefaultValueSuggestions(){return o(this,void 0,void 0,(function*(){return t.map((e=>r.createWithValue(e.value)))}))}},r.Renderer=class{constructor(e){this.dataTypes=[r],this.struct=n.i.Scalar,this.ctx=e}render(e){return o(this,void 0,void 0,(function*(){const t=e[0];if(!t)return null;const r=t.getDisplayDetails();return{contextIcon:r.icon,textContent:[{type:"plaintext",body:r.label||r.value}]}}))}},r}},3020:(e,t,r)=>{r.d(t,{GN:()=>n,EQ:()=>i,xw:()=>o});var n,s=r(67699);!function(e){const t=Symbol("_complete"),r=Symbol("_relationsAlias"),n=Symbol("_relationsCombination"),i=Symbol("_relationsLimit"),o=Symbol("_relationsMatch"),a=Symbol("_relationsSort"),c=Symbol("_relationsTo"),u=Symbol("_relations"),l=Symbol("_relationsSerialized"),d=Symbol("_type"),h=Symbol("_typeSerialized"),f=Symbol("_typeInstances"),m=Symbol("_typeLimit"),p=Symbol("_typeMatch"),g=Symbol("_typeIndex"),y=Symbol("_typeSort");e.PrivateFields={CompleteExpressionIndicator:t,RelationsAlias:r,RelationsCombination:n,RelationsLimitField:i,RelationsMatchField:o,RelationsSortField:a,RelationsToField:c,RelationsTypeField:u,RelationsTypeFieldSerialized:l,TypeField:d,TypeFieldSerialized:h,TypeInstancesField:f,TypeLimitField:m,TypeMatchField:p,TypeMatchIndex:g,TypeSortField:y};const v=e=>({as:n=>{const s=Object.assign(Object.assign({},e),{[r]:[n]});return Object.assign(Object.assign({},s),{to:e=>Object.assign(Object.assign({},s),{[t]:!0,[c]:[e]})})},to:r=>Object.assign(Object.assign({},e),{[t]:!0,[c]:[r]})}),w=e=>({sortBy:t=>{const r=Object.assign(Object.assign({},e),{[a]:[t]});return Object.assign(Object.assign(Object.assign({},r),v(r)),{limit:e=>{const t=Object.assign(Object.assign({},r),{[i]:[e]});return Object.assign(Object.assign({},t),v(t))}})},limit:t=>{const r=Object.assign(Object.assign({},e),{[i]:[t]});return Object.assign(Object.assign({},r),v(r))}}),b=e=>t=>{const r=s.getSerializedType(t),n=Object.assign(Object.assign({},e),{[u]:[t],[l]:[r]});return Object.assign(Object.assign(Object.assign(Object.assign({},n),v(n)),w(n)),{where:e=>{const t=Object.assign(Object.assign({},n),{[o]:[e]});return Object.assign(Object.assign(Object.assign({},t),v(t)),w(t))}})},k=(e,s)=>(...d)=>{const h=[].concat(...d.map((e=>e[r]||null))||[]),f=[].concat(...d.map((e=>e[i]||[null]))),m=[].concat(...d.map((e=>e[o]||[null]))),p=[].concat(...d.map((e=>e[a]||[null]))),g=[].concat(...d.map((e=>e[c]||[null]))),y=[].concat(...d.map((e=>e[u]||[null]))),v=[].concat(...d.map((e=>e[l]||[null]))),w=Object.assign(Object.assign({},e),{[r]:h,[n]:s,[i]:f,[o]:m,[a]:p,[c]:g,[u]:y,[l]:v});return Object.assign(Object.assign({},w),{[t]:!0})},E=e=>({relatedUsing:b(e),or:k(e,"or"),and:k(e,"and")}),x=e=>Object.assign(Object.assign({},E(e)),{sortBy:r=>{const n=Object.assign(Object.assign({},e),{[y]:r});return Object.assign(Object.assign(Object.assign(Object.assign({},n),{[t]:!0}),E(n)),{limit:e=>{const r=Object.assign(Object.assign({},n),{[m]:e});return Object.assign(Object.assign(Object.assign({},r),{[t]:!0}),E(r))}})},limit:r=>{const n=Object.assign(Object.assign({},e),{[m]:r});return Object.assign(Object.assign(Object.assign({},n),{[t]:!0}),E(n))}});e.match=function(e,r){let n=null,i=[],o=[];if(Array.isArray(e)){if(e.forEach((e=>{if("typeName"in e)throw new TypeError("You can only use IDObject instances when using object arrays as arguments");if(n){if(!e.is(n))throw new TypeError(`Only an array of same-type objects (${n.typeName}) can be used as arguments`)}else n=e.constructor;i.push(e._id),o.push(e)})),!n)throw new TypeError("When using object array expression you must include at least one object")}else"typeName"in e?(n=e,null!=r&&(i=Array.isArray(r)?r.map((t=>s.indexKey(e,t))):[s.indexKey(e,r)])):(n=e.constructor,i=[e._id],o=[e]);const a={[d]:n,[h]:s.getSerializedType(n),[g]:i,[f]:o};return Object.assign(Object.assign(Object.assign(Object.assign({},a),{[t]:!0}),x(a)),{where:e=>{const r=Object.assign(Object.assign({},a),{[p]:e});return Object.assign(Object.assign(Object.assign({},r),{[t]:!0}),x(r))}})},e.relatedUsing=b({})}(n||(n={}));const i=n.match,o=n.relatedUsing},74701:(e,t,r)=>{r.d(t,{t:()=>v});var n=r(3020);r(72534);const{CompleteExpressionIndicator:s,RelationsAlias:i,RelationsCombination:o,RelationsLimitField:a,RelationsMatchField:c,RelationsSortField:u,RelationsToField:l,RelationsTypeFieldSerialized:d,TypeFieldSerialized:h,TypeInstancesField:f,TypeLimitField:m,TypeMatchField:p,TypeMatchIndex:g,TypeSortField:y}=n.GN.PrivateFields,v=new class{deserialize(e){const t={};for(const r in e){const n=e[r];t[r]={[s]:n.complete,[i]:n.relationsAlias,[o]:n.relationsCombination,[a]:n.relationsLimit,[c]:n.relationsMatch,[u]:n.relationsSort,[l]:n.relationsTo,[d]:n.relations,[h]:n.type,[f]:n.typeInstances,[m]:n.typeLimit,[p]:n.typeMatch,[g]:n.typeIndex,[y]:n.typeSort}}return t}serialize(e){const t={};for(const r in e){if("function"==typeof e[r])continue;const n=e[r];t[r]={complete:n[s],relationsAlias:n[i],relationsCombination:n[o],relationsLimit:n[a],relationsMatch:n[c],relationsSort:n[u],relationsTo:n[l],relations:n[d],type:n[h],typeInstances:n[f],typeLimit:n[m],typeMatch:n[p],typeIndex:n[g],typeSort:n[y]}}return t}}},70538:(e,t,r)=>{r.d(t,{N:()=>n}),r(58686);class n{constructor(){this.callStack=[],this.callStack=[]}addSyncTarget(e){const t=new n;return t.callStack=this.callStack.concat(e.id),t}includesSyncTarget(e){return this.callStack.includes(e.id)}serialize(){return this.callStack}static deserialize(e){const t=new n;return t.callStack=e,t}}},46065:(e,t,r)=>{r.d(t,{N:()=>n.N});var n=r(70538)},1073:(e,t,r)=>{r.d(t,{GN:()=>n.GN,EQ:()=>n.EQ,xw:()=>n.xw,t6:()=>s.t,N$:()=>i.N});var n=r(3020),s=r(74701),i=r(46065)},60917:(e,t,r)=>{r.d(t,{_:()=>n});const n=(0,r(63659).n)({clientErrorCode:"NotInDEnumError",message:"Invalid enum value.",userHint:"You tried to create an enum with a non-accepted value.",trackError:"default",arguments:[]})},69786:(e,t,r)=>{r.d(t,{H:()=>n.H,_:()=>s._});var n=r(77351),s=r(60917)},92537:(e,t,r)=>{r.d(t,{h:()=>g});var n=r(15001),s=r(49275),i=r(50379),o=r(87992),a=r(61034),c=r(22313),u=r(71),l=r(46163),d=r(73281),h=r(72534),f=r(54392),m=r(69274),p=r(71619);const g=[n.io,n.WB,n.wX,n.JT,n.jn,n.t_,n.cy,n.jM,n.O2,n.qY,h.b,p.k0,s.ky,s.zi,s.kU,s.lr,s.DV,s.b9,i.A,i.t,i.I$,i.EA,i.Tv,i.n5,i.l9,a.EH,a.LY,c.KO,c.Oy,c.KI,c.Tv,u.z_,u.pV,u.ni,c.Oy,c.oW,c.N9,c.Q3,c.wc,c.zh,c.$H,c.zW,o.x,o.n,l.UT,l.u5,l.Rz,l.AY,m.z,m.a,d.Qg,d.vw,d.b,d.jB,d.Ow,d.Ak,d.Zr,f.VJ,f.eU,f.ei,f.wH]},74887:(e,t,r)=>{r.d(t,{k:()=>i});var n=r(72534),s=r(50881);class i extends n.b{static requireMime(e){const t=Array.isArray(e)?e:[e];return e=>{if(!("mimeType"in e))return!1;const r=String(e.mimeType);return!!t.some((e=>{if(e.endsWith("/")){if(r.startsWith(e))return!0}else if(r===e)return!0;return!1}))}}getBuffer(e){return Promise.reject(s.zk.from({originalError:"Base IDBlob has no means for yielding a buffer",component:"IDBlob"}))}}i.typeName="blob"},35068:(e,t,r)=>{r.d(t,{z:()=>o});var n=r(10204),s=r.n(n),i=r(74887);r(72534);class o extends i.k{static createWithBuffer(e,t,r){const n=s().buf(new Uint8Array(e)).toString(16).padStart(8,"0");return o.createWithID(n,Object.assign(Object.assign({},r),{mimeType:t||"text/plain",buffer:e}))}getBuffer(e){return Promise.resolve(this.buffer)}serialize(){const e=super.serialize();return e.buffer=new Uint8Array(this.buffer),e}}o.typeName="blob.buffered"},32906:(e,t,r)=>{r.d(t,{k:()=>i});var n=r(74887),s=r(50881);class i extends n.k{getBuffer(e){var t;return e.network.fetch(this.url,{method:this.method,headers:this.headers,signal:null===(t=e.prog)||void 0===t?void 0:t.getAbortSignal()}).then((e=>e.ok?e.arrayBuffer():Promise.reject(s.GF.from({originalError:e.statusText,httpStatus:e.status,url:this.url}))))}serialize(){const e=super.serialize();return e.url=this.url,e.headers=this.headers,e.method=this.method,e}}i.typeName="blob.http"},59803:(e,t,r)=>{r.d(t,{l:()=>s});var n=r(74887);class s extends n.k{getBuffer(e){return this.provider.getBuffer(e)}serialize(){throw new TypeError("A provided IDBlob cannot be serialized")}}s.typeName="blob.provided"},66204:(e,t,r)=>{r.d(t,{g:()=>l});var n=r(10204),s=r.n(n),i=r(74887),o=(r(72534),r(81560)),a=r(53913),c=r(73971),u=r(28265);class l extends i.k{static createWithAst(e,t,r){const n=(new u.p).encode(JSON.stringify(e)),i=s().buf(new Uint8Array(n)).toString(16).padStart(8,"0");return l.createWithID(i,Object.assign(Object.assign({},r),{mimeType:t,ast:e}))}static createWithText(e,t,r){let n;switch(t){case"text/plain":n=o.ContentState.createFromText(e);break;case"text/html":n=(0,c.h4)(e);break;case"text/markdown":{const n=(0,a.F)(e);return this.createWithAst(n,t,r)}}return this.createWithAst((0,o.convertToRaw)(n),t,r)}getBuffer(e){return Promise.resolve((new u.p).encode(this.toRichString(this.mimeType)))}toString(){return this.toRichString("text/plain")}toRichString(e){const t=(0,o.convertFromRaw)(this.ast);switch(e){case"text/html":return(0,c.cn)(t);case"text/markdown":return(0,a.I)(this.ast);case"text/plain":return t.getPlainText()}}serialize(){const e=super.serialize();return e.ast=this.ast,e}}l.typeName="blob.richtext"},77963:(e,t,r)=>{r.d(t,{D:()=>a});var n=r(10204),s=r.n(n),i=r(74887),o=r(28265);r(72534);class a extends i.k{static createWithText(e,t,r){const n=(new o.p).encode(e),i=s().buf(new Uint8Array(n)).toString(16).padStart(8,"0");return a.createWithID(i,Object.assign(Object.assign({},r),{mimeType:t||"text/plain",text:e}))}getBuffer(e){return Promise.resolve((new o.p).encode(this.text))}toString(){return this.text}serialize(){const e=super.serialize();return e.text=this.text,e}}a.typeName="blob.text"},88721:(e,t,r)=>{r.d(t,{b:()=>s});var n=r(77963);class s extends n.D{static fromURL(e,t){const r=e.toString();return this.createWithID(r,Object.assign(Object.assign({},t),{mimeType:"text/x-url",text:r}))}}s.typeName="link"},49275:(e,t,r)=>{r.d(t,{ky:()=>n.k,zi:()=>s.z,kU:()=>i.k,lr:()=>o.l,DV:()=>a.D,g2:()=>c.g,b9:()=>u.b});var n=r(74887),s=r(35068),i=r(32906),o=r(59803),a=r(77963),c=r(66204),u=r(88721)},62835:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(72534);class s extends n.b{}s.typeName="email"},70158:(e,t,r)=>{r.d(t,{t:()=>s});var n=r(72524);class s extends n.u{constructor(){super(...arguments),this.doNotReply=!1,this.mailingList=!1}}s.typeName="emailaddress",s.typeDesc="An e-mail address"},41023:(e,t,r)=>{r.d(t,{I:()=>s});var n=r(22313);class s extends n.KO{}s.typeName="email.attachment"},99595:(e,t,r)=>{r.d(t,{E:()=>s});var n=r(72534);class s extends n.b{toString(){return this.name}}s.typeName="email.label"},50379:(e,t,r)=>{r.d(t,{A:()=>n.A,t:()=>s.t,EA:()=>i.E,I$:()=>o.I,Tv:()=>a.Tv,yz:()=>a.yz,n5:()=>a.n5,l9:()=>a.l9});var n=r(62835),s=r(70158),i=r(99595),o=r(41023),a=r(86709)},7577:(e,t,r)=>{r.d(t,{Tv:()=>o,yz:()=>a});var n=r(49875),s=r(62835),i=r(70158);class o extends((0,n.P)(s.A,i.t)){}o.typeName="email-address";const a=Object.keys({from:"From",cc:"Cc",bcc:"Bcc",to:"To"})},90341:(e,t,r)=>{r.d(t,{n:()=>o});var n=r(49875),s=r(62835),i=r(41023);class o extends((0,n.P)(s.A,i.I)){}o.typeName="email-attachment"},11468:(e,t,r)=>{r.d(t,{l:()=>o});var n=r(49875),s=r(62835),i=r(99595);class o extends((0,n.P)(s.A,i.E)){}o.typeName="email-label"},86709:(e,t,r)=>{r.d(t,{Tv:()=>n.Tv,yz:()=>n.yz,n5:()=>s.n,l9:()=>i.l});var n=r(7577),s=r(90341),i=r(11468)},87554:(e,t,r)=>{r.d(t,{k:()=>s});var n=r(15001);r(34894);class s extends n.O2{}s.typeName="dgenericeventstatus"},61034:(e,t,r)=>{r.d(t,{EH:()=>n.E,PI:()=>n.P,ko:()=>s.k,LY:()=>i.L});var n=r(34894),s=r(87554),i=r(34044)},20180:(e,t,r)=>{r.d(t,{L:()=>o});var n=r(49875),s=r(46163),i=r(34894);class o extends((0,n.P)(i.E,s.u5)){}o.typeName="event-participant"},34044:(e,t,r)=>{r.d(t,{L:()=>n.L});var n=r(20180)},55588:(e,t,r)=>{r.d(t,{N:()=>s});var n=r(72534);r(71);class s extends n.b{}s.typeName="fsnode"},2214:(e,t,r)=>{r.d(t,{K:()=>o});var n=r(83907),s=r(49275),i=r(55588);class o extends((0,n.JM)(s.ky,i.N)){}o.typeName="idfile"},28186:(e,t,r)=>{r.d(t,{O:()=>o});var n=r(83907),s=r(49275),i=r(55588);class o extends((0,n.JM)(s.zi,i.N)){}o.typeName="file.buffered"},27522:(e,t,r)=>{r.d(t,{K:()=>o});var n=r(83907),s=r(49275),i=r(55588);class o extends((0,n.JM)(s.kU,i.N)){}o.typeName="file.http"},28353:(e,t,r)=>{r.d(t,{T:()=>o});var n=r(83907),s=r(49275),i=r(55588);class o extends((0,n.JM)(s.DV,i.N)){}o.typeName="file.text"},81676:(e,t,r)=>{r.d(t,{o:()=>s});var n=r(72534);class s extends n.b{}s.typeName="file_user"},33867:(e,t,r)=>{r.d(t,{Q:()=>s});var n=r(27522);class s extends n.K{}s.typeName="file.media.http"},22313:(e,t,r)=>{r.d(t,{ni:()=>n.ni,z_:()=>n.z_,pV:()=>n.pV,HV:()=>n.HV,KO:()=>s.K,Oy:()=>i.O,KI:()=>o.K,Tv:()=>a.T,oW:()=>c.o,N9:()=>u.N,Q3:()=>l.Q,wc:()=>d.wc,zh:()=>d.zh,$H:()=>d.$H,zW:()=>d.zW});var n=r(71),s=r(2214),i=r(28186),o=r(27522),a=r(28353),c=r(81676),u=r(55588),l=r(33867),d=r(55096)},70836:(e,t,r)=>{r.d(t,{w:()=>i});var n=r(49875),s=r(55588);class i extends((0,n.P)(s.N,s.N)){}i.typeName="file-child"},45436:(e,t,r)=>{r.d(t,{z:()=>o});var n=r(49875),s=r(81676),i=r(55588);class o extends((0,n.P)(i.N,s.o)){constructor(){super(...arguments),this.canWrite=!0,this.canCreate=!0,this.canDelete=!0}}o.typeName="file-collaborator"},1780:(e,t,r)=>{r.d(t,{$:()=>o});var n=r(49875),s=r(81676),i=r(55588);class o extends((0,n.P)(i.N,s.o)){}o.typeName="file-creator"},13774:(e,t,r)=>{r.d(t,{z:()=>o});var n=r(49875),s=r(81676),i=r(55588);class o extends((0,n.P)(i.N,s.o)){}o.typeName="file-user"},55096:(e,t,r)=>{r.d(t,{wc:()=>n.w,zh:()=>s.z,zW:()=>i.z,$H:()=>o.$});var n=r(70836),s=r(45436),i=r(13774),o=r(1780)},2355:(e,t,r)=>{r.d(t,{ky:()=>n.ky,zi:()=>n.zi,kU:()=>n.kU,lr:()=>n.lr,g2:()=>n.g2,DV:()=>n.DV,b9:()=>n.b9,Tv:()=>s.Tv,yz:()=>s.yz,n5:()=>s.n5,l9:()=>s.l9,A:()=>s.A,t:()=>s.t,I$:()=>s.I$,EA:()=>s.EA,ko:()=>i.ko,LY:()=>i.LY,PI:()=>i.PI,EH:()=>i.EH,ni:()=>o.ni,z_:()=>o.z_,pV:()=>o.pV,wc:()=>o.wc,zh:()=>o.zh,$H:()=>o.$H,zW:()=>o.zW,N9:()=>o.N9,KO:()=>o.KO,Oy:()=>o.Oy,KI:()=>o.KI,jp:()=>o.Tv,oW:()=>o.oW,Q3:()=>o.Q3,HV:()=>o.HV,xv:()=>a.x,nJ:()=>a.n,UT:()=>c.UT,u5:()=>c.u5,Rz:()=>c.Rz,AY:()=>c.AY,aZ:()=>u.a,a:()=>u.z,Zr:()=>l.Zr,Qg:()=>l.Qg,n2:()=>l.n2,vw:()=>l.vw,Ak:()=>l.Ak,b:()=>l.b,jB:()=>l.jB,Ow:()=>l.Ow,As:()=>l.As,q0:()=>l.q0,VJ:()=>d.VJ,eU:()=>d.eU,wH:()=>d.wH,ei:()=>d.ei,hB:()=>h.h});var n=r(49275),s=r(50379),i=r(61034),o=r(22313),a=r(87992),c=r(46163),u=r(69274),l=r(73281),d=r(54392),h=r(92537)},27009:(e,t,r)=>{r.d(t,{x:()=>s});var n=r(15001);class s extends n.O2{}s.typeName="action"},27093:(e,t,r)=>{r.d(t,{n:()=>n});const n=(0,r(33407).g)({typeName:"bardeen.partition.strategy",description:"Selects how to process the condition expression and how to invoke the truthy / falsy branches"},[{value:"some",label:"Run YES if at least one item matches the condition"},{value:"every",label:"Run YES if all items match the condition"},{value:"partition",label:"Run both YES and NO, with the respective portion of items"}])},87992:(e,t,r)=>{r.d(t,{x:()=>n.x,n:()=>s.n});var n=r(27009),s=r(27093)},58750:(e,t,r)=>{r.d(t,{U:()=>s});var n=r(72534);class s extends n.b{}s.typeName="person"},72524:(e,t,r)=>{r.d(t,{u:()=>s});var n=r(72534);class s extends n.b{}s.typeName="personid"},20734:(e,t,r)=>{r.d(t,{R:()=>a});var n=r(73880),s=r.n(n),i=r(72524),o=r(94834);class a extends i.u{static createParsingPhoneNumber(e,t){return r=this,n=void 0,c=function*(){const r=t||(yield(0,o.g)()),n=new(s())(e,r);let i="",c="";return n.isValid()&&(i=n.getRegionCode(),c=n.getNumber("international")),a.createWithID(e,{country:i,international:c,raw:e})},new((i=void 0)||(i=Promise))((function(e,t){function s(e){try{a(c.next(e))}catch(e){t(e)}}function o(e){try{a(c.throw(e))}catch(e){t(e)}}function a(t){var r;t.done?e(t.value):(r=t.value,r instanceof i?r:new i((function(e){e(r)}))).then(s,o)}a((c=c.apply(r,n||[])).next())}));var r,n,i,c}toString(){return this.international?this.international:this.raw}}a.typeName="phone"},46163:(e,t,r)=>{r.d(t,{UT:()=>n.U,u5:()=>s.u,Rz:()=>i.R,AY:()=>o.A});var n=r(58750),s=r(72524),i=r(20734),o=r(90865)},81184:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(49875),s=r(58750),i=r(72524);class o extends((0,n.P)(s.U,i.u)){}o.typeName="identifiedby"},90865:(e,t,r)=>{r.d(t,{A:()=>n.A});var n=r(81184)},14507:(e,t,r)=>{r.d(t,{a:()=>s});var n=r(15001);class s extends n.O2{}s.typeName="core.numidex"},86787:(e,t,r)=>{r.d(t,{a:()=>s});var n=r(15001);class s extends n.O2{}s.typeName="core.sortorder"},69274:(e,t,r)=>{r.d(t,{z:()=>n.a,a:()=>s.a});var n=r(86787),s=r(14507)},66743:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(60877),s=r(55795),i=r(34833);class o extends n.v{constructor(){super(...arguments),this.rootArray=!0}static fromJSON(e){const t=i.b.fromPrimitiveObjects(e);return Array.isArray(e)?o.create({data:e.map((e=>s.A.fromObjectWithSchema(e,t))),rootArray:!0,schema:t}):o.create({data:[s.A.fromObjectWithSchema(e,t)],rootArray:!1,schema:t})}static fromTabularData(e){return o.create({data:e.data,schema:e.schema,rootArray:!1})}toJSON(){return this.data.length?this.data.length>1?this.data.map((e=>a(e))):1===this.data.length?a(this.data[0]):void 0:null}}function a(e){const t={};if(e.records)for(const r in e.records){const n=e.records[r];void 0!==n&&(t[r]=n)}return t}o.typeName="core.data.json"},7717:(e,t,r)=>{r.d(t,{Qg:()=>p,q0:()=>g});var n,s=r(72739),i=r(62632),o=r(30577),a=r(15001),c=r(60877),u=r(55795),l=r(34833),d=r(75580),h=r(77963),f=r(21519),m=function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};!function(e){e[e.Permutate=0]="Permutate",e[e.StringJoin=1]="StringJoin"}(n||(n={}));class p extends a.O2{static withSchema(e,t){return p.withConfigOptions({fields:e.fields.map((e=>({editable:e.editable,name:e.name,title:e.title||e.name,type:e.type}))),displayInfo:t})}static createWithPassthruTable(e){var t;return p.create({fields:((null===(t=e.schema)||void 0===t?void 0:t.fields)||[]).map((e=>({name:e.name,title:e.name,type:e.type}))),passthru:(0,s.S)(e)})}evaluate(e,t){var r;return m(this,void 0,void 0,(function*(){const s=yield e.requestFeature("bardeen.compiler"),a=yield e.requestFeature("bardeen.types.inspect");if(null!=this.passthru){const e=f.G.unify(yield s.evaluateAst(this.passthru,t)),[r,n]=o.B.partition(e,(e=>e.value.is(c.v)));return o.B.flatten(r).filter((e=>!o.B.isNothing(e))).map((e=>e.value))}const p=l.b.create({fields:this.fields.map((e=>d.j.create({editable:e.editable,name:e.name,title:e.title,type:e.type})))}),g=this.fields.map((e=>e.name)),y=(yield Promise.all(this.fields.map((e=>m(this,void 0,void 0,(function*(){return e.ast?f.G.unify(yield s.evaluateAst(e.ast,t)):o.B.nothing()}))))),null!==(r=this.composeStrategy)&&void 0!==r?r:n.StringJoin),v={};let w={};for(const e of this.fields){const r=e.ast?f.G.unify(yield s.evaluateAst(e.ast,t)):o.B.nothing();v[e.name]=r,w[e.name]=i.i.Scalar}y===n.StringJoin&&(w=function(e){let t=!0;const r=Object.keys(e);if(0===r.length)return{};const n={};for(const s of r){let a=!1;for(const t of r){if(s===t)continue;const r=e[s],n=e[t];o.B.isBlanaced(r,n)&&(a=!0)}a?(n[s]=i.i.Scalar,t=!1):n[s]=i.i.Array}return t&&(n[r[0]]=i.i.Scalar),n}(v));const b=[],k=o.B.unpack(v,w,{unpackNothing:!0});for(const e of k){const t={};for(const r of g){const n=e.values[r];if(o.B.isNothing(n))continue;const s=o.B.flatten(n).filter((e=>!o.B.isNothing(e))).map((e=>e.value));if(s.length>1){const e=yield Promise.all(s.map((e=>a.getStringFromValue(e))));t[r]=h.D.createWithText(e.join(", "))}else 1===s.length&&(t[r]=s[0])}b.push(u.A.create({records:t}))}return[c.v.create({schema:p,data:b})]}))}}function g(e){const t=e.getConfigOptions({fields:[]}),r=t.fields.slice();if(e instanceof p){const t=e.fields;for(const e of t){const t=r.findIndex((t=>t.name===e.name));-1!==t?r.splice(t,1,e):r.push(e)}}return{fields:r,displayInfo:t.displayInfo}}p.typeName="tabular.mapped"},64306:(e,t,r)=>{r.d(t,{n:()=>s});var n=r(15001);class s extends n.O2{}s.typeName="core.table.primitive"},60877:(e,t,r)=>{r.d(t,{v:()=>d});var n=r(15001),s=r(64306),i=r(55795),o=r(34833),a=r(75580),c=r(30577),u=r(62632),l=function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};class d extends n.O2{static reflectSchemaFields(e,t){return l(this,void 0,void 0,(function*(){const r=yield e.getCommandArgumentValue(t,d);if(r[0]&&r[0].schema)return r[0].schema.fields;const n=yield e.getCommandArgumentTypes(t);if(n[0]){const e=n[0].getConfigOptions();if(e)return e.schema.fields.map((e=>{const{_types:t}=e,r=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]])}return r}(e,["_types"]);return a.j.create(r)}))}return[]}))}static fromObject(e){const t=o.b.fromPrimitiveObjects(e);return d.create({schema:t,data:[i.A.fromObjectWithSchema(e,t)]})}static fromObjects(e){const t=o.b.fromPrimitiveObjects(e);return d.create({schema:t,data:e.map((e=>i.A.fromObjectWithSchema(e,t)))})}static withSchema(e,t){var r;const n=0===e.fields.length;return d.withConfigOptions({schema:e,editable:null!==(r=null==t?void 0:t.editable)&&void 0!==r?r:n,sourceIcon:null==t?void 0:t.sourceIcon,sourceName:null==t?void 0:t.sourceName})}exportPrimitiveTable(e){return l(this,void 0,void 0,(function*(){const t=[];for(const r of this.data){if(null==r.records)continue;const n={};for(const t in r.records)n[t]=yield e.getStringFromValue(r.records[t]);t.push({id:r.id,records:n})}return s.n.create({data:t,schema:this.schema})}))}static applyMapping(e,t){var r;const n=null===(r=null==e?void 0:e.schema)||void 0===r?void 0:r.fields.reduce(((e,r)=>{var n;const s=t.find((e=>e.original===r.name));return s?e.concat(a.j.create({name:s.renamed,editable:r.editable,title:null!==(n=r.title)&&void 0!==n?n:r.name,type:r.type})):e}),[]),s=null==e?void 0:e.data.map((e=>{const r={};for(const n in e.records){const s=t.find((e=>e.original===n)),i=e.records[n];null!=i&&s&&(r[s.renamed]=i)}return i.A.create({id:e.id,records:r})}),[]);return d.create({data:s,schema:n?o.b.create({fields:n}):void 0})}static composeTable(e,t){const r=Object.keys(e),n=Object.fromEntries(r.map((e=>[e,u.i.Scalar]))),s=c.B.unpack(e,n,{unpackNothing:!0}),o=[];for(const e of s){let t=!0;const n={};for(const s of r){const r=e.values[s];if(c.B.isNothing(r))continue;const i=c.B.flatten(r).filter((e=>!c.B.isNothing(e))).map((e=>e.value));0!==i.length&&(t=!1),n[s]=i[0]}t||o.push({path:e.path,records:n})}const a=new Map,l=[];for(const e of o){const r=e.path.slice(0,e.path.length-1),n=c.B.pathKey(r);let s=a.get(n);s||(s=d.create({data:[],schema:t}),a.set(n,s),l.push({path:0===r.length?[{kind:c.Q.Kind.Leaf}]:r,value:c.B.leaf(s)})),s.data.push(i.A.create({records:e.records}))}return c.B.pack(l)}}d.typeName="tabular-data"},4231:(e,t,r)=>{r.d(t,{O:()=>s});var n=r(72534);r(34833);class s extends n.b{}s.typeName="table-meta"},73281:(e,t,r)=>{r.d(t,{Zr:()=>n.Z,vw:()=>s.v,b:()=>i.b,jB:()=>o.j,As:()=>o.A,Ow:()=>a.O,Ak:()=>c.A,Qg:()=>u.Qg,q0:()=>u.q0,n2:()=>l.n});var n=r(66743),s=r(60877),i=r(34833),o=r(75580),a=r(4231),c=r(55795),u=r(7717),l=r(64306)},99705:(e,t,r)=>{r.d(t,{V:()=>s});var n=r(15001);class s extends n.O2{static fromDate(e){const t=new Date(e);return s.create({day:t.getDate(),month:t.getMonth(),year:t.getFullYear()})}toDate(){return new Date(this.year,this.month,this.day,0,0,0,0)}}s.typeName="builtin.date-only"},82339:(e,t,r)=>{r.d(t,{w:()=>s});var n=r(15001);class s extends n.O2{}s.typeName="recurrence.stop",s.typeDesc="when to stop a recurring event"},81020:(e,t,r)=>{r.d(t,{e:()=>s});var n=r(15001);class s extends n.O2{static fromDate(e){const t=new Date(e);return s.create({hours:t.getHours(),minutes:t.getMinutes(),seconds:t.getSeconds(),ms:t.getMilliseconds(),tz:t.getTimezoneOffset()})}toDate(){const e=new Date;return new Date(e.getFullYear(),e.getMonth(),e.getDate(),this.hours,this.minutes,this.seconds,this.ms)}}s.typeName="builtin.time-only"},54392:(e,t,r)=>{r.d(t,{VJ:()=>n.V,eU:()=>s.e,wH:()=>i.w,ei:()=>o.e});var n=r(99705),s=r(52938),i=r(82339),o=r(81020)},325:(e,t,r)=>{r.d(t,{o:()=>l});var n=r(4614),s=r(71619),i=r(15001),o=r(77963),a=r(88721),c=r(70158),u=r(60877);function l(e){switch(e){case"boolean":return i.io;case"date":return i.WB;case"number":return i.jM;case"object":return u.v;case"string":return o.D;case"url":return a.b;case"email":return c.t;case"phone":return n.Rz}return s.k0}r(75580)},59343:(e,t,r)=>{r.d(t,{b:()=>o}),r(81283);var n=r(7717),s=r(60877),i=function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};function o(e,t,r){return i(this,void 0,void 0,(function*(){if(Array.isArray(e)){const o=yield Promise.all(e.map((e=>i(this,void 0,void 0,(function*(){return e.is(s.v)?[e]:e.is(n.Qg)?e.evaluate(t,r):[]})))));return[].concat(...o)}return e.is(s.v)?[e]:e.is(n.Qg)?yield e.evaluate(t,r):[]}))}},67699:(e,t,r)=>{r.r(t),r.d(t,{getTypesOf:()=>i,getDescriptionOf:()=>o,getSerializedType:()=>a,getSerializedRelationType:()=>c,stringifyTypeName:()=>u,indexKey:()=>l,indexKeyByType:()=>d,idFromKey:()=>h,is:()=>f,isExact:()=>m,isSubtypeOf:()=>g,getTypeHash:()=>v});var n=r(15001),s=r(78192);function i(e){if(e.hasOwnProperty("typeFacets"))return e.typeFacets;if(Array.isArray(e))return[].concat(...e.map((e=>i(e))));if(e.hasOwnProperty("_typeCache"))return e._typeCache;const t=new Set;if(!e.hasOwnProperty("typeName"))throw new TypeError(`Type '${e.name}' did not define a static property .typeName`);return e.typeName!==s.$.Internal&&(e.typeName===s.$.Annotation?[]:Array.isArray(e.typeName)?e.typeName:[e.typeName]).concat(i(Object.getPrototypeOf(e))).forEach((e=>{t.add(e)})),e._typeCache=Array.from(t),e._typeCache.sort(),e._typeCache}function o(e){if(Array.isArray(e))return e[0]?o(e[0]):"";let t=e,r=t.typeDesc||t.typeName;for(;t!==n.cy;)t.hasOwnProperty("typeDesc")&&(r=t.typeDesc),t=Object.getPrototypeOf(t);return r}function a(e){return"typeFacets"in e?e:"typeA"in e&&"typeB"in e?c(e):{typeName:e.typeName,typeFacets:i(e)}}function c(e){return"typeFacets"in e?e:{typeName:e.typeName,typeA:a(e.typeA),typeB:a(e.typeB),typeFacets:i(e)}}function u(e){return"string"==typeof e?e:e.join("+")}function l(e,t){return y(e.typeName,t)}function d(e,t){return y(e.typeName,t)}function h(e){const t=e.indexOf(s.c);if(-1===t)throw new TypeError(`Encountered an invalid indexing key '${e}': Missing '${s.c}' separator`);return e.substr(t+1)}function f(e,t){const r=p(e);return p(t).every((e=>-1!==r.indexOf(e)))}function m(e,t){const r=p(e),n=p(t);return r.length===n.length&&n.every((e=>-1!==r.indexOf(e)))}function p(e){return e?Array.isArray(e)?e:"typeFacets"in e?e.typeFacets:i(e):[]}function g(e,t){const r=i(e);return i(t).every((e=>-1!==r.indexOf(e)))}function y(e,t){return`${u(e)}${s.c}${t}`}function v(e){const t=Array.isArray(e)?e:[e],r=[].concat(...t.map((e=>i(e)))),n=Array.from(new Set(r));return n.sort(),n.join(",")}},68461:(e,t,r)=>{r.d(t,{pM:()=>n,Og:()=>s.O,oJ:()=>i.o,bs:()=>o.b});var n=r(67699),s=r(38403),i=r(325),o=r(59343)},49353:(e,t,r)=>{r.d(t,{yj:()=>o,YY:()=>a,pY:()=>u,Yf:()=>l,XQ:()=>d,nw:()=>p});var n=r(24678),s=r(42868),i=r(91046);r(31429);const o="Oops, you found an opportunity for us to improve this app. We're investigating – please retry.";class a extends Error{constructor(e,t,r){super(e.clientErrorCode),Object.setPrototypeOf(this,a.prototype),this.clientErrorCode=e.clientErrorCode,this.message=e.message||"Unspecified message",this.trackError=t,this.clientErrorHistory=r;const n=r.find((e=>null!=e.stack));n&&(this.stack=n.stack)}static from(e,t){var r;const o=e.userHint?function(e,t){try{return s.Z.render(e,t)}catch(r){const s={clientErrorCode:"MustacheError",message:"Mustache template rendering failed.",trackError:!0,clientErrorHistory:[{clientErrorCode:"",message:"",clientErrorDetails:{originalError:r,template:e,data:JSON.stringify(t)},userHint:void 0,stack:void 0}]};return n.Tb(s),e}}(e.userHint,t):void 0,l=(d=null==t?void 0:t.originalError,(0,i.Je)(d)?d:u.from({originalError:d}));var d;const h=c(e,l),f=null!==(r=null==l?void 0:l.clientErrorHistory.slice())&&void 0!==r?r:[];t&&(delete t.originalError,0===Object.keys(t).length&&(t=void 0));const m={clientErrorCode:e.clientErrorCode,clientErrorDetails:t,message:e.message,stack:void 0,userHint:o},p=new a(e,h,f);return f.find((e=>null!=e.stack))||(m.stack=p.stack),f.unshift(m),p}static fromSerialized(e){const t={clientErrorCode:e.clientErrorCode,message:e.message,trackError:e.trackError,userHint:e.userHint,arguments:[]},r=e.clientErrorHistory||[],n=c(t,r[1]);return new a(t,n,r)}toString(){let e=this.message;return this.clientErrorHistory.length&&(e+=" This is what happened:"),this.clientErrorHistory.forEach(((t,r)=>{e+=`\n${r}:`,e+=`\n  clientErrorCode: "${t.clientErrorCode}"`,e+=`\n  message: "${t.message}"`,t.userHint&&(e+=`\n  userHint: "${t.userHint}"`),t.stack&&(e+=`\n  stack: "${t.stack}"`),t.clientErrorDetails&&(e+=this.printDetails("clientErrorDetails",t.clientErrorDetails,"  "))})),e}printDetails(e,t,r){let n="";return t&&(n+=`\n${r}${e}:`,Object.keys(t).forEach((e=>{"object"==typeof t[e]?n+=this.printDetails(e,t[e],`${r}  `):n+=`\n${r}  ${e}: ${t[e]}`}))),n}toJson(){return{clientErrorCode:this.clientErrorCode,message:this.message,userHint:this.userHint,trackError:this.trackError,stack:this.stack,clientErrorHistory:this.clientErrorHistory}}contains(e){return(0,i.WX)(this,e)}hasServerStatus(e){return this.clientErrorHistory.some((t=>{var r;return(null===(r=t.clientErrorDetails)||void 0===r?void 0:r.status)===e}))}}function c(e,t){return"default"!==e.trackError?e.trackError:(0,i.Je)(t)&&"default"!==t.trackError?t.trackError:"default"}const u={from:e=>{var t,r;const n=d(e.originalError),s=n[0];if(s){const o=null!==(t=s.message)&&void 0!==t?t:"Internal Error",c=function(e,t){return(0,i.Je)(e)?e.trackError:!l.find((e=>t.toLowerCase().includes(e.toLowerCase())))&&"default"}(e.originalError,o);return a.fromSerialized({clientErrorCode:s.clientErrorCode,message:o,trackError:c,userHint:s.userHint,clientErrorHistory:n,stack:null!==(r=s.stack)&&void 0!==r?r:(new Error).stack})}return a.fromSerialized({clientErrorCode:"ExtractError",message:"Failed to extract error details",clientErrorDetails:{originalError:JSON.stringify(e.originalError)},trackError:"default",userHint:void 0,clientErrorHistory:n,stack:(new Error).stack})}},l=["Failed to fetch","Timeout after","database connection is closing","Receiving end does not exist"],d=e=>{try{const t=f(e);if(t)return t}catch(t){console.error(`Failed to extract error from '${String(e)}'`)}return[{clientErrorCode:"Unknown",clientErrorDetails:{originalError:JSON.stringify(e)},message:"An unknown and unhandled error occurred.",stack:void 0,userHint:void 0}]},h=[e=>{if(null==e)return[]},e=>{if((0,i.Je)(e))return e.clientErrorHistory},e=>{if("string"==typeof e)return[{clientErrorCode:`GenericString: ${p(e)}`,clientErrorDetails:void 0,message:e,stack:void 0,userHint:void 0}]},e=>{if((e.message||"").startsWith("All retries failed")&&e.lastError){const t=e.lastError;return t.message+=" (all retries failed)",f(t)}},e=>{if("object"==typeof e){let t="GenericObject";const r=e.stack,n=e.message,s=p(n);if(e instanceof Error){t=e.constructor.name;const r={};Object.getOwnPropertyNames(e).forEach((t=>{"function"!=typeof e[t]&&"message"!==t&&"stack"!==t&&(r[t]=e[t])})),e=Object.keys(r).length?r:void 0}else delete(e=Object.assign({},e)).stack,delete e.message;return[{clientErrorCode:s?`${t}: ${s}`:t,clientErrorDetails:e,message:n||"",stack:r,userHint:void 0}]}},e=>{if(null!=e)return[{clientErrorCode:`Generic${e.constructor.name}`,clientErrorDetails:e,message:"An unknown error occurred",stack:void 0,userHint:void 0}]}],f=e=>{for(const t of h)try{const r=t(e);if("object"==typeof r)return r}catch(e){}},m=/['":#\[\(\{\d]/;function p(e){if(!e)return;if(e.startsWith("Cannot read propert"))return e;const t=e.search(m);return-1===t?e:e.substring(0,t).trim()}},63659:(e,t,r)=>{r.d(t,{n:()=>i});var n=r(49353),s=r(91046);function i(e){return{clientErrorCode:e.clientErrorCode,from:t=>n.YY.from(e,t),fromResponse:t=>{return r=this,s=void 0,o=function*(){let r=yield t.originalError.text();try{r=JSON.parse(r)}catch(e){}const s=Object.assign(Object.assign({},t),{status:t.originalError.status,originalError:r});return n.YY.from(e,s)},new((i=void 0)||(i=Promise))((function(e,t){function n(e){try{c(o.next(e))}catch(e){t(e)}}function a(e){try{c(o.throw(e))}catch(e){t(e)}}function c(t){var r;t.done?e(t.value):(r=t.value,r instanceof i?r:new i((function(e){e(r)}))).then(n,a)}c((o=o.apply(r,s||[])).next())}));var r,s,i,o},is:t=>(0,s.Je)(t)&&(0,s.WX)(t,e.clientErrorCode)}}},41621:(e,t,r)=>{r.d(t,{I:()=>n});const n={}},91046:(e,t,r)=>{r.d(t,{Je:()=>s,WX:()=>i,QJ:()=>o});var n=r(49353);function s(e){return"clientErrorCode"in Object(e)}function i(e,t){const r="string"==typeof t?t:t.clientErrorCode;return e.clientErrorHistory.some((e=>e.clientErrorCode.toLowerCase().includes(r.toLowerCase())))}function o(e){return e instanceof n.YY?e.toJson():e}r(31429)},69771:(e,t,r)=>{r.d(t,{E:()=>i});var n=r(63659),s=r(31429);const i=(0,n.n)({clientErrorCode:"AuthFlowCancelledError",message:"Authentication flow cancelled by user.",userHint:"You cancelled the authentication flow. If you didn't mean to, please install the related integration again.",trackError:!1,arguments:[{name:"reason",type:String,struct:s.f.Scalar}]})},99363:(e,t,r)=>{r.d(t,{a:()=>i});var n=r(63659),s=r(31429);const i=(0,n.n)({clientErrorCode:"AuthPluginUrlUnsupportedError",message:"The used auth plugin url is not supported.",userHint:"Invalid plugin asset URL: {{{url}}}.",trackError:"default",arguments:[{name:"url",type:String,struct:s.f.Scalar}]})},96503:(e,t,r)=>{r.d(t,{C:()=>i});var n=r(63659),s=r(31429);const i=(0,n.n)({clientErrorCode:"AuthPromptMismatchError",message:"The encountered flow protocol is of an unexpected format.",userHint:"Unexpected auth flow protocol. Expected {{{expected}}}, received {{{actual}}}.",trackError:"default",arguments:[{name:"expected",type:String,struct:s.f.Scalar},{name:"actual",type:String,struct:s.f.Scalar}]})},2249:(e,t,r)=>{r.d(t,{I:()=>i});var n=r(63659),s=r(31429);const i=(0,n.n)({clientErrorCode:"AuthPromptUnknownError",message:"The used auth prompt is not known.",userHint:"Unknown bardeen auth prompt.",trackError:"default",arguments:[{name:"url",type:String,struct:s.f.Scalar}]})},79268:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(63659),s=r(31429);const i=(0,n.n)({clientErrorCode:"AuthPromptUnsupportedError",message:"The used auth prompt is known but not supported in this context.",userHint:"The used auth prompt is known but not supported in this context.",trackError:"default",arguments:[{name:"url",type:String,struct:s.f.Scalar}]})},5432:(e,t,r)=>{r.d(t,{B:()=>n});const n=(0,r(63659).n)({clientErrorCode:"AuthSessionLostError",message:"Authentication session lost.",userHint:"We could not refresh your authentication session.",trackError:"default",arguments:[]})},88189:(e,t,r)=>{r.d(t,{p:()=>i});var n=r(63659),s=r(31429);const i=(0,n.n)({clientErrorCode:"AuthTerminationConditionError",message:"An unsupported termination condition was used for an AuthFlow.",userHint:"You can only use 'AtSystemPrompt' termination condition when using 'bardeen://' authentication flow URLs.",trackError:"default",arguments:[{name:"url",type:String,struct:s.f.Scalar},{name:"message",type:String,struct:s.f.Scalar}]})},62577:(e,t,r)=>{r.d(t,{O:()=>i});var n=r(63659),s=r(31429);const i=(0,n.n)({clientErrorCode:"AuthUrlUnsupportedError",message:"The used auth url is not supported.",userHint:"Unknown bardeen URL: {{{url}}}.",trackError:"default",arguments:[{name:"url",type:String,struct:s.f.Scalar}]})},89097:(e,t,r)=>{r.d(t,{H:()=>i});var n=r(63659),s=r(31429);const i=(0,n.n)({clientErrorCode:"CommandMissingError",message:"Trying to use a command that no longer exist.",userHint:"The playbook currently being processed is refering to a command in the app '{{{pluggableName}}}' that no longer exists. This could happen if the integration was upgraded and one or more commands were removed or replaced with others. You must replace the missing commands with new ones before you can use this playbook.",trackError:"default",arguments:[{name:"pluggableName",type:String,struct:s.f.Scalar},{name:"pluggableVersion",type:String,struct:s.f.Scalar},{name:"commandName",type:String,struct:s.f.Scalar}]})},58306:(e,t,r)=>{r.d(t,{d:()=>i});var n=r(63659),s=r(31429);const i=(0,n.n)({clientErrorCode:"DecompilerAssertionError",message:"Invalid execution instructions.",userHint:"The system was not able to create a user-facing representation of the execution instructions. This usually means that you have encountered a corner-case not accounted for during development. Please reach out to us to learn more about this error.",trackError:"default",arguments:[{name:"nodeName",type:String,struct:s.f.Scalar}]})},93616:(e,t,r)=>{r.d(t,{l:()=>n});const n=(0,r(63659).n)({clientErrorCode:"GraphMisalignedError",message:"Misaligned graph.",userHint:"We encountered an unexpected error while executing your automation and we are unable to continue. Please reach-out to our slack channel, or send us an e-mail to help you resolve this issue.",trackError:"default",arguments:[]})},24321:(e,t,r)=>{r.d(t,{N:()=>n});const n=(0,r(63659).n)({clientErrorCode:"GraphTooManyError",message:"Too many values.",userHint:"We were expecting to find a single value but we found more instead.",trackError:"default",arguments:[]})},59818:(e,t,r)=>{r.d(t,{U:()=>i});var n=r(63659),s=r(31429);const i=(0,n.n)({clientErrorCode:"InUseError",message:"Trying to release a resource that is already in use.",userHint:"Looks like this app is being used by one of your active Autobooks. Please disable the related Autobook to remove this app.",trackError:"default",arguments:[{name:"reasons",type:String,struct:s.f.Array}]})},53762:(e,t,r)=>{r.d(t,{R:()=>i});var n=r(63659),s=r(31429);const i=(0,n.n)({clientErrorCode:"InvalidArgumentError",message:"Invalid argument.",userHint:"You have provided a value for argument '{{{argName}}}' which is not accepted. Please check the documentation and/or the value you have provided and try again.",trackError:!1,arguments:[{name:"argName",type:String,struct:s.f.Scalar}]})},90935:(e,t,r)=>{r.d(t,{Y:()=>i});var n=r(63659),s=r(31429);const i=(0,n.n)({clientErrorCode:"InvalidDataError",message:"Invalid data were given from the user.",userHint:"Looks like you've provided an invalid input. Please retry with a different input.",trackError:"default",arguments:[{name:"message",type:String,struct:s.f.Scalar}]})},68849:(e,t,r)=>{r.d(t,{S:()=>n});const n=(0,r(63659).n)({clientErrorCode:"LockReleasedError",message:"Can't read the value.",userHint:"Couldn't access the resource. Please try again.",trackError:"default",arguments:[]})},96876:(e,t,r)=>{r.d(t,{a:()=>i});var n=r(63659),s=r(31429);const i=(0,n.n)({clientErrorCode:"MarketingConsentUpdateError",message:"Failed updating marketing consent.",userHint:"We encountered an issue updating your marketing consent. Please try again later.",trackError:"default",arguments:[{name:"email",type:String,struct:s.f.Scalar},{name:"consentToReceiveEmails",type:Boolean,struct:s.f.Scalar}]})},29395:(e,t,r)=>{r.d(t,{H:()=>i});var n=r(63659),s=r(31429);const i=(0,n.n)({clientErrorCode:"MissingArgumentError",message:"Thrown when an argument is missing but required.",userHint:"Please provide the missing '{{{argDescriptionOrName}}}'",trackError:!1,arguments:[{name:"component",type:String,struct:s.f.Scalar},{name:"argDescriptionOrName",type:String,struct:s.f.Scalar}]})},5215:(e,t,r)=>{r.d(t,{G:()=>i});var n=r(63659),s=r(31429);const i=(0,n.n)({clientErrorCode:"NetworkFetchError",message:"Fetching data via the network layer service API failed.",userHint:"There was an error fetching data. Please try again.",trackError:"default",arguments:[{name:"httpStatus",type:Number,struct:s.f.Scalar},{name:"url",type:String,struct:s.f.Scalar}]})},84031:(e,t,r)=>{r.d(t,{z:()=>i});var n=r(63659),s=r(31429);const i=(0,n.n)({clientErrorCode:"NonApplicableOperationError",message:"The operation is not applicable.",userHint:"Your interaction triggered an operation which is not supported or implemented. It will likely fail again if you retry, so we'll be investigating why you encountered this issue.",trackError:"default",arguments:[{name:"component",type:String,struct:s.f.Scalar}]})},96572:(e,t,r)=>{r.d(t,{w:()=>i});var n=r(63659),s=r(31429);const i=(0,n.n)({clientErrorCode:"NotAllowedError",message:"Operation not allowed.",userHint:"You are trying to {{{operation}}}, but the operation is not allowed. {{{reason}}}. Please check your input and try again.",trackError:"default",arguments:[{name:"operation",type:String,struct:s.f.Scalar},{name:"reason",type:String,struct:s.f.Scalar}]})},29475:(e,t,r)=>{r.d(t,{Y:()=>n});const n=(0,r(63659).n)({clientErrorCode:"NotConnectedError",message:"A network operation was rejected because internet was disconnected.",userHint:"It seems like you're offline. Please check your internet connection and retry.",trackError:!1,arguments:[]})},73612:(e,t,r)=>{r.d(t,{d:()=>n});const n=(0,r(63659).n)({clientErrorCode:"NotFoundError",message:"General purpose error for missing resources.",userHint:"The given resource cannot be found.",trackError:"default",arguments:[]})},27462:(e,t,r)=>{r.d(t,{n:()=>n});const n=(0,r(63659).n)({clientErrorCode:"NotImplementedError",message:"A method is not implemented.",userHint:"This method is not implemented.",trackError:"default",arguments:[]})},29100:(e,t,r)=>{r.d(t,{k:()=>i});var n=r(63659),s=r(31429);const i=(0,n.n)({clientErrorCode:"PlaybookReleasedError",message:"Trying to obtain a reference to a playbook that was released.",userHint:"This playbook doesn't exist anymore.",trackError:"default",arguments:[{name:"playbookId",type:String,struct:s.f.Scalar}]})},25667:(e,t,r)=>{r.d(t,{s:()=>i});var n=r(63659),s=r(31429);const i=(0,n.n)({clientErrorCode:"PluginMissingError",message:"Some apps are not activated.",userHint:"Reconnect the following apps: {{#names}}{{.}} {{/names}}. Then try again.",trackError:"default",arguments:[{name:"names",type:String,struct:s.f.Array},{name:"versions",type:String,struct:s.f.Array}]})},40150:(e,t,r)=>{r.d(t,{_:()=>i});var n=r(63659),s=r(31429);const i=(0,n.n)({clientErrorCode:"PluginWasUninstalledError",message:"A plugin tried to perform an operation after it was uninstalled.",userHint:"Plugin {{{manifestName}}} was uninstalled.",trackError:"default",arguments:[{name:"manifestName",type:String,struct:s.f.Scalar}]})},16405:(e,t,r)=>{r.d(t,{S:()=>i});var n=r(63659),s=r(31429);const i=(0,n.n)({clientErrorCode:"RemoteFetchError",message:"Fetching data via our remote Bardeen service API failed.",userHint:"There was an error fetching data. Please try again.",trackError:"default",arguments:[{name:"httpStatus",type:Number,struct:s.f.Scalar},{name:"url",type:String,struct:s.f.Scalar}]})},64548:(e,t,r)=>{r.d(t,{T:()=>i});var n=r(63659),s=r(31429);const i=(0,n.n)({clientErrorCode:"ResourceNotFoundError",message:"Item couldn't be found.",userHint:"The {{{resourceType}}} cannot be found. Please check with the owner or developer, or try again.",trackError:"default",arguments:[{name:"resourceType",type:String,struct:s.f.Scalar},{name:"resourceId",type:String,struct:s.f.Scalar}]})},39901:(e,t,r)=>{r.d(t,{v:()=>i});var n=r(63659),s=r(31429);const i=(0,n.n)({clientErrorCode:"ResponseContentTypeError",message:"The response content type doesn't match the expectation (it's not JSON).",userHint:"Cannot parse JSON from {{{contentType}}}. The response content is {{{text}}}.",trackError:"default",arguments:[{name:"contentType",type:String,struct:s.f.Scalar},{name:"text",type:String,struct:s.f.Scalar}]})},38407:(e,t,r)=>{r.d(t,{s:()=>i});var n=r(63659),s=r(31429);const i=(0,n.n)({clientErrorCode:"ResponseParseError",message:"Failed to parse JSON.",userHint:"Unexpected content of a presumes JSON message. Response content is {{{text}}}.",trackError:"default",arguments:[{name:"text",type:String,struct:s.f.Scalar}]})},42736:(e,t,r)=>{r.d(t,{V:()=>i});var n=r(63659),s=r(31429);const i=(0,n.n)({clientErrorCode:"TriggerIntegrationMissingError",message:"Could not start autobook because some apps are unavailable.",userHint:"We were not able to start autobook '{{{triggerName}}}' because {{#appName}}the app {{{appName}}} was{{/appName}}{{^appName}}one or more required apps were{{/appName}} not available. This can either mean that the app was disabled, or your credentials for this app have expired.",trackError:"default",arguments:[{name:"triggerName",type:String,struct:s.f.Scalar},{name:"appName",type:String,struct:s.f.Scalar}]})},42510:(e,t,r)=>{r.d(t,{p:()=>i});var n=r(63659),s=r(31429);const i=(0,n.n)({clientErrorCode:"TypeMissingError",message:"Trying to use a type that does not exist.",userHint:"The playbook currently being processed is tryin to use a type that cannot be found in any of the integrations available. This could happen if the integrations were upgraded and one or more types were removed or replaced with others. You won't be able to use this playbook until it's rebuilt.",trackError:"default",arguments:[{name:"typeFacets",type:String,struct:s.f.Scalar}]})},94502:(e,t,r)=>{r.d(t,{M:()=>n});const n=(0,r(63659).n)({clientErrorCode:"UnexpectedASTStateError",message:"Unexpected instruction value.",userHint:"The system encountered an unexpected instruction value while handling your request. This could be caused by a malformed playbook definition, or by some unexpected data returned from some of the commands involved. We have informed our engineering team about this error, but you can try running it again, or re-installing the integrations.",trackError:"default",arguments:[]})},54348:(e,t,r)=>{r.d(t,{m:()=>i});var n=r(63659),s=r(31429);const i=(0,n.n)({clientErrorCode:"UnreleasableExclusiveLockError",message:"Resource is busy and cannot be released.",userHint:"Your last action caused the system to try to release the {{{resourceType}}} with id '{{{resourceId}}}' that is currently in use by another operation in process ({{#lockReasons}}{{.}} {{/lockReasons}}). Please make sure that the operation is completed and that it's no longer in use before trying the same action again.",trackError:!0,arguments:[{name:"resourceType",type:String,struct:s.f.Scalar},{name:"resourceId",type:String,struct:s.f.Scalar},{name:"lockReasons",type:String,struct:s.f.Array}]})},21586:(e,t,r)=>{r.d(t,{l:()=>n});const n=(0,r(63659).n)({clientErrorCode:"UserAbortedOperationError",message:"The operation was aborted by a user request.",userHint:"The operation was aborted because the user explicitly requested to abort it.",trackError:!1,arguments:[]})},50881:(e,t,r)=>{r.d(t,{ps:()=>n.p,EZ:()=>s.E,a_:()=>i.a,C:()=>o.C,IS:()=>a.I,Zr:()=>c.Z,BY:()=>u.B,qv:()=>l.p,O5:()=>d.O,Ow:()=>h.O,HU:()=>f.H,dz:()=>m.d,lI:()=>p.l,N0:()=>g.N,U4:()=>y.U,RU:()=>v.R,Yx:()=>w.Y,Sm:()=>b.S,ao:()=>k.a,Hi:()=>E.H,GF:()=>x.G,zk:()=>S.z,w:()=>A.w,YG:()=>O.Y,dR:()=>T.d,nj:()=>P.n,kD:()=>_.k,sj:()=>I.s,_m:()=>C._,SJ:()=>N.S,TX:()=>j.T,vK:()=>R.v,s0:()=>D.s,s1:()=>M.s,VU:()=>z.V,pf:()=>H.p,Mc:()=>$.M,ml:()=>U.m,lK:()=>B.l});var n=r(78990),s=r(69771),i=r(99363),o=r(96503),a=r(2249),c=r(79268),u=r(5432),l=r(88189),d=r(62577),h=r(81072),f=r(89097),m=r(58306),p=r(93616),g=r(24321),y=r(59818),v=r(53762),w=r(90935),b=r(68849),k=r(96876),E=r(29395),x=r(5215),S=r(84031),A=r(96572),O=r(29475),T=r(73612),P=r(27462),_=r(29100),I=r(25667),C=r(40150),N=r(16405),j=r(64548),R=r(39901),D=r(38407),M=r(1975),z=r(42736),H=r(42510),$=r(94502),U=r(54348),B=r(21586)},73331:(e,t,r)=>{r.d(t,{i:()=>n});const n={trace:0,debug:1,info:2,warn:3,error:4}},46079:(e,t,r)=>{var n;r.d(t,{t:()=>n}),r(62632),function(e){e.Constant="const",e.Function="function",e.Reference="reference",e.Return="return",e.Unknown="unknown"}(n||(n={}))},87368:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(26068);const s=[{id:"",name:"Not Categorized",color:(0,n.s4)("silicon",50),colorAlt:(0,n.s4)("silicon",50),iconLarge:{icon:"TexturedBug"},icon:{icon:"TexturedBug"}},{id:"meetings",name:"Meetings",color:(0,n.s4)("grape",50),colorAlt:(0,n.s4)("grape",30),iconLarge:{icon:"MeetingsCategoryLarge"},icon:{icon:"MeetingsCategorySmall"}},{id:"sales",name:"Sales & Prospecting",color:(0,n.s4)("raspberry",50),colorAlt:(0,n.s4)("melon",20),iconLarge:{icon:"SalesCategoryLarge"},icon:{icon:"SalesCategorySmall"}},{id:"scraping",name:"Data Sourcing & Research",color:(0,n.s4)("silicon",50),colorAlt:(0,n.s4)("silicon",30),iconLarge:{icon:"ScrapeCategoryLarge"},icon:{icon:"ScrapeCategorySmall"}},{id:"marketing",name:"Marketing",color:(0,n.s4)("plum",50),colorAlt:(0,n.s4)("plum",30),iconLarge:{icon:"MarketingCategoryLarge"},icon:{icon:"MarketingCategorySmall"}},{id:"recruiting",name:"Recruiting",color:(0,n.s4)("melon",40),colorAlt:(0,n.s4)("melon",20),iconLarge:"I'm a png and get replaced in bardeen-design",icon:"I'm a png and get replaced in bardeen-design"},{id:"project-management",name:"Product Development",color:(0,n.s4)("mint",50),colorAlt:(0,n.s4)("mint",30),iconLarge:{icon:"ProjectManagementCategoryLarge"},icon:{icon:"ProjectManagementCategorySmall"}},{id:"personal-productivity",name:"Personal Productivity",color:(0,n.s4)("banana",80),colorAlt:(0,n.s4)("banana",60),iconLarge:{icon:"PersonalProductivityLarge"},icon:{icon:"PersonalProductivitySmall"}}]},18447:(e,t,r)=>{var n;r.d(t,{H:()=>n}),function(e){e.DatePicker="datePicker",e.TimePicker="timePicker",e.TextInput="textInput",e.DurationPicker="durationPicker"}(n||(n={}))},17879:(e,t,r)=>{r.d(t,{o:()=>a});var n=r(68796),s=r(2208),i=r(89073),o=function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};class a extends((0,i.q)(s.u)){constructor(e){super(),this.data=e}refresh(){return Promise.resolve()}commit(){return Promise.resolve()}listPush(e,t){return o(this,void 0,void 0,(function*(){let r=yield this.get(e,[]);return Array.isArray(r)||(r=[r]),r.push(t),yield this.set(e,r),r}))}setAdd(e,t){return o(this,void 0,void 0,(function*(){let r=yield this.get(e,[]);return Array.isArray(r)||(r=[r]),-1===r.indexOf(t)&&r.push(t),yield this.set(e,r),r}))}listRemove(e,t){return o(this,void 0,void 0,(function*(){let r=yield this.get(e,[]);Array.isArray(r)||(r=[r]);const n=r.indexOf(t);return-1!==n&&r.splice(n,1),yield this.set(e,r),r}))}increment(e,t){return o(this,void 0,void 0,(function*(){let r=yield this.get(e,0);if(r){if(isNaN(r))return Promise.reject(n.NonApplicableOperationError.from({originalError:`Incrementing the non-numeric field ${e} failed`,component:"InMemoryPersistence"}))}else r=0;return r+=t,yield this.set(e,r),r}))}beginTransaction(){return o(this,void 0,void 0,(function*(){return this}))}get(e,t){return this.refresh().then((()=>Promise.resolve(this.data[e]||t)))}getMany(e){return this.refresh().then((()=>{const t=Array.isArray(e)?e:Object.keys(e);return Promise.resolve(t.reduce(((t,r)=>(t[r]=this.data[r]||e[r],t)),{}))}))}set(e,t,r){return this.refresh().then((()=>(this.data[e]=JSON.parse(JSON.stringify(t)),(r?Promise.resolve():this.commit()).then((()=>this.notifyWatches(e,t))))))}setMany(e){return this.refresh().then((()=>Promise.all(Object.keys(e).map((t=>this.set(t,e[t],!0)))).then((()=>this.commit().then((()=>o(this,void 0,void 0,(function*(){yield Promise.all(Object.keys(e).map((t=>this.notifyWatches(t,e[t]))))}))))))))}delete(e){return this.refresh().then((()=>(delete this.data[e],this.commit().then((()=>this.notifyWatches(e,void 0))))))}deleteMany(e){return this.refresh().then((()=>(e.forEach((e=>{delete this.data[e]})),this.commit().then((()=>o(this,void 0,void 0,(function*(){yield Promise.all(e.map((e=>this.notifyWatches(e,void 0))))})))))))}group(e){return this.refresh().then((()=>(null==this.data[e]&&(this.data[e]={}),Promise.resolve(new a(this.data[e])))))}deleteGroup(e){return this.refresh().then((()=>(null!=this.data[e]&&delete this.data[e],this.commit())))}}},6486:(e,t,r)=>{r.d(t,{T:()=>i});var n=r(50881),s=function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};function i(e){return class extends e{listPush(e,t){return s(this,void 0,void 0,(function*(){let r=yield this.get(e,[]);return Array.isArray(r)||(r=[r]),r.push(t),yield this.set(e,r),r}))}setAdd(e,t){return s(this,void 0,void 0,(function*(){let r=yield this.get(e,[]);return Array.isArray(r)||(r=[r]),-1===r.indexOf(t)&&r.push(t),yield this.set(e,r),r}))}listRemove(e,t){return s(this,void 0,void 0,(function*(){let r=yield this.get(e,[]);Array.isArray(r)||(r=[r]);const n=r.indexOf(t);return-1!==n&&r.splice(n,1),yield this.set(e,r),r}))}increment(e,t){return s(this,void 0,void 0,(function*(){let r=yield this.get(e,0);if(r){if(isNaN(r))return Promise.reject(n.zk.from({originalError:`Incrementing the non-numeric field ${e} failed.`,component:"PersistenceWithAtomicOps"}))}else r=0;return r+=t,yield this.set(e,r),r}))}}}},89073:(e,t,r)=>{r.d(t,{q:()=>s});var n=function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};function s(e){return class extends e{constructor(){super(...arguments),this.watches=new i}notifyWatches(e,t){return this.watches.notify([e],t)}watch(e,t){return this.get(e).then((r=>this.watches.add([e],t,r)))}unwatch(e,t){return n(this,void 0,void 0,(function*(){return yield this.watches.remove([e],t),Promise.resolve()}))}}}class i{constructor(){this.watches=[]}notify(e,t){return n(this,void 0,void 0,(function*(){const r=this.watches.filter((t=>t.path.every(((t,r)=>e[r]===t))));0!==r.length&&(yield Promise.all(r.map((e=>{const r=e.last;return e.last=t,e.handler(t,r,e.path)}))))}))}add(e,t,r){return n(this,void 0,void 0,(function*(){this.watches.push({handler:t,path:e,last:r})}))}remove(e,t){return n(this,void 0,void 0,(function*(){const r=this.watches.findIndex((r=>r.handler===t&&r.path.every(((t,r)=>e[r]===t))));-1!==r&&this.watches.splice(r,1)}))}}},82737:(e,t,r)=>{r.d(t,{n:()=>a}),r(4614);var n=function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};const s="_index",i="_header",o={primaryKey:"_id",secondaryKeys:[],getFieldValue:(e,t)=>e[t],serialize:e=>JSON.stringify(e),deserialize:e=>JSON.parse(e)};class a{constructor(e,t){this.p=e,this.config=t}initialize(){return n(this,void 0,void 0,(function*(){const e=yield this.p.get(i,{version:1,keys:[]});if(1!==e.version)throw new TypeError("A previous indexed persistence exists in the given group, but it's of an unknown version");const t=this.config.secondaryKeys;for(let r=0;r<e.keys.length;++r)if(t[r]!==e.keys[r])throw new TypeError("A the indexed persistence data that exists in the given group have mismatched secondary keys");e.version=1,e.keys=t,yield this.p.set(i,e)}))}static open(e,t){return n(this,void 0,void 0,(function*(){const r=Object.assign({},o,t),n=new a(e,r);return yield n.initialize(),n}))}readIndex(){return this.p.get(s,[]).then((e=>Array.isArray(e)?e:[]))}writeIndex(e){return this.p.set(s,Array.from(e))}deserializeMany(e){return Promise.all(e.map((e=>this.config.deserialize(e))))}getAllPrimaryKeys(){return n(this,void 0,void 0,(function*(){const e=yield this.readIndex();return new Set(e.map((e=>e.pk)))}))}keyExists(e){return this.p.get(e,void 0).then((e=>void 0!==e))}getMany(e,t=!1){return n(this,void 0,void 0,(function*(){const r=yield this.p.getMany(e);if(t){const t=e.filter((e=>!r[e]));if(t.length)throw new TypeError(`Missing keys: ${t.join(", ")}`);const n=e.map((e=>r[e]));return this.deserializeMany(n)}const n=e.map((e=>r[e]?r[e]:null));return this.deserializeMany(n)}))}filter(e){return n(this,void 0,void 0,(function*(){const t=(yield this.readIndex()).filter((t=>{const r={};return r[this.config.primaryKey]=t.pk,this.config.secondaryKeys.forEach(((e,n)=>{r[e]=t.kv[n]})),e(r,t.pk)})),r=yield this.p.getMany(t.map((e=>e.pk))),n=t.map((e=>r[e.pk])).filter((e=>!!e));return this.deserializeMany(n)}))}reduceOnIndex(e,t){return n(this,void 0,void 0,(function*(){const r=yield this.readIndex(),n=(t,r)=>{const n={};return n[this.config.primaryKey]=r.pk,this.config.secondaryKeys.forEach(((e,t)=>{n[e]=r.kv[t]})),e(t,n,r.pk)};return r.reduce(((e,t)=>e.then((e=>n(e,t)))),Promise.resolve(t))}))}insertMany(e){return n(this,void 0,void 0,(function*(){const t=yield this.readIndex(),r={};yield Promise.all(e.map((e=>n(this,void 0,void 0,(function*(){var n;const s=this.config.getFieldValue(e,this.config.primaryKey),i=t.findIndex((e=>e.pk===s)),o=null!==(n=t[i])&&void 0!==n?n:{pk:s,kv:[]};this.config.secondaryKeys.forEach(((t,r)=>{o.kv[r]=this.config.getFieldValue(e,t)})),-1===i?t.push(o):t[i]=o,r[s]=yield this.config.serialize(e)}))))),yield this.p.setMany(r),yield this.writeIndex(t)}))}deleteMany(e){return n(this,void 0,void 0,(function*(){const t=yield this.readIndex(),r=[];e.forEach((e=>{const n=t.findIndex((t=>t.pk===e));-1!==n&&(r.push(e),t.splice(n,1))})),yield this.p.deleteMany(r),yield this.writeIndex(t)}))}}},63877:(e,t,r)=>{r.d(t,{p:()=>a});var n=r(50881),s=(r(2872),function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))}),i=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,s){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,s,(t=e[r](t)).done,t.value)}))}}};const o=Symbol("Missing");class a{constructor(e,t,r){this.lazyWatches=[],this.lazyConditionKeys=[],this.network=e,this.upstream=t,this.cache=r,e.addNetworkWatcher({onNetworkConnected:()=>Promise.all([this.forwardLazyWatches(),this.handleLazyCondition()]),onNetworkDisconnected:()=>{}})}static create(e,t,r){return s(this,void 0,void 0,(function*(){return new a(e,t,r)}))}static createAndCondition(e,t,r,n){return s(this,void 0,void 0,(function*(){const s=new a(e,t,r);return(yield e.isNetworkConnected())?yield s.condition(n):s.lazyConditionKeys=n,s}))}condition(e){var t,r;return s(this,void 0,void 0,(function*(){const n=e=>s(this,void 0,void 0,(function*(){var t,r;const n=e.split("|");let s=this.upstream,o=this.cache;if(!e)return[s,o];try{for(var a,c=i(n);!(a=yield c.next()).done;){const e=a.value;s=yield s.group(e),o=yield o.group(e)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=c.return)&&(yield r.call(c))}finally{if(t)throw t.error}}return[s,o]})),o=(e,t,r)=>s(this,void 0,void 0,(function*(){const n=yield e.getMany(r);yield t.setMany(n)})),a=new Map;for(const t of e){if(0===t.length)continue;const e=t[t.length-1],r=t.slice(0,t.length-1).join("|");a.has(r)||a.set(r,[]),a.get(r).push(e)}try{for(var c,u=i(a.entries());!(c=yield u.next()).done;){const[e,t]=c.value,[r,s]=yield n(e);yield o(r,s,t)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=u.return)&&(yield r.call(u))}finally{if(t)throw t.error}}}))}forwardLazyWatches(){var e,t;return s(this,void 0,void 0,(function*(){try{for(var r,n=i(this.lazyWatches);!(r=yield n.next()).done;){const e=r.value;yield this.cache.unwatch(e.key,e.handler),yield this.upstream.watch(e.key,e.handler);const t=yield this.upstream.get(e.key);yield this.cache.set(e.key,t)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&(yield t.call(n))}finally{if(e)throw e.error}}this.lazyWatches=[]}))}handleLazyCondition(){return s(this,void 0,void 0,(function*(){if(0===this.lazyConditionKeys.length)return;const e=this.lazyConditionKeys;return this.lazyConditionKeys=[],this.condition(e)}))}wrapCacheException(e){return e.catch((e=>{throw e}))}get(e,t){return s(this,void 0,void 0,(function*(){if(!(yield this.network.isNetworkConnected()))return this.cache.get(e,null==t?o:t).then((e=>{if(e===o)throw n.YG.from({});return e}));const r=yield this.upstream.get(e,t);return yield this.cache.set(e,r),r}))}getMany(e){return s(this,void 0,void 0,(function*(){if(!(yield this.network.isNetworkConnected())){let t={};if(Array.isArray(e))for(const r of e)t[r]=o;else t=Object.assign({},e);const r=yield this.cache.getMany(t);for(const e in r)if(r[e]===o)throw n.YG.from({});return r}const t=yield this.upstream.getMany(e);return yield this.cache.setMany(t),t}))}set(e,t){return s(this,void 0,void 0,(function*(){if(!(yield this.network.isNetworkConnected()))throw n.YG.from({});yield this.upstream.set(e,t),yield this.cache.set(e,t)}))}setMany(e){return s(this,void 0,void 0,(function*(){if(!(yield this.network.isNetworkConnected()))throw n.YG.from({});yield this.upstream.setMany(e),yield this.cache.setMany(e)}))}delete(e){return s(this,void 0,void 0,(function*(){if(!(yield this.network.isNetworkConnected()))throw n.YG.from({});yield this.upstream.delete(e),yield this.cache.delete(e)}))}deleteMany(e){return s(this,void 0,void 0,(function*(){if(!(yield this.network.isNetworkConnected()))throw n.YG.from({});yield this.upstream.deleteMany(e),yield this.cache.deleteMany(e)}))}group(e){return s(this,void 0,void 0,(function*(){const t=yield this.upstream.group(e),r=yield this.cache.group(e);return new a(this.network,t,r)}))}deleteGroup(e){return s(this,void 0,void 0,(function*(){if(!(yield this.network.isNetworkConnected()))throw n.YG.from({});yield this.upstream.deleteGroup(e),yield this.cache.deleteGroup(e)}))}setAdd(e,t){return s(this,void 0,void 0,(function*(){if(!(yield this.network.isNetworkConnected()))throw n.YG.from({});return yield this.cache.setAdd(e,t),this.upstream.setAdd(e,t)}))}listPush(e,t){return s(this,void 0,void 0,(function*(){if(!(yield this.network.isNetworkConnected()))throw n.YG.from({});return yield this.cache.listPush(e,t),this.upstream.listPush(e,t)}))}listRemove(e,t){return s(this,void 0,void 0,(function*(){if(!(yield this.network.isNetworkConnected()))throw n.YG.from({});return yield this.cache.listRemove(e,t),this.upstream.listRemove(e,t)}))}increment(e,t){return s(this,void 0,void 0,(function*(){if(!(yield this.network.isNetworkConnected()))throw n.YG.from({});return yield this.cache.increment(e,t),this.upstream.increment(e,t)}))}watch(e,t){return s(this,void 0,void 0,(function*(){if(!(yield this.network.isNetworkConnected()))return yield this.cache.watch(e,t),void this.lazyWatches.push({key:e,handler:t});const r=yield this.upstream.get(e);yield this.cache.set(e,r),yield this.upstream.watch(e,t)}))}unwatch(e,t){return s(this,void 0,void 0,(function*(){const r=this.lazyWatches.findIndex((r=>r.key===e&&r.handler===t));-1!==r&&this.lazyWatches.splice(r,1),yield this.cache.unwatch(e,t),yield this.upstream.unwatch(e,t)}))}beginTransaction(){return s(this,void 0,void 0,(function*(){if(!(yield this.network.isNetworkConnected()))throw n.YG.from({});return this.upstream.beginTransaction()}))}}},27592:(e,t,r)=>{r.d(t,{l:()=>u}),r(2872);var n=r(83963),s=r(24678),i=r(22226),o=r(34406),a=function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};const c={reconciliationAfterError:5e3,reconciliationRegular:3e5};class u{constructor(e){var t;this.reconciliationInterval=null,this.reconciliationTimeout=null,this._lastLocalError=null,this._lastRemoteError=null,this.ctx=e.ctx,this.keys=Object.keys(e.blueprint),this.local=e.local,this.name=e.name,this.remote=e.remote,this.config=null!==(t=e.config)&&void 0!==t?t:c}initialize(){return a(this,void 0,void 0,(function*(){this.reconciliationInterval=this.initInterval(),yield this.reconcile(),this.ctx.log.debug(`[${this.name}] initialized`)}))}destroy(){this.reconciliationInterval&&(clearInterval(this.reconciliationInterval),this.reconciliationInterval=null),this.reconciliationTimeout&&(clearTimeout(this.reconciliationTimeout),this.reconciliationTimeout=null),this.getRecord=()=>Promise.reject(Error("This persistence layer has been disconnected")),this.setRecord=()=>Promise.reject(Error("This persistence layer has been disconnected")),this.setValues=()=>Promise.reject(Error("This persistence layer has been disconnected")),this.ctx.log.debug(`[${this.name}] is now disconnected`)}getRecord(){return a(this,void 0,void 0,(function*(){return this.cachedInMem?this.cachedInMem:(yield this.reconcile(),this.cachedInMem?this.cachedInMem:(this.ctx.log.debug(`[${this.name}] no data found`),null))}))}setRecord(e){return a(this,void 0,void 0,(function*(){this.reconciliationTimeout&&(clearTimeout(this.reconciliationTimeout),this.reconciliationTimeout=null),this.cachedInMem=Object.assign(Object.assign({},this.cachedInMem),e);let t=this.config.reconciliationRegular;try{yield this.local.setMany(e),s.n_({category:"persistence",message:"data.persistence.local.updated",level:i.z.Info,data:{path:this.name}}),this.resetLocalError(),this.ctx.log.debug(`[${this.name}] updated local data`)}catch(e){this.trackLocalError(e,"set"),t=this.config.reconciliationAfterError}try{yield this.remote.setMany(e),s.n_({category:"persistence",message:"data.persistence.remote.updated",level:i.z.Info,data:{path:this.name}}),this.resetRemoteError(),this.ctx.log.debug(`[${this.name}] updated remote data`)}catch(e){this.trackRemoteError(e,"set"),t=this.config.reconciliationAfterError}this.scheduleReconciliation(t)}))}setValues(e){for(const t of Object.keys(e))if(-1===this.keys.indexOf(t))throw new Error(`[${this.name}] key ${t} is not contained in blueprint`);const t=Object.assign({tsIssued:Date.now()},e);return this.setRecord(t)}initInterval(){return void 0!==o.env.TS_JEST?null:setInterval((()=>{this.reconciliationTimeout||(this.ctx.log.debug(`[${this.name}] scheduling reconciliation as there's no timer`),this.scheduleReconciliation(this.config.reconciliationAfterError))}),this.config.reconciliationRegular)}scheduleReconciliation(e){void 0===o.env.TS_JEST&&(this.reconciliationTimeout&&clearTimeout(this.reconciliationTimeout),this.reconciliationTimeout=setTimeout((()=>{this.reconciliationTimeout=null,this.reconcile()}),e))}reconcile(){var e,t;return a(this,void 0,void 0,(function*(){this.ctx.log.debug(`[${this.name}] reconciliation started`),this.reconciliationTimeout&&(this.ctx.log.debug(`[${this.name}] clearing previous timer`),clearTimeout(this.reconciliationTimeout),this.reconciliationTimeout=null);let r=this.config.reconciliationRegular,n={};try{n=yield this.remote.getMany(this.keys),this.resetRemoteError(),this.ctx.log.debug(`[${this.name}] newest record from remote ${n.tsIssued}`)}catch(e){this.trackRemoteError(e,"get"),r=this.config.reconciliationAfterError}let o={};try{o=yield this.local.getMany(this.keys),this.resetLocalError(),this.ctx.log.debug(`[${this.name}] newest record from local ${o.tsIssued}`)}catch(e){this.trackLocalError(e,"get"),r=this.config.reconciliationAfterError}let a=[n,o,this.cachedInMem].filter(Boolean).sort(((e,t)=>{var r,n;return(null!==(r=null==t?void 0:t.tsIssued)&&void 0!==r?r:0)-(null!==(n=null==e?void 0:e.tsIssued)&&void 0!==n?n:0)}))[0];if(!a)return this.ctx.log.debug(`[${this.name}] no data to reconcile`),this.scheduleReconciliation(r);if(null===a.tsIssued&&(a=Object.assign(Object.assign({},a),{tsIssued:Date.now()})),this.cachedInMem=a,this.ctx.log.debug(`[${this.name}] newest record is ${a.tsIssued}`),!this.hasLocalError()&&a.tsIssued>(null!==(e=o.tsIssued)&&void 0!==e?e:0)){this.ctx.log.debug(`[${this.name}] updating local data`);try{yield this.local.setMany(a),s.n_({category:"persistence",message:"persistence.reconcile.local.updated",level:i.z.Info,data:{path:this.name}}),this.resetLocalError(),this.ctx.log.debug(`[${this.name}] updated local data`)}catch(e){this.trackLocalError(e,"set"),r=this.config.reconciliationAfterError}}if(!this.hasRemoteError()&&a.tsIssued>(null!==(t=n.tsIssued)&&void 0!==t?t:0)){this.ctx.log.debug(`[${this.name}] updating remote data`);try{yield this.remote.setMany(a),s.n_({category:"persistence",message:"persistence.reconcile.remote.updated",level:i.z.Info,data:{path:this.name}}),this.resetRemoteError(),this.ctx.log.debug(`[${this.name}] updated remote data`)}catch(e){this.trackRemoteError(e,"set"),r=this.config.reconciliationAfterError}}return this.ctx.log.debug(`[${this.name}] reconciliation finished`),this.scheduleReconciliation(r)}))}hasLocalError(){return!!this._lastLocalError}trackLocalError(e,t){const r=n.pY.from({originalError:e});this._lastLocalError&&this._lastLocalError.contains(r)||(s.n_({category:"persistence",message:`data.persistence.local.${t}.error`,level:i.z.Error,data:{path:this.name,error:r.message}}),this._lastLocalError=r)}resetLocalError(){this._lastLocalError=null}hasRemoteError(){return!!this._lastRemoteError}trackRemoteError(e,t){const r=n.pY.from({originalError:e});this._lastRemoteError&&this._lastRemoteError.contains(r)||(s.n_({category:"persistence",message:`data.persistence.remote.${t}.error`,level:i.z.Error,data:{path:this.name,error:r.message}}),this._lastRemoteError=r)}resetRemoteError(){this._lastRemoteError=null}}},38701:(e,t,r)=>{r.d(t,{n:()=>n.n,pA:()=>s.p,le:()=>i.l});var n=r(82737),s=r(63877),i=r(27592)},86453:(e,t,r)=>{r.d(t,{K:()=>n});const n=Symbol("argumentMap")},89159:(e,t,r)=>{r.d(t,{Y:()=>l,T:()=>d}),r(26411),r(43440);var n=r(50881),s=r(32825),i=r(83963),o=r(30577),a=r(7163),c=r(15001),u=r(81519);class l{constructor(e,t){this.cmdName=e,this.args=t}result(e){return e?e instanceof c.cy?e instanceof a._?new h(function(e){const t={},r=e.getGroups(),n=Object.keys(r);for(const e of n){const n=r[e];t[e]=o.B.fromDVec(n)}return t}(e)):new h({[u.L]:o.B.leaf(e)}):Array.isArray(e)?new h({[u.L]:o.B.fromDVec(e)}):o.B.isGraph(e)?new h({[u.L]:e}):new h(e):new h}success(e){return{type:"success",message:{status:"success",message:e||"Successfully executed"}}}observer(e){return new f(e)}missingArgument(e,t){var r;const s=null===(r=this.args)||void 0===r?void 0:r.find((t=>t.name===e));return Promise.reject(n.Hi.from({argDescriptionOrName:(null==s?void 0:s.description)||e,component:this.cmdName}))}userError(e){return t=this,r=void 0,o=function*(){const t=(0,i.Je)(e)?e:s.a.from({cmdName:this.cmdName,userHint:e});return Promise.reject(t)},new((n=void 0)||(n=Promise))((function(e,s){function i(e){try{c(o.next(e))}catch(e){s(e)}}function a(e){try{c(o.throw(e))}catch(e){s(e)}}function c(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(e){e(r)}))).then(i,a)}c((o=o.apply(t,r||[])).next())}));var t,r,n,o}internalError(e,t,r){const n=d(e,this.cmdName,t,r||"n/a");return Promise.reject(n)}}function d(e,t,r,n){if((0,i.Je)(e))return e;const s={};for(const t in r){const n=r[t];let i;if(n)try{i=`${n.constructor.name}(${n.toString().length?"non-empty":"empty"})`}catch(e){console.warn(e),i="[unknown]"}s[`arg_${t}`]=i}const o=t.replace(/_/g," ");return(0,i.n0)({clientErrorCode:`${t}_InvocationError`,message:`Failed to invoke '${o}'.`,userHint:i.yj,trackError:"default",arguments:[{name:"cmdName",type:String,struct:i.fG.Scalar},{name:"action",type:String,struct:i.fG.Scalar}]}).from(Object.assign({originalError:e,cmdName:t,action:n||"n/a"},s))}class h{constructor(e){this.hasData=!1,e?(this._data=e,this.hasData=Object.values(e).some((e=>!o.B.isEmpty(e)))):this._data={},this.noDataMessage={status:"no-data",message:"Command invocation yielded no result"}}withUrlMeta(e){var t;this._contextMeta||(this._contextMeta=[]);const r={matchType:"url",url:e};return null===(t=this._contextMeta)||void 0===t||t.push(r),this}withUrlRegexMeta(e){var t;this._contextMeta||(this._contextMeta=[]);const r={matchType:"urlRegex",urlRegex:e};return null===(t=this._contextMeta)||void 0===t||t.push(r),this}withDomMeta(e){var t;this._contextMeta||(this._contextMeta=[]);const r={matchType:"dom",domMatches:e};return null===(t=this._contextMeta)||void 0===t||t.push(r),this}withResultMessage(e){return this.dataMessage={status:"success",message:e},this}withNoDataMessage(e){return this.noDataMessage={status:"no-data",message:e},this}get type(){return this.hasData?"data":"no-data"}get data(){return this._data}get contextMeta(){return this._contextMeta}get message(){return this.hasData?this.dataMessage:this.noDataMessage}}class f{constructor(e){this.type="observers",this._observers=[e]}withMessage(e){return this._message={status:"success",message:e},this}get observers(){return this._observers}get message(){return this._message}}},18605:(e,t,r)=>{r.d(t,{$:()=>n});function n(e,t){const r=r=>function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){try{const e=yield t(r);if(null!=e)return[e]}catch(e){}return[e]}));return r.toString=()=>`/* Dynamic Type */ ${t.toString()}`,r}Symbol()},8115:(e,t,r)=>{r.d(t,{_:()=>l});var n=r(59186),s=r(67953),i=r(38089),o=(r(17412),r(89159)),a=(r(43440),r(92711)),c=(r(75263),r(93138)),u=function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};function l(e){class t extends i.$V{}class r extends i.Dg{constructor(e){super(e),this.ctx=e.ctx}}class l extends a.N{constructor(e){super(e),this.ctx=e.ctx}}return{BreadcrumbObserver:l,CommandDefinition:class{constructor(e){this.timeSaved=0,this.ctx=e}get out(){return new o.Y(this.name,this.arguments)}},DataAnnotationFor:function(e){return class{constructor(t){this.type=e,this.ctx=t}}},DataObserver:r,DataRenderer:class{constructor(e){this.ctx=e}},DataSource:t,Factory:class{createInstance(t){const r=this.getManifest(),i=t.accountApi;return t.auth.create(e.Auth||s.EI.NoAuthFlow,t.instanceId,{manifest:r,accountApi:i}).then((s=>u(this,void 0,void 0,(function*(){let i;try{const o=yield t.runtime.requestFeature("bardeen.network");i=new(e.API||n.un.Rest)({auth:s,config:r.api,fetch:o.fetch})}catch(e){t.log.error(`Pluggable '${r.name}' (${r.id}) not authorised to create a networking feature, the API provider was not instantiated. (${(0,c.wp)(e)})`)}const o={accountApi:t.accountApi,api:i,auth:s,db:t.db,runtime:t.runtime,instanceId:t.instanceId,log:t.log,manifest:r,persistence:t.persistence,queue:t.queue,system:t.system};return this.createPluginInstance(o)}))))}getManifest(){const t=Object.assign({},e.manifest);return t.icon=this.pluginIcon,t}},Instance:class{constructor(e){this._annotations=[],this._breadcrumbObservers=[],this._commands=[],this._dataTypes=[],this._observers=[],this._renderers=[],this._sources=[],this.ctx=e,(this.constructor.resources||[]).forEach((e=>{const t=new e(this.ctx);this._commands.push(...t.getCommands()),this._sources.push(...t.getDataSources()),this._renderers.push(...t.getRenderers()),this._annotations.push(...t.getDataAnnotations()),this._observers.push(...t.getDataObservers()),this._dataTypes.push(...t.getDataTypes()),this._breadcrumbObservers.push(...t.getBreadcrumbObservers())}));const t=this.constructor.dataTypes||[];this._dataTypes.push(...t)}getDataSources(){return this._sources}getRenderers(){return this._renderers}getCommands(){return this._commands}getDataAnnotations(){return this._annotations}getDataObservers(){return this._observers}getDataTypes(){return this._dataTypes}getBreadcrumbObservers(){return this._breadcrumbObservers}getAppWindowPanels(){return[]}getManifest(){return this.ctx.account?Object.assign({},this.ctx.manifest,{accountInfo:this.ctx.account}):this.ctx.manifest}pluggableDeactivate(){return u(this,void 0,void 0,(function*(){if(this.ctx.auth)try{yield this.ctx.auth.revoke()}finally{this.ctx.auth.destroy()}return{}}))}},Resource:class{constructor(e){this.ctx=e}getCommands(){return this.commands?this.commands.map((e=>new e(this.ctx))):[]}getRenderers(){return this.renderers?this.renderers.map((e=>new e(this.ctx))):[]}getDataAnnotations(){return this.dataAnnotations?this.dataAnnotations.map((e=>new e(this.ctx))):[]}getDataSources(){return this.dataSources?this.dataSources.map((e=>new e(this.ctx))):[]}getBreadcrumbObservers(){return this.breadcrumbObservers?this.breadcrumbObservers:[]}getDataObservers(){return this.dataObservers?this.dataObservers:[]}getDataTypes(){return this.dataTypes?this.dataTypes:[]}},WithContext:function(e){var t;return(t=class extends e{constructor(...e){super(...e),Object.defineProperties(this,{ctx:{enumerable:!1,configurable:!0,get:()=>{throw new TypeError("Context was not defined. Please call .setPluginContext() first")}}})}setPluginContext(e){Object.defineProperties(this,{ctx:{value:e,enumerable:!1,writable:!1}})}getPluginContext(){return this.ctx}hasPluginContext(){try{return!!this.ctx}catch(e){return!1}}}).typeName="wcontext",t}}}},21519:(e,t,r)=>{r.d(t,{G:()=>n});var n,s=r(81519),i=r(30577);!function(e){function t(e){const t=Object.keys(e);let r;for(const n of t){const t=e[n];t&&(r=r?i.B.merge(r,t):t)}return null!=r?r:i.B.nothing()}e.empty=function(){return{}},e.from=function(e){return{[s.L]:e}},e.isMultiportData=function(e){return"object"==typeof e&&null!=e&&Object.getPrototypeOf(e)===Object.prototype},e.isEmpty=function(e){return Object.values(e).every((e=>i.B.isEmpty(e)))},e.unify=t,e.getOnlyType=function(e,r){const n=Array.isArray(r)?r:[r],s=t(e),[o,a]=i.B.partition(s,(e=>n.some((t=>e.value.is(t)))));return o},e.merge=function(e,t){const r={},n=Array.from(new Set([...Object.keys(e),...Object.keys(t)]));for(const s of n){const n=e[s],o=t[s];(n||o)&&(n&&!o?r[s]=n:!n&&o?r[s]=o:n&&o&&(r[s]=i.B.merge(n,o)))}return r},e.map=function(e,t){const r=Object.keys(e),n={};for(const s of r){const r=e[s];r&&(n[s]=t(r,s))}return n},e.some=function(e,t){return Object.values(e).some(t)},e.reduceAsync=function(e,t,r){var n,s,i,o,a,c;return i=this,o=void 0,c=function*(){let i=r;const o=Object.keys(e);try{for(var a,c=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,s){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,s,(t=e[r](t)).done,t.value)}))}}}(o);!(a=yield c.next()).done;){const r=a.value;i=yield t(i,e[r],r)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(s=c.return)&&(yield s.call(c))}finally{if(n)throw n.error}}return i},new((a=void 0)||(a=Promise))((function(e,t){function r(e){try{s(c.next(e))}catch(e){t(e)}}function n(e){try{s(c.throw(e))}catch(e){t(e)}}function s(t){var s;t.done?e(t.value):(s=t.value,s instanceof a?s:new a((function(e){e(s)}))).then(r,n)}s((c=c.apply(i,o||[])).next())}))}}(n||(n={}))},37915:(e,t,r)=>{r.d(t,{u:()=>o});var n=r(91186),s=r(46845),i=r(91600);const o={Rest:n.k,RestJSON:s._,ServiceRest:i.p}},83844:(e,t,r)=>{r.d(t,{G:()=>n});const n=(0,r(63659).n)({clientErrorCode:"ApiClientError",message:"Client send an invalid request.",userHint:"Client send an invalid request",trackError:"default",arguments:[]})},49377:(e,t,r)=>{r.d(t,{S:()=>n});const n=(0,r(63659).n)({clientErrorCode:"ApiClientNotFoundError",message:"Resource not found.",userHint:"Some data from an integrated app could not be loaded.",trackError:"default",arguments:[]})},32604:(e,t,r)=>{r.d(t,{h:()=>n});const n=(0,r(63659).n)({clientErrorCode:"ApiClientUnauthorizedError",message:"User is not authorized.",userHint:"User is not authorized",trackError:"default",arguments:[]})},48391:(e,t,r)=>{r.d(t,{h:()=>n});const n=(0,r(63659).n)({clientErrorCode:"ApiHttpError",message:"API call failed.",userHint:"An error occurred calling out to an API.",trackError:"default",arguments:[]})},29403:(e,t,r)=>{r.d(t,{t:()=>n});const n=(0,r(63659).n)({clientErrorCode:"ApiServerError",message:"Server could not handle the request.",userHint:"Server could not handle the request.",trackError:"default",arguments:[]})},89890:(e,t,r)=>{r.d(t,{GY:()=>n.G,SM:()=>s.S,hc:()=>i.h,hg:()=>o.h,tc:()=>a.t});var n=r(83844),s=r(49377),i=r(32604),o=r(48391),a=r(29403)},91186:(e,t,r)=>{r.d(t,{o:()=>c,k:()=>u});var n=r(15865),s=r(18438),i=r(777),o=r(89890),a=function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};class c extends n.x{constructor(){super(...arguments),this.lastError=[]}getErrorFromResponse(e){return a(this,void 0,void 0,(function*(){const t=(0,i.Tn)(e)?yield e.json():yield e.text();return this.getErrorFromResponseBody(e,t)}))}getErrorFromResponseBody(e,t){return a(this,void 0,void 0,(function*(){const r={status:e.status,statusText:e.statusText};switch(r.status){case 401:throw o.hc.from(Object.assign({originalError:t},r));case 404:throw o.SM.from(Object.assign({originalError:t},r));case 500:throw o.tc.from(Object.assign({originalError:t},r));case 400:throw o.GY.from(Object.assign({originalError:t},r));default:throw o.hg.from(Object.assign({originalError:t},r))}}))}fetchWrapper(e,t){return a(this,void 0,void 0,(function*(){const r=new URL(e,this.baseUrl||void 0).toString(),n=()=>this.fetch(r,t).then((e=>a(this,void 0,void 0,(function*(){return e.ok?e:this.getErrorFromResponse(e)}))));return this.retryConfig?(0,s.retry)(n,this.retryConfig).catch((e=>{if(this.lastError.length>0)throw this.lastError.pop();if(e.lastError)throw e.lastError;throw e})):n()}))}setRetryConfig(e){this.retryConfig=e}post(e,t,r){return this.fetchWrapper(e,{method:"POST",body:t,headers:r})}get(e,t,r){return this.fetchWrapper(e+new URLSearchParams(t),{method:"GET",headers:r})}put(e,t,r){return this.fetchWrapper(e,{method:"PUT",body:t,headers:r})}patch(e,t,r){return this.fetchWrapper(e,{method:"PATCH",body:t,headers:r})}delete(e,t,r){return this.fetchWrapper(e,{method:"DELETE",body:t,headers:r})}}class u extends c{}},46845:(e,t,r)=>{r.d(t,{_:()=>o});var n=r(91186),s=r(777),i=function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};class o extends n.o{parseErrorCode(e){return(e.error||{}).code}parseErrorMessage(e){return(e.error||{}).message}parseJsonBody(e){return i(this,void 0,void 0,(function*(){const t=yield e.json();return null!=this.parseErrorCode(t)?this.getErrorFromResponseBody(e,t):t}))}fetchWrapper(e,t){const r=Object.create(null,{fetchWrapper:{get:()=>super.fetchWrapper}});return i(this,void 0,void 0,(function*(){const n=new URL(e,this.baseUrl||void 0).toString();t.body=t.body?a(t.body):null;const i=yield r.fetchWrapper.call(this,n,t);return 0===parseInt(i.headers.get("content-length"))?null:(0,s.Tn)(i)?this.parseJsonBody(i):(0,s.P0)(i)?i.text():i.blob()}))}}const a=e=>"object"==typeof e&&e.constructor==Object?JSON.stringify(e):e},91600:(e,t,r)=>{r.d(t,{p:()=>i});var n=r(53092),s=r(91186);class i extends s.k{constructor(e){super(e),this.serviceApi=new n.p(super.fetch.bind(this),e.config)}fetch(e,t){const r=()=>{const r=Object.assign({},t);return this.auth.authParams(r).then((t=>this.serviceApi.remoteFetch(t.redirectUrl||e,t)))};return r().then((e=>!e.ok||e.status>=400?this.handleErrorResponse(e,r):e))}}},6642:(e,t,r)=>{r.d(t,{E:()=>a});var n=r(63116),s=r(53411),i=r(30961),o=r(15770);const a={NoAuthFlow:n.T,OAuthFlow:s.C,APITokenAuthFlow:i.q,ServiceOAuthFlow:o.B}},4129:(e,t,r)=>{r.d(t,{D:()=>n,o:()=>o});var n,s=r(50881),i=(r(37656),function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))});!function(e){e[e.AtRedirectAway=0]="AtRedirectAway",e[e.AtRedirectToCallback=1]="AtRedirectToCallback",e[e.AtDataScriptSuccess=2]="AtDataScriptSuccess",e[e.AtSystemPrompt=3]="AtSystemPrompt"}(n||(n={}));class o{constructor(e){this.accountApi=e.accountApi,this.callbackUrl=e.callbackUrl,this.manifest=e.manifest,this.network=e.network,this.persistence=e.persistence,this.persistenceLifecycle=e.persistence,this.manager=e.manager,this.ctx=e.ctx}get integrationName(){var e;return(null===(e=this.manifest)||void 0===e?void 0:e.name)||"Bardeen"}fetch(e,t){return this.network.fetch(e,t)}resume(){return Promise.reject(s.nj.from({}))}refresh(e){return Promise.reject(s.nj.from({}))}revoke(){return Promise.resolve()}destroy(){return i(this,void 0,void 0,(function*(){this.persistenceLifecycle.destroy()}))}start(){return Promise.reject(s.nj.from({}))}finalize(e){return Promise.reject(s.nj.from({}))}getTerminationCondition(){return o.Termination.AtRedirectAway}getRefreshInterval(){return 0}getDataScript(){return""}declareSessionLost(){}}o.PersistedDataBlueprint={tsIssued:0,access_token:"",expires_in:0,refresh_token:"",scope:[""],tsExpires:0},o.Termination=n},86083:(e,t,r)=>{var n;r.d(t,{a:()=>n}),function(e){e.Text="text",e.Password="password",e.TextArea="textarea"}(n||(n={}))},37860:(e,t,r)=>{r.d(t,{g:()=>n});const n=(0,r(63659).n)({clientErrorCode:"AuthExchangeError",message:"Exchanging an OAuth2 code for an access and refresh token failed.",userHint:"Obtaining an access token failed. Please try again.",trackError:"default",arguments:[]})},3668:(e,t,r)=>{r.d(t,{G:()=>n});const n=(0,r(63659).n)({clientErrorCode:"AuthFlowAbortedError",message:"The user closed the auth flow window without completing the auth flow.",userHint:"Window closed without completing the authentication.",trackError:!1,arguments:[]})},48951:(e,t,r)=>{r.d(t,{U:()=>n});const n=(0,r(63659).n)({clientErrorCode:"AuthMissingRefreshTokenError",message:"The server did not return a refresh token.",userHint:"The server did not include a refresh token. This usually happens if you have installed this app multiple times in your account.",trackError:"default",arguments:[]})},82450:(e,t,r)=>{r.d(t,{D:()=>i});var n=r(63659),s=r(31429);const i=(0,n.n)({clientErrorCode:"AuthRefreshError",message:"Failed to refresh an auth token.",userHint:"Unable to refresh your authentication credentials.",trackError:"default",arguments:[{name:"integrationName",type:String,struct:s.f.Scalar},{name:"reason",type:String,struct:s.f.Scalar}]})},48377:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(63659),s=r(31429);const i=(0,n.n)({clientErrorCode:"AuthRefreshInProgressError",message:"Auth flow is already refreshing.",userHint:"Bardeen is currently refreshing yet another refresh was triggered.",trackError:"default",arguments:[{name:"integrationName",type:String,struct:s.f.Scalar},{name:"reason",type:String,struct:s.f.Scalar}]})},6201:(e,t,r)=>{r.d(t,{a:()=>i});var n=r(63659),s=r(31429);const i=(0,n.n)({clientErrorCode:"AuthRefreshPeriodicError",message:"Failed refreshing the session.",userHint:"Refreshing a session failed. If this is persistent, you will be asked to re-authenticate.",trackError:"default",arguments:[{name:"sessionId",type:String,struct:s.f.Scalar}]})},49071:(e,t,r)=>{r.d(t,{g:()=>i});var n=r(63659),s=r(31429);const i=(0,n.n)({clientErrorCode:"AuthResumeError",message:"App must be authenticated again.",userHint:"It seems you haven't used {{{integrationName}}} for a while and your credentials have expired. Please connect this integration again to keep using your automations.",trackError:"default",arguments:[{name:"integrationName",type:String,struct:s.f.Scalar}]})},13941:(e,t,r)=>{r.d(t,{h:()=>i});var n=r(63659),s=r(31429);const i=(0,n.n)({clientErrorCode:"AuthRevokeError",message:"Failed to revoke an OAuth2 token.",userHint:"Failed to revoke an OAuth2 token.",trackError:"default",arguments:[{name:"integrationName",type:String,struct:s.f.Scalar}]})},8485:(e,t,r)=>{r.d(t,{j:()=>i});var n=r(63659),s=r(31429);const i=(0,n.n)({clientErrorCode:"AuthRevokedByUserError",message:"An auth token was revoked by the user and is no longer valid.",userHint:"It looks like you have revoked the authorization token for {{{integrationName}}}. You will need to re-authenticate and authorize in order to use this integration.",trackError:"default",arguments:[{name:"integrationName",type:String,struct:s.f.Scalar}]})},77366:(e,t,r)=>{r.d(t,{M:()=>i});var n=r(63659),s=r(31429);const i=(0,n.n)({clientErrorCode:"AuthScopeConfirmationError",message:"Missing permissions.",userHint:"Seems like you missed some required permissions. We'll walk you through the authorization again. Please check all the boxes to make {{{integrationName}}} useful!",trackError:"default",arguments:[{name:"integrationName",type:String,struct:s.f.Scalar},{name:"missingScopes",type:String,struct:s.f.Array}]})},62529:(e,t,r)=>{r.d(t,{r:()=>n});const n=(0,r(63659).n)({clientErrorCode:"OAuth1AccessTokenError",message:"An error occurred while requesting an OAuth1 access token.",userHint:"Failed to obtain an access token. Please try again.",trackError:"default",arguments:[]})},99669:(e,t,r)=>{r.d(t,{w:()=>n});const n=(0,r(63659).n)({clientErrorCode:"OAuth1CallbackNotConfirmedError",message:"The remote service did not confirm the OAuth1 callback.",userHint:"The remote service did not confirm the OAuth1 callback. This seems to be a persistent error but please try again.",trackError:"default",arguments:[]})},31445:(e,t,r)=>{r.d(t,{g:()=>n});const n=(0,r(63659).n)({clientErrorCode:"OAuth1HeaderGenerationError",message:"Generating headers for an OAuth1 request failed.",userHint:"There was an error signing an authenticating request. You may retry, but it may fail again. We'll be investigating why this is happening.",trackError:"default",arguments:[]})},37097:(e,t,r)=>{r.d(t,{e:()=>n});const n=(0,r(63659).n)({clientErrorCode:"OAuth1RequestTokenError",message:"An error occurred while requesting an OAuth1 request token.",userHint:"There was an error obtaining a request token. Please try again.",trackError:"default",arguments:[]})},36714:(e,t,r)=>{r.d(t,{S:()=>i});var n=r(63659),s=r(31429);const i=(0,n.n)({clientErrorCode:"OAuth1RevokeError",message:"Failed to revoke access.",userHint:"{{{reason}}}.",trackError:"default",arguments:[{name:"reason",type:String,struct:s.f.Scalar}]})},92182:(e,t,r)=>{r.d(t,{g8:()=>n.g,GL:()=>s.G,Uw:()=>i.U,DG:()=>o.D,Zc:()=>a.Z,a_:()=>c.a,g5:()=>u.g,j6:()=>l.j,hv:()=>d.h,MD:()=>h.M,rx:()=>f.r,wC:()=>m.w,gu:()=>p.g,e:()=>g.e,S2:()=>y.S});var n=r(37860),s=r(3668),i=r(48951),o=r(82450),a=r(48377),c=r(6201),u=r(49071),l=r(8485),d=r(13941),h=r(77366),f=r(62529),m=r(99669),p=r(31445),g=r(37097),y=r(36714)},30961:(e,t,r)=>{r.d(t,{q:()=>a}),r(59186);var n=r(4129),s=r(86083),i=r(92182),o=function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};class a extends n.o{constructor(){super(...arguments),this.authData={}}deserializeSession(){return o(this,void 0,void 0,(function*(){const e=yield this.persistence.getRecord();if(!(null==e?void 0:e.authData)){const e=i.g5.from({integrationName:this.integrationName,reason:"Session does not exist"});return Promise.reject(e)}return this.authData=e.authData,this}))}getTerminationCondition(){return n.D.AtSystemPrompt}authQueryArgs(){const e=new URLSearchParams;return Promise.resolve(e)}getPromptTitle(){return""}getPromptLogo(){return""}getPromptDescription(){return""}getFields(){return[{label:"API Key",name:"token",type:s.a.TextArea}]}getToken(){return this.authData.token||""}resume(){return o(this,void 0,void 0,(function*(){return this.deserializeSession()}))}refresh(e){return o(this,void 0,void 0,(function*(){switch(e){case"init":case"lazy-init":case"periodical":return this;case"unauthorized":throw i.DG.from({integrationName:this.integrationName,reason:"Your token is not valid anymore"})}}))}revoke(){return o(this,void 0,void 0,(function*(){return this.manager.invalidateSession(this)}))}start(){return o(this,void 0,void 0,(function*(){const e=this.getFields().map(((e,t)=>`field[${t}]=${encodeURIComponent(encodeURIComponent(e.label)+":"+e.name+":"+e.type)}`)).join("&");return"bardeen://prompts/custom?logo="+this.getPromptLogo()+"&title="+this.getPromptTitle()+"&description="+this.getPromptDescription()+"&"+e}))}finalize(e){return o(this,void 0,void 0,(function*(){return this.authData=e,yield this.persistence.setRecord({tsIssued:Date.now(),authData:e}),this}))}authParams(e){return o(this,void 0,void 0,(function*(){const t=Object.assign({},e);return t.headers=Object.assign({},e.headers||{},{Authorization:"Bearer "+this.getToken()}),t}))}}a.PersistedDataBlueprint={tsIssued:0,authData:{}}},71956:(e,t,r)=>{r.d(t,{X:()=>l});var n=r(95129),s=r(86857),i=r.n(s),o=r(92182),a=(r(59186),r(4129)),c=r(8081),u=function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};class l extends a.o{constructor(){super(...arguments),this.authData=l.PersistedDataBlueprint,this.parser=new c.O,this.scope="write"}start(){return u(this,void 0,void 0,(function*(){return this.obtainRequestToken().then((e=>(this.tempToken=this.parser.parseToken(e),this.getAuthorizationUrl(this.tempToken))))}))}generateOAuthHeaders(e){return u(this,void 0,void 0,(function*(){const t=this.getAuth(),r=this.generateOAuth(t),n={url:e.url,method:e.method,includeBodyHash:!1,data:{oauth_nonce:r.getNonce(),oauth_timestamp:r.getTimeStamp(),oauth_consumer_key:r.consumer.key,oauth_signature_method:r.signature_method,oauth_version:r.version}};let s;if(e.oauth_callback&&(n.data.oauth_callback=e.oauth_callback),e.oauth_token&&(n.data.oauth_token=e.oauth_token),e.oauth_verifier&&(n.data.oauth_verifier=e.oauth_verifier),!0===e.tokenize){const t={key:e.oauth_token,secret:e.token_secret};s=r.authorize(e,t)}else s=r.authorize(e);const i=r.toHeader(s);return Promise.resolve(i)}))}obtainRequestToken(){return u(this,void 0,void 0,(function*(){const e=this.getAuth().requestTokenUrl,t={url:e,method:"POST",oauth_callback:this.callbackUrl},r=yield this.generateOAuthHeaders(t);return r.Accept="application/json",r.x_auth_access_type=this.scope,this.fetch(e,{method:t.method,headers:r,redirect:"follow"}).then((e=>e.text())).then((e=>u(this,void 0,void 0,(function*(){const t=this.parser.parseErrorJson(e);if(t)return Promise.reject(o.e.from({originalError:t}));const r=this.parser.parseUrlParams(e);return"true"!=this.parser.parseCallbackConfirmed(r)?Promise.reject(o.wC.from({})):r}))))}))}generateOAuth(e){return new(i())({consumer:{key:e.clientId,secret:e.clientSecret},signature_method:"HMAC-SHA1",version:"1.0",hash_function:(e,t)=>n.createHmac("sha1",t).update(e).digest("base64")})}getAuthorizationUrl(e){return this.getAuth().authorizationUrl+"?oauth_token="+e}obtainAccessToken(e){return u(this,void 0,void 0,(function*(){const t=this.getAuth().accessTokenUrl,r=this.parser.parseToken(e),n=this.parser.parseVerifier(e),s={url:t,method:"POST",oauth_callback:this.callbackUrl,oauth_token:r,oauth_verifier:n},i=yield this.generateOAuthHeaders(s);return i.Accept="application/json",i.x_auth_access_type=this.scope,this.fetch(t,{method:s.method,headers:i,redirect:"follow"}).then((e=>e.text())).then((e=>u(this,void 0,void 0,(function*(){const t=this.parser.parseErrorJson(e);if(t)return Promise.reject(o.rx.from({originalError:t}));const r=this.parser.parseUrlParams(e),n={access_token:this.parser.parseToken(r),oauth_token_secret:this.parser.parseTokenSecret(r),screenName:this.parser.parseUserId(r),tsIssued:Date.now(),user_id:this.parser.parseUserId(r)};return n.access_token?(yield this.persistence.setRecord(n),this.deserializeSession()):Promise.reject(o.rx.from({originalError:"Unable to parse an access token"}))}))))}))}finalize(e){return u(this,void 0,void 0,(function*(){const t=e,r=this.parser.parseToken(t),n=this.parser.parseVerifier(t);if(r!==this.tempToken)throw new Error("The token received in step 2 doesn't match the token received in step 1");if(!r)throw new Error("Could not find a token argument in the callback data");if(!n)throw new Error("Could not find a verifier argument in the callback data");return this.obtainAccessToken(t)}))}authParams(e){return u(this,void 0,void 0,(function*(){const t=Object.assign({},e),r={url:e.redirectUrl,method:e.method,oauth_token:this.authData.access_token,token_secret:this.authData.oauth_token_secret,tokenize:!0},n=yield this.generateOAuthHeaders(r);return t.headers=Object.assign({Accept:"application/json"},e.headers||{},n),t}))}authQueryArgs(){const e=new URLSearchParams;return e.append("token",this.authData.access_token),Promise.resolve(e)}getTerminationCondition(){return a.o.Termination.AtRedirectToCallback}revoke(){return u(this,void 0,void 0,(function*(){yield this.manager.invalidateSession(this);const e=this.getAuth(),t=e.revokeUrl;if(!t)return Promise.reject(o.S2.from({reason:"Not revoking OAuth session: Missing revoke URL"}));if(!this.authData.access_token||!this.authData.oauth_token_secret)return Promise.reject(o.S2.from({reason:"Not revoking OAuth session: Missing token or secret"}));const r={url:e.revokeUrl,method:"POST",oauth_token:this.authData.access_token,token_secret:this.authData.oauth_token_secret,tokenize:!0},n=yield this.generateOAuthHeaders(r);return n.Accept="application/json",this.fetch(t,{method:r.method,headers:n,redirect:"follow",credentials:"omit"}).then((e=>e.text())).then((e=>u(this,void 0,void 0,(function*(){const t=this.parser.parseErrorJson(e);if(t)return Promise.reject(o.S2.from({originalError:e,reason:t}));const r=JSON.parse(e);return this.parser.parseAccessToken(r)?Promise.resolve():Promise.reject(o.S2.from({reason:"Token was not invalidated"}))}))))}))}resume(){return u(this,void 0,void 0,(function*(){return this.deserializeSession()}))}deserializeSession(){return u(this,void 0,void 0,(function*(){const e=yield this.persistence.getRecord();if(!(null==e?void 0:e.access_token)||!(null==e?void 0:e.oauth_token_secret)){const e=o.g5.from({originalError:"Session does not exist",integrationName:this.integrationName});return this.ctx.log.error(e),Promise.reject(e)}return this.authData=e,this}))}refresh(e){return u(this,void 0,void 0,(function*(){return this.deserializeSession()}))}getAuth(){if(!this.manifest)throw new Error("Missing `manifest` in the session creation arguments");if(!this.manifest.auth)throw new Error("Missing `auth` settings key in plugin manifest");return this.manifest.auth}getDataScript(){return'\n      function getJsonFromUrl(url) {\n        if (!url) url = location.search;\n        var query = url.substr(1);\n        var result = {};\n        query.split("&").forEach((part) => {\n          var item = part.split("=");\n          result[item[0]] = decodeURIComponent(item[1]);\n        });\n        return result;\n      }\n\n      return getJsonFromUrl(window.location.search.toString());\n    '}}l.PersistedDataBlueprint={access_token:"",oauth_token_secret:"",screenName:"",tsIssued:0,user_id:""}},53411:(e,t,r)=>{r.d(t,{C:()=>u}),r(2872),r(59186);var n=r(4129),s=r(92182),i=r(83963),o=r(24678),a=r(22226),c=function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};class u extends n.o{constructor(e){super(e),this.token="",this.lastSuccessfulRefresh=0;const t=this.refresh.bind(this);let r=null;this.refresh=e=>c(this,void 0,void 0,(function*(){if(r){const t=s.Zc.from({integrationName:this.integrationName,reason:e});return this.ctx.log.debug(t),r}return r=t(e),r.finally((()=>{r=null})),r}))}getAuth(){if(!this.manifest)throw new Error("Missing `manifest` in the session creation arguments");if(!this.manifest.auth)throw new Error("Missing `auth` settings key in plugin manifest");return Promise.resolve(this.manifest.auth)}getToken(){return this.token}authQueryArgs(){const e=new URLSearchParams;return e.append("token",this.token),Promise.resolve(e)}parseCodeFromCallback(e){return e.code||""}parseAccessToken(e){return e.access_token||""}parseRefreshToken(e){return e.refresh_token||""}parseExpiresIn(e){return parseInt(e.expires_in||"0")}isTokenValid(){return c(this,void 0,void 0,(function*(){const e=yield this.persistence.getRecord();if(!e||!e.access_token)return!1;const t=e.tsIssued,r=e.tsExpires;return r>t?Date.now()<r:Date.now()<t+36e5}))}confirmScopesAfterRefresh(e,t){return e.scopesIgnoreOnRefresh?e.scopes||[]:this.parseScopes(e,t)}parseScopes(e,t){const r=e.scopes||[];if(!t.scope&&e.scopesAcceptUnconfirmed)return r;const n=e.scopeResponseDelimiter||" ",i=t.scope?t.scope.split(n):[],o=r.reduce(((e,t)=>(e.set(t,!0),e)),new Map);if(i.forEach((e=>{o.delete(e)})),o.size>0){const e=Object.keys(o),t=s.MD.from({integrationName:this.integrationName,missingScopes:e});throw this.ctx.log.error(t),t}return i}parseErrorMessage(e){return e.error_description||e.error||""}getRefreshTokenHeaders(e){return e}getRevokeTokenHeaders(e){return e}getExchangeCodeHeaders(e){return e}handleExchangeResponse(e){return Promise.resolve()}handleRefreshResponse(e){return Promise.resolve()}handleMissingRefreshToken(){return Promise.reject(s.Uw.from({integrationName:this.integrationName}))}deserializeSession(){return c(this,void 0,void 0,(function*(){const e=yield this.persistence.getRecord();if(!e||!e.access_token){const e=s.g5.from({originalError:"Session does not exist",integrationName:this.integrationName});return this.ctx.log.error(e),Promise.reject(e)}return this.token=e.access_token,this}))}parseExchangeCodeBody(e){return e.json()}getExchangeCodeArguments(e){return c(this,void 0,void 0,(function*(){const t=yield this.getAuth(),r=new URLSearchParams;return r.append("client_id",t.clientId),r.append("client_secret",t.clientSecret),r.append("code",e),r.append("redirect_uri",this.callbackUrl),r.append("grant_type","authorization_code"),Promise.resolve(r.toString())}))}getRefreshArguments(e,t){return c(this,void 0,void 0,(function*(){const t=yield this.getAuth(),r=new URLSearchParams;return r.append("client_id",t.clientId),r.append("client_secret",t.clientSecret||""),r.append("refresh_token",e),r.append("grant_type","refresh_token"),Promise.resolve(r.toString())}))}getRevokeArguments(e){return c(this,void 0,void 0,(function*(){const t=new URLSearchParams;return t.append("token",e),t.toString()}))}getRevokeTokenMethod(){return"POST"}getAuthorizationUrl(e,t){return c(this,void 0,void 0,(function*(){const r=Object.keys(t).map((e=>e+"="+encodeURIComponent(t[e]))).join("&"),n=yield this.getAuth();return n.authorizationUrl+"?client_id="+encodeURIComponent(n.clientId)+"&response_type=code&redirect_uri="+encodeURIComponent(this.callbackUrl)+"&scope="+encodeURIComponent(e.join(" "))+(r?"&"+r:"")}))}resume(){return c(this,void 0,void 0,(function*(){return o.n_({category:"auth",message:`Resuming session for ${this.integrationName}`,level:a.z.Info}),this.deserializeSession()}))}exchangeCodeForTokens(e){return c(this,void 0,void 0,(function*(){const t=yield this.getAuth(),r=yield this.getExchangeCodeArguments(e);return this.fetch(t.tokenUrl,{method:"POST",headers:this.getExchangeCodeHeaders({"Content-Type":"application/x-www-form-urlencoded"}),redirect:"follow",body:r}).then((e=>this.parseExchangeCodeBody(e))).then((e=>c(this,void 0,void 0,(function*(){if(this.parseErrorMessage(e)){const t=s.g8.from({originalError:e,integrationName:this.integrationName});return this.ctx.log.error(t),o.Tb(t),Promise.reject(t)}const r=Date.now(),n=this.parseExpiresIn(e),i=1e3*n,a={access_token:this.parseAccessToken(e),refresh_token:this.parseRefreshToken(e),expires_in:n,tsIssued:r,tsExpires:r+i,scope:this.parseScopes(t,e)};return yield this.persistence.setRecord(a),a.refresh_token||(yield this.handleMissingRefreshToken()),yield this.handleExchangeResponse(e),this.deserializeSession()}))))}))}refresh(e){return c(this,void 0,void 0,(function*(){const t=yield this.getAuth();o.n_({category:"auth",message:`refreshing session for ${this.integrationName} (${e})`,level:a.z.Info});const r=yield this.persistence.getRecord();if(!(null==r?void 0:r.refresh_token)){const e=s.DG.from({integrationName:this.integrationName,reason:"Server did not include a refresh token"});throw this.ctx.log.error(e),e}if(("init"===e||"lazy-init"===e)&&(yield this.isTokenValid()))return this.deserializeSession();const n=yield this.getRefreshArguments(r.refresh_token,e);return this.fetch(t.tokenUrl,{method:"POST",headers:this.getRefreshTokenHeaders({"Content-Type":"application/x-www-form-urlencoded"}),redirect:"follow",body:n}).then((e=>this.parseExchangeCodeBody(e))).then((e=>c(this,void 0,void 0,(function*(){const n=this.parseErrorMessage(e);if(n){const e=s.g5.from({originalError:n,integrationName:this.integrationName,reason:"Could not refresh token"});return this.ctx.log.error(e),Promise.reject(e)}const i=Date.now(),o=this.parseExpiresIn(e),a=1e3*o,c=this.confirmScopesAfterRefresh(t,e),u=this.parseRefreshToken(e)||r.refresh_token,l={access_token:this.parseAccessToken(e),refresh_token:u,expires_in:o,tsIssued:i,tsExpires:i+a,scope:c};if(!l.access_token||!l.expires_in){const e=s.g5.from({originalError:"Missing fields in the response",integrationName:this.integrationName});return this.ctx.log.error(e),Promise.reject(e)}return this.lastSuccessfulRefresh=i,l.scope=this.confirmScopesAfterRefresh(t,e),yield this.persistence.setRecord(l),yield this.handleRefreshResponse(e),this.deserializeSession()})))).catch((e=>{const t=(0,i.Je)(e)?e:s.g5.from({originalError:e,integrationName:this.integrationName});return this.ctx.log.error(t),Promise.reject(t)}))}))}revoke(){return c(this,void 0,void 0,(function*(){yield this.manager.invalidateSession(this);const e=yield this.getAuth();if(!e.revokeUrl)return o.n_({category:"auth",message:`not revoking OAuth session for ${this.integrationName}: missing revoke URL`,level:a.z.Error}),void this.ctx.log.warn(`not revoking OAuth session for ${this.integrationName}: missing revoke URL`);const t=yield this.persistence.getRecord();if(!t||!t.access_token)return;const r=yield this.getRevokeArguments(t.access_token);return this.fetch(e.revokeUrl,{method:this.getRevokeTokenMethod(),headers:this.getRevokeTokenHeaders({"Content-Type":"application/x-www-form-urlencoded"}),redirect:"follow",body:r}).then((e=>c(this,void 0,void 0,(function*(){return e.ok?Promise.resolve():e.json().then((e=>{const t=e.error_description||e.error||"Unknown Error",r=`Could not revoke token: ${JSON.stringify(t)}`;return this.ctx.log.error(r),Promise.reject(r)}))}))))}))}getTerminationCondition(){return n.o.Termination.AtRedirectToCallback}getDataScript(){return'\n      function$getJsonFromUrl(url) {\n        if (!url) url = location.search;\n        var$q = url.substr(1);\n        var$r = {};\n        q.split("&").forEach((p) => {\n          var$i = p.split("=");\n          r[i[0]] = decodeURIComponent(i[1]);\n        });\n        return$r;\n      }\n\n      return$getJsonFromUrl(window.location.search.toString());\n    '.replace(/\s/gim,"").replace(/\$/gim," ")}start(){return c(this,void 0,void 0,(function*(){o.n_({category:"auth",message:`starting flow for ${this.integrationName}`,level:a.z.Info});const e=yield this.getAuth(),t=e.scopes||[],r=e.extraUrlParameters||{};return this.getAuthorizationUrl(t,r)}))}finalize(e){return c(this,void 0,void 0,(function*(){o.n_({category:"auth",message:`finalizing session for ${this.integrationName}`,level:a.z.Warning});const t=this.parseCodeFromCallback(e);if(!t)throw new Error("Could not find a `code` argument in the OAuth2 callback data");return this.exchangeCodeForTokens(t)}))}authParams(e){return c(this,void 0,void 0,(function*(){const t=Object.assign({},e);return t.headers=Object.assign({},e.headers||{},{Authorization:"Bearer "+this.token}),t}))}}u.PersistedDataBlueprint={tsIssued:0,access_token:"",expires_in:0,refresh_token:"",scope:[""],tsExpires:0}},20719:(e,t,r)=>{r.d(t,{w:()=>a});var n=r(71956),s=r(53092),i=r(92182),o=function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};class a extends n.X{constructor(){super(...arguments),this.serviceApi=new s.p(this.network.fetch,this.manifest.api)}generateOAuthHeaders(e){return o(this,void 0,void 0,(function*(){return this.serviceApi.remoteCall("oauth1",e).then((e=>{if(e.ok)return e.json();{const t=`Error fetching OAuth1 headers: Server responded with ${e.statusText}`;return Promise.reject(t)}})).then((e=>o(this,void 0,void 0,(function*(){const t=e.message||"";return t?Promise.reject(i.gu.from({originalError:t})):e}))))}))}}},15770:(e,t,r)=>{r.d(t,{B:()=>o});var n=r(53411),s=r(8885),i=function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};class o extends((0,s.i)(n.C)){getExchangeCodeArguments(e){return i(this,void 0,void 0,(function*(){const t=new URLSearchParams;return t.append("code",e),t.append("redirect_uri",this.callbackUrl),t.append("grant_type","authorization_code"),Promise.resolve(t.toString()+"&client_secret={{client_secret}}&client_id={{client_id}}")}))}getRefreshArguments(e,t){return i(this,void 0,void 0,(function*(){const t=new URLSearchParams;return t.append("refresh_token",e),t.append("grant_type","refresh_token"),Promise.resolve(t.toString()+"&client_secret={{client_secret}}&client_id={{client_id}}")}))}getAuthorizationUrl(e,t){return i(this,void 0,void 0,(function*(){const r=Object.keys(t).map((e=>e+"="+encodeURIComponent(t[e]))).join("&"),n=yield this.getAuth(),s=e.length?"&scope="+encodeURIComponent(e.join(" ")):"",i=n.authorizationUrl+"?client_id={{client_id}}&response_type=code&redirect_uri="+encodeURIComponent(this.callbackUrl)+s+(r?"&"+r:"");return this.getServiceAPI().redirectUrl(i)}))}}},8885:(e,t,r)=>{r.d(t,{i:()=>s});var n=r(53092);function s(e){return class extends e{getServiceAPI(){return this._serviceApi||(this._serviceApi=new n.p(this.network.fetch,this.manifest.api)),this._serviceApi}fetch(e,t){return this.getServiceAPI().remoteFetch(e.toString(),t)}}}},83998:(e,t,r)=>{r.d(t,{qM:()=>n.q,Xb:()=>s.X,C8:()=>i.C,wM:()=>o.w,Bq:()=>a.B,it:()=>c.i});var n=r(30961),s=r(71956),i=r(53411),o=r(20719),a=r(15770),c=r(8885)},67953:(e,t,r)=>{r.d(t,{g8:()=>n.g8,GL:()=>n.GL,Uw:()=>n.Uw,DG:()=>n.DG,Zc:()=>n.Zc,a_:()=>n.a_,g5:()=>n.g5,hv:()=>n.hv,j6:()=>n.j6,MD:()=>n.MD,rx:()=>n.rx,wC:()=>n.wC,gu:()=>n.gu,e:()=>n.e,S2:()=>n.S2,o5:()=>s.o,D$:()=>s.D,EI:()=>i.E,a1:()=>o.a,qM:()=>a.qM,Xb:()=>a.Xb,C8:()=>a.C8,wM:()=>a.wM,Bq:()=>a.Bq,it:()=>a.it});var n=r(92182),s=r(4129),i=r(6642),o=r(86083),a=r(83998)},19010:(e,t,r)=>{r.d(t,{$:()=>s});var n=r(4614);r(51858);class s{constructor(e){this.ctx=e}canHandle(e){if(!this.dataTypes)throw new Error(`DataSource ${this.constructor.name} Error: Please either specify .dataTypes or override the .canHandle() method`);return this.dataTypes.some((t=>n.pM.isExact(e,t)))}getNextBackgroundSyncTimestamp(e){if(!e){if(this.backgroundSyncAtLoad)return Date.now();e=Date.now()}return this.backgroundSyncInterval?e+1e3*this.backgroundSyncInterval:0}}},41415:(e,t,r)=>{r.d(t,{D:()=>o});var n=r(26411),s=r(24678),i=r(22226);class o extends n.b{constructor(){super(...arguments),this._pollingAborted=!1,this.pollInterval=60}getNextPollTimestamp(e){return e+1e3*this.pollInterval}main(){return this._pollingAborted=!1,new Promise(((e,t)=>{let r=0;const n=()=>{if(this._pollingAborted)return Promise.resolve();const e=this.constructor.observerName;return s.n_({category:this.constructor.name,message:"taskHandler: polling",level:i.z.Info,data:{instanceId:this.instanceId,observerName:e}}),this.ctx.runtime.syncLockAcquire().then((()=>this.poll().then((()=>{r=Date.now(),s.n_({category:this.constructor.name,message:"taskHandler: completed",level:i.z.Info,data:{instanceId:this.instanceId,lastPollTime:r,observerName:e}}),o()})).catch((e=>{t(e)})))).finally((()=>this.ctx.runtime.syncLockRelease()))},o=()=>this.ctx.queue.schedule(n,this.getNextPollTimestamp(r));this.ctx.queue.run(n)}))}abort(){return this._pollingAborted=!0,Promise.resolve()}}},53092:(e,t,r)=>{r.d(t,{p:()=>o});var n=r(28265),s=r(50881),i=function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};class o{constructor(e,t){if(!(null==t?void 0:t.serviceEnclave))throw new Error("Missing 'api.serviceEnclave' parameter in the manifest");if(!(null==t?void 0:t.serviceId))throw new Error("Missing 'api.serviceId' parameter in the manifest");this.serviceEnclave=t.serviceEnclave,this.serviceId=t.serviceId,this._fetch=e}static setAccountAPI(e){o.accountAPI=e}redirectUrl(e){const t=`proxy/${this.serviceId}?enclave=${encodeURIComponent(this.serviceEnclave)}&redirect=${encodeURIComponent(e)}`;return o.accountAPI?o.accountAPI.computeGetURL(t):Promise.resolve(t)}remoteCall(e,t={}){return i(this,void 0,void 0,(function*(){const r=`${e}/${this.serviceId}`;return(o.accountAPI?o.accountAPI.fetch.bind(o.accountAPI):this._fetch)(r,{method:"POST",headers:{"X-Service-Enclave":this.serviceEnclave,"Content-Type":"application/json"},body:JSON.stringify(t)})}))}remoteFetch(e,t){const r=`proxy/${this.serviceId}`;return(o.accountAPI?o.accountAPI.fetch.bind(o.accountAPI):this._fetch)(r,{method:"POST",headers:{"X-Service-Enclave":this.serviceEnclave,"Content-Type":"application/json"},body:JSON.stringify({url:e,method:t.method||"get",responseType:"text",headers:t.headers,data:t.body})}).then((e=>e.ok?e.json():e.text().then((t=>Promise.reject(s.SJ.from({originalError:t,httpStatus:e.status,url:r})))))).then((e=>new a(e)))}}class a{constructor(e){this.status=e.status,this.statusText=e.statusText,this.ok=this.status>=200&&this.status<300,this.redirected=!1,this.type="basic",this.url=e.url,this.remoteBody=e.data,this.body=e.data,this.bodyUsed=!1,this.headers=new Headers,Object.keys(e.headers).forEach((t=>{this.headers.append(t,e.headers[t])}))}clone(){return this}arrayBuffer(){return this.text().then((e=>(new n.p).encode(e)))}blob(){const e=this.headers.get("content-type")||"text/plain";return this.arrayBuffer().then((t=>new Blob([t],{type:e})))}formData(){throw new Error("Method not implemented.")}json(){return i(this,void 0,void 0,(function*(){if("string"!=typeof this.remoteBody)return Promise.resolve(this.remoteBody);const e=yield this.text();if(!e)return{};try{return JSON.parse(e)}catch(t){throw s.s0.from({originalError:t,text:e})}}))}text(){return"string"!=typeof this.remoteBody?Promise.resolve(JSON.stringify(this.remoteBody)):Promise.resolve(this.remoteBody)}}},38089:(e,t,r)=>{r.d(t,{t$:()=>n.t,$V:()=>s.$,Dg:()=>i.D,pq:()=>o.p});var n=r(53207),s=r(19010),i=r(41415),o=r(53092)},91206:(e,t,r)=>{r.d(t,{a:()=>i});var n=r(63659),s=r(31429);const i=(0,n.n)({clientErrorCode:"CommandInvocationUserError",message:"Command Invocation failed.",userHint:"{{{userHint}}}",trackError:!1,arguments:[{name:"cmdName",type:String,struct:s.f.Scalar},{name:"userHint",type:String,struct:s.f.Scalar}]})},32825:(e,t,r)=>{r.d(t,{a:()=>n.a});var n=r(91206)},54613:(e,t,r)=>{r.d(t,{o:()=>n});const n=(0,r(63659).n)({clientErrorCode:"RpcApiError",message:"RPC communication failed.",userHint:"An internal error occurred.",trackError:"default",arguments:[]})},80767:(e,t,r)=>{r.d(t,{x:()=>n});const n=(0,r(63659).n)({clientErrorCode:"RpcMessageIdError",message:"RPC Message has no ID.",userHint:void 0,trackError:"default",arguments:[]})},28463:(e,t,r)=>{r.d(t,{v:()=>n});const n=(0,r(63659).n)({clientErrorCode:"RpcMessageResponseError",message:"Failed to handle RPC response.",userHint:void 0,trackError:"default",arguments:[]})},51540:(e,t,r)=>{r.d(t,{n:()=>i});var n=r(63659),s=r(31429);const i=(0,n.n)({clientErrorCode:"RpcMessageTimedOutError",message:"Got no response to an RPC call.",userHint:void 0,trackError:"default",arguments:[{name:"data",type:String,struct:s.f.Scalar}]})},23711:(e,t,r)=>{r.d(t,{U:()=>n});const n=(0,r(63659).n)({clientErrorCode:"RpcMessageUnknownError",message:"RPC Message ID is unknown.",userHint:"An internal error occurred. Please restart the application if the problem persists.",trackError:"default",arguments:[]})},49626:(e,t,r)=>{r.d(t,{os:()=>n.o,xx:()=>s.x,v9:()=>i.v,nW:()=>o.n,UT:()=>a.U});var n=r(54613),s=r(80767),i=r(28463),o=r(51540),a=r(23711)},75895:(e,t,r)=>{r.d(t,{s:()=>c});var n=r(6945),s=(r(2872),r(49626)),i=r(83963),o=r(24678);const a=[];class c{constructor(e,t,r){this.postMessage=e=>new Promise(((t,r)=>{const n=setTimeout((()=>{r(s.nW.from({data:JSON.stringify(e)}))}),24e5);this.target.postMessage(e),this.pendingRpc.set(e.messageId,((...e)=>{clearTimeout(n),t(...e)}))})),this.handleMessage=e=>{const t=e.data;if(t)return t&&"status"in t?this.handleResponse(t):this.handleRequest(t);this.ctx.log.warn(`Ignoring message ${JSON.stringify(e)}`)},this.handleRequest=e=>{return t=this,r=void 0,s=function*(){let t;this.ctx.log.debug(`Processing '${e.method}'`);for(const r of this.requestHandlers)if(t=yield r.handleRequest(e).catch((t=>this.handleException(e,t))),t)break;if(!t){const r=Error(`No registered handler for '${e.method}'`);t=this.handleException(e,r)}return this.ctx.log.debug(`Generated '${t.status}' Response for '${e.method}' (${e.messageId})`),this.target.postMessage(t)},new((n=void 0)||(n=Promise))((function(e,i){function o(e){try{c(s.next(e))}catch(e){i(e)}}function a(e){try{c(s.throw(e))}catch(e){i(e)}}function c(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(e){e(r)}))).then(o,a)}c((s=s.apply(t,r||[])).next())}));var t,r,n,s},this.handleResponse=e=>{if(this.ctx.log.debug(`Received response for '${e.method}' (${e.messageId})`),void 0===e.messageId){const t=s.xx.from({originalError:e});return this.ctx.log.error(t),void o.Tb(t)}const t=this.pendingRpc.get(e.messageId);if(!t){const t=s.UT.from({originalError:`Message ID ${e.messageId} is unknown.`,pendingRpcMessages:this.pendingRpc.size,registeredApis:a,api:this.name,message:{id:e.messageId,method:e.method,error:e.error,status:e.status}});return this.ctx.log.error(t),this.ctx.log.debug(`Unknown message ${e.messageId}: ${JSON.stringify(e)}`),void o.Tb(t)}this.ctx.log.debug(`Resolving response for '${e.method}' (${e.messageId})`);try{if("ok"===e.status)t(e.value?JSON.parse(e.value):void 0);else if(e.error){const r=i.YY.fromSerialized(e.error);this.ctx.log.error(`Received error for message ${e.messageId}: ${r.toString()}`),t(Promise.reject(r))}else t(Promise.reject(Error("Unknown RpcApiError without error details")))}catch(t){const r=s.v9.from({originalError:t,pendingRpcMessages:this.pendingRpc.size,messageMethod:e.method,messageError:e.error,messageStatus:e.status});this.ctx.log.error(r),o.Tb(r)}finally{this.pendingRpc.delete(e.messageId)}},this.handleCommunicationError=e=>{let t;t="origin"in e?s.os.from({originalError:e,message:"Failed to deserialize a message"}):s.os.from({originalError:e});try{const t=e.data.messageId;this.pendingRpc.delete(t)}catch(e){this.ctx.log.error(`Failed to delete pending promise: ${e}`)}this.ctx.log.error(t)},this.ctx=e,this.target=t,this.pendingRpc=new Map,this.requestHandlers=[],this.name=`${r}_${(new Date).toISOString()}`,a.push(this.name),e.log.info(`RpcApiWorkerImpl created: ${this.name}`),this.target.addEventListener("message",this.handleMessage),this.target.addEventListener("messageerror",this.handleCommunicationError),this.target.addEventListener("error",this.handleCommunicationError)}registerRequestHandler(e){this.requestHandlers.push(e)}handleException(e,t){const r=(0,i.Je)(t)?t:s.os.from({originalError:t,messageId:e.messageId});return this.ctx.log.error(r),new n.lt(e,r)}}},24029:(e,t,r)=>{r.d(t,{s:()=>n.s});var n=r(75895)},6945:(e,t,r)=>{r.d(t,{sY:()=>n.s,lb:()=>s.l,lt:()=>i.l,rJ:()=>i.r});var n=r(24029),s=(r(2280),r(47924)),i=(r(58691),r(9730))},15047:(e,t,r)=>{r.d(t,{sY:()=>n.sY,lt:()=>n.lt,rJ:()=>n.rJ,lb:()=>n.lb,os:()=>s.os,xx:()=>s.xx,v9:()=>s.v9,nW:()=>s.nW,UT:()=>s.UT});var n=r(6945),s=r(49626)},8945:(e,t,r)=>{r.d(t,{F:()=>s,R:()=>i});const n=[];function s(e,t){return r=this,s=void 0,o=function*(){n.push(e);try{return yield t()}finally{n.pop()}},new((i=void 0)||(i=Promise))((function(e,t){function n(e){try{c(o.next(e))}catch(e){t(e)}}function a(e){try{c(o.throw(e))}catch(e){t(e)}}function c(t){var r;t.done?e(t.value):(r=t.value,r instanceof i?r:new i((function(e){e(r)}))).then(n,a)}c((o=o.apply(r,s||[])).next())}));var r,s,i,o}function i(e){const t={};for(const e of n)Object.assign(t,e);return null!=e?t[e]:t}},18497:(e,t,r)=>{var n;r.d(t,{w:()=>n}),function(e){e.IntegrationPlugin="integration",e.SpiderEngine="spider-engine"}(n||(n={}))},45555:(e,t,r)=>{r.d(t,{pm:()=>n,R3:()=>s,Gy:()=>i}),r(68796);class n{constructor(e){this.log=console,this.tracking=e;{const e=()=>{};console.trace=e,console.debug=e}}child(e){return this}}class s{constructor(){this.log=new i,this.tracking={track:(e,t)=>Promise.resolve()}}child(e){return new s}}class i{constructor(){this.trace=()=>{},this.debug=()=>{},this.info=()=>{},this.warn=()=>{},this.error=()=>{}}}},14319:(e,t,r)=>{r.d(t,{Xu:()=>s,hv:()=>i,B3:()=>o,vI:()=>a});var n=r(68796);class s extends n.IDObject{}s.typeName="scraper.model";class i extends s{}i.typeName="scraper.model.individual";class o extends s{}o.typeName="scraper.model.list";class a extends s{}a.typeName="scraper.model.table"},35194:(e,t,r)=>{r.d(t,{k:()=>s});const n=({hasInput:e=!1,scraping:t=!0,special:r=!1}={})=>({hasInput:e,scraping:t,special:r}),s={text:n(),link:n(),image:n(),click:n({scraping:!1}),input:n({scraping:!1,hasInput:!0}),attribute:n({hasInput:!0}),delay:n({scraping:!1,hasInput:!0,special:!0}),"soc-image":n({special:!0}),clipboard:n({special:!0}),table:n({special:!0}),timestamp:n({special:!0}),title:n({special:!0}),url:n({special:!0})}},8680:(e,t,r)=>{r.d(t,{Xu:()=>n.Xu,hv:()=>n.hv,B3:()=>n.B3,vI:()=>n.vI,ko:()=>s.k});var n=r(14319),s=r(35194)},40207:(e,t,r)=>{r.d(t,{r:()=>s}),r(2872);var n=r(36580);class s{constructor(e){this.data=new Map,this.ctx=e}createSession(e){const t=(0,n.x)();return this.data.set(t,{values:[e]}),this.ctx.log.debug(`Created session ${t}`),{id:t,index:0}}add(e,t){const r=this.data.get(e);if(!r)throw Error("Session not found");r.values.push(t);const n=r.values.length-1;return this.ctx.log.debug(`Added index ${n} to session ${e}`),{id:e,index:n}}getData(e){const t=this.data.get(e.id);if(t)return t.values[e.index]}destroySession(e){this.ctx.log.debug(`Deleting session ${e}`),this.data.delete(e)}}},30495:(e,t,r)=>{r.d(t,{x:()=>n.x,r:()=>s.r});var n=r(36580),s=r(40207)},6871:(e,t,r)=>{r.d(t,{r:()=>n.r,x:()=>n.x});var n=r(30495)},76501:(e,t,r)=>{var n;r.d(t,{W:()=>n}),function(e){e.Default="",e.Notification="notification",e.Playbooks="playbook",e.PlaybookSuggestion="playbook-suggestion",e.Command="command",e.ArgumentRequired="arg-required",e.ArgumentOptional="arg-optional",e.Value="value",e.Operator="operator",e.NotInstalled="not-installed",e.ExactMatch="exact"}(n||(n={}))},86320:(e,t,r)=>{r.d(t,{Q:()=>n});const n={styleInsertionPoint:"undefined"==typeof document?void 0:document.head,portalInsertionPoint:"undefined"==typeof document?void 0:document.body,documentRoot:"undefined"==typeof document?void 0:document.body}},26068:(e,t,r)=>{r.d(t,{L8:()=>n.L8,uk:()=>n.uk,o5:()=>n.o5,Wm:()=>s.W,QV:()=>i.Q,tb:()=>o.tb,kj:()=>o.kj,s4:()=>o.s4});var n=r(15579),s=r(76501),i=(r(40517),r(86320)),o=r(31192)},649:(e,t,r)=>{r.d(t,{S:()=>c});var n=r(5448),s=r(90534),i=r(79577),o=(r(69398),r(19034)),a=r.n(o);class c{constructor(){this.GERMAN_DATE_PATTERN=/([0-9]{1,2})\.([0-9]{1,2})(\.([0-9]{4}|[0-9]{2}))?(\W|$)/i,this.customParsers=[{pattern:()=>this.GERMAN_DATE_PATTERN,extract:(e,t)=>{let r=e.text;const n=t.index,s=r.substr(n).match(this.GERMAN_DATE_PATTERN);if(null==s)return null;r=s[0];const o=s[4]||s[3]||s[2];r=s[0].substr(0,s[0].length-o.length);const c=parseInt(s[1]),u=parseInt(s[2]);let l=s[3]?parseInt(s[3]):(new Date).getFullYear();l<100&&(l+=l>50?1900:2e3);const d=a()([l,u,c]);if(d.date()!=c||d.month()!=u||d.year()!=l)return null;const h=(new Date).getTimezoneOffset(),f=new i.ParsingComponents({instant:e.refDate,timezoneOffset:h},{day:d.date(),month:d.month(),year:d.year(),weekday:d.day()});return new i.ParsingResult({instant:e.refDate,timezoneOffset:h},n,r,f)}}],this.customRefiners=[{refine:(e,t)=>{const r=t[0];if(t.length>0&&!r.end){const t=e.text.replace(r.text,""),n=this.parseDuration(t);if(n){const e=i.ParsingComponents.createRelativeFromRefInstant(r.start.date(),{second:n});r.end=e}}return t[0]=r,t}}],this.otherPatterns=[{regex:/(half)( )?(of)?( )?(an)?/,value:"0.5 "},{regex:/(quarter)( )?(of)?( )?(an)?/,value:"0.25 "},{regex:/ an hour/,value:" 1 hour"}],this.numbers={zero:0,one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,fifteen:15,thirty:30},this.instance=n.casual.clone(),this.instance.parsers=[...this.customParsers,...this.instance.parsers],this.instance.refiners=this.instance.refiners.concat(this.customRefiners)}parse(e,t=new Date){return e=this.cleanse(e),this.instance.parse(e,t)}parseDate(e){const t=this.cleanse(e);return this.instance.parseDate(t)}cleanse(e){let t=e.replace("till","-").replace("until","-");return t=t.replace(/(all day|whole day|entire day)/gi,"00:01-23:59"),t=t.replace("tmw","tomorrow"),t=t.replace("tdy","today"),[/^\s+([0-9]{1,2})\.([0-9]{1,2})\s+$/,/^([0-9]{1,2})\.([0-9]{1,2})\s+$/,/^([0-9]{1,2})\.([0-9]{1,2})$/,/^\s+([0-9]{1,2})\.([0-9]{1,2})$/,/^\s+([0-9]{1,2})\s+\.([0-9]{1,2})$/,/^([0-9]{1,2})\.\s+([0-9]{1,2})$/,/^([0-9]{1,2})\s+\.\s+([0-9]{1,2})$/].forEach((e=>{const r=t.match(e);if(r&&r[0]){const e=r.index+r[0].length;if(parseInt(t.slice(0,e).split(".")[1])<13){const r=t.slice(0,e).split(".")[1].concat(".",t.slice(0,e).split(".")[0]);t=r+`.${(new Date).getFullYear()}`+t.slice(e)}}})),t}parseDuration(e){let t=e,r=(0,s.Z)(t,"s");return r||(t=this.text2num(e),r=(0,s.Z)(t,"s")),r}text2num(e){let t=e;for(const[e,r]of Object.entries(this.numbers))t=t.replace(e,r.toString());for(const e of this.otherPatterns)t=t.replace(e.regex,e.value.toString());return t}}},13670:(e,t,r)=>{r.d(t,{G5:()=>o,Xq:()=>a,Ry:()=>c,hi:()=>u});var n=r(50881),s=r(62632),i=r(7163);function o(e,t){const r=Array.isArray(e)?e:[e];return t.filter((e=>r.some((t=>e.is(t)))))}function a(e){if(Array.isArray(e))return s.i.Array;if("is"in e)return e.is(i._)?1===e.getAllObjects().length?s.i.Scalar:s.i.Array:s.i.Scalar;throw new TypeError("The argument given is not a valid structural combination of DInterface")}function c(e){if(!e)return[];const t=new Set;if(Array.isArray(e))for(const r of e)for(const e of c(r))t.add(e);else t.add(e.constructor),"is"in e&&e.is(i._)&&c(e.getAllObjects()).forEach((e=>t.add(e)));return Array.from(t)}function u(e){if(!e)return[];if(Array.isArray(e)){const t=[];for(const r of e)t.push(...u(r));return t}if("is"in e)return e.is(i._)?e.getAllObjects():[e];throw n.ps.from({originalError:"Trying to flatten an array of non-DInterface objects"})}r(15001)},94834:(e,t,r)=>{r.d(t,{g:()=>n});function n(){return e=this,t=void 0,n=function*(){if(null!=globalThis.navigator&&globalThis.navigator.language){const e=globalThis.navigator.language.split("-").pop();if(e)return e.toUpperCase()}return""},new((r=void 0)||(r=Promise))((function(s,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}));var e,t,r,n}},71134:(e,t,r)=>{r.d(t,{H:()=>i});var n=r(88767),s=r(50881);class i{constructor(e){this.context={exclusive:null!=e.context.exclusive&&e.context.exclusive,lockId:null==e.context.lockId?(0,n.Z)():e.context.lockId,reason:e.context.reason},this.value=e.value,this.owned=[],this.valid=!0,this.fnRelease=e.release}invalidate(){this.valid=!1,delete this.value,delete this.fnRelease}transferOwnershipTo(e){if(!this.valid)throw s.Sm.from({});const t=new i({context:this.context,release:this.fnRelease,value:this.value});e.owned.push(t,...this.owned),this.invalidate()}release(){return e=this,t=void 0,n=function*(){if(!this.valid)throw s.Sm.from({});this.valid=!1,yield this.fnRelease(this.value),this.invalidate(),yield Promise.all(this.owned.map((e=>e.release())))},new((r=void 0)||(r=Promise))((function(s,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}));var e,t,r,n}get(){if(!this.valid)throw s.Sm.from({});return this.value}isValid(){return this.valid}}},84325:(e,t,r)=>{r.d(t,{X:()=>o});var n=r(50881),s=(r(90988),r(71134)),i=function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};class o{constructor(e,t){this.handleLockRelease=(e,t,r)=>i(this,void 0,void 0,(function*(){const n=this.lookup.get(e);if(!n)return;const s=n.indexOf(r);-1!==s?(n.splice(s,1),0===n.length&&(this.lookup.delete(e),this.lockValues.delete(e),yield this.fnDestruct(t))):this.ctx.log.warn("Could not find lock in lock entries")})),this.ctx=e,this.fnDestruct=(null==t?void 0:t.onDestruct)||(e=>Promise.resolve()),this.fnConstruct=(null==t?void 0:t.onConstruct)||(e=>Promise.resolve(e)),this.fnPostConstruct=(null==t?void 0:t.onAfterConstruct)||((e,t)=>Promise.resolve()),this.lookup=new Map,this.lockValues=new Map}invalidateLocks(e){return i(this,void 0,void 0,(function*(){const t=this.lookup.get(e);t&&(yield Promise.all(t.map((e=>e.release().catch((e=>{if(!n.Sm.is(e))throw e}))))),this.lookup.delete(e),this.lockValues.delete(e))}))}isLocked(e){return this.lookup.has(e)}isExclusivelyLocked(e){const t=this.lookup.get(e);return!!t&&t.some((e=>e.context.exclusive))}getLockContexts(e){const t=this.lookup.get(e);return t?t.map((e=>e.context)):[]}acquire(e,t){return i(this,void 0,void 0,(function*(){let r,i=!1,o=this.lookup.get(e);if(o){const s=o.find((e=>e.context.lockId===t.lockId));if(s)return s;if(r=this.lockValues.get(e),!r)throw n.ps.from({originalError:"Unexpected missing cached lock value"})}else r=yield this.fnConstruct(e),o=[],this.lookup.set(e,o),this.lockValues.set(e,r),i=!0;const a=new s.H({context:t,release:t=>this.handleLockRelease(e,t,a),value:r});if(o.push(a),i)try{yield this.fnPostConstruct(e,a,t)}catch(e){try{yield a.release()}catch(e){}throw e}return a}))}}},78799:(e,t,r)=>{r.d(t,{s:()=>s,Z:()=>i});var n=function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};function s(e,t,r,s){let i,o=s;const a=()=>n(this,void 0,void 0,(function*(){const n=yield e(i),s=yield t(n),c=yield r(o,n);return o=c,s?(i=s,a()):o}));return a()}function i(e,t,r,s){let i,o=s;const a=()=>n(this,void 0,void 0,(function*(){const n=yield e(i),s=yield r(o,n);o=s;const c=yield t(n,o);return c?(i=c,a()):o}));return a()}},36625:(e,t,r)=>{r.d(t,{Q:()=>n});class n{constructor(){this.listeners=new Map}emit(e,...t){return r=this,n=void 0,i=function*(){const r=this.listeners.get(e);r&&(yield Promise.all(r.map((e=>e(...t)))))},new((s=void 0)||(s=Promise))((function(e,t){function o(e){try{c(i.next(e))}catch(e){t(e)}}function a(e){try{c(i.throw(e))}catch(e){t(e)}}function c(t){var r;t.done?e(t.value):(r=t.value,r instanceof s?r:new s((function(e){e(r)}))).then(o,a)}c((i=i.apply(r,n||[])).next())}));var r,n,s,i}on(e,t){let r=this.listeners.get(e);r||(r=[],this.listeners.set(e,r)),r.push(t)}off(e,t){const r=this.listeners.get(e);if(!r)return;const n=r.indexOf(t);-1!==n&&(r.splice(n,1),r.length||this.listeners.delete(e))}listenerCount(e){const t=this.listeners.get(e);return t?t.length:0}removeAllListeners(e){e?this.listeners.delete(e):this.listeners.clear()}}new n},2323:(e,t,r)=>{r.d(t,{uT:()=>i,C8:()=>o,yS:()=>a,sz:()=>c});var n=function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))},s=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,s){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,s,(t=e[r](t)).done,t.value)}))}}};function i(e,t){return n(this,void 0,void 0,(function*(){const r=yield Promise.all(e.map(t));return e.filter(((e,t)=>r[t]))}))}function o(e,t){var r,i,o,a;return n(this,void 0,void 0,(function*(){let n=0;try{for(r=s(e);!(i=yield r.next()).done;){const r=i.value;if(yield t(r,n,e))return r;++n}}catch(e){o={error:e}}finally{try{i&&!i.done&&(a=r.return)&&(yield a.call(r))}finally{if(o)throw o.error}}}))}function a(e,t,r){var i,o,a,c;return n(this,void 0,void 0,(function*(){let n=0,u=r;try{for(i=s(e);!(o=yield i.next()).done;){const r=o.value;u=yield t(u,r,n,e),++n}}catch(e){a={error:e}}finally{try{o&&!o.done&&(c=i.return)&&(yield c.call(i))}finally{if(a)throw a.error}}return u}))}function c(e,t){return n(this,void 0,void 0,(function*(){return Promise.all(e.map(t))}))}},72739:(e,t,r)=>{r.d(t,{S:()=>i}),r(4614);var n=r(2872),s=r(88767);function i(e){return{node:{type:n.Ab.NodeType.Value,contextMeta:[],nodeId:(0,s.Z)(),value:e.serialize(),valueType:{typeId:0},output:"compute"},spec:{playbooks:[],plugins:[],types:[{facets:e.getTypes()}],version:1}}}},1993:(e,t,r)=>{r.d(t,{h:()=>i});var n=r(50881),s=(r(2872),r(30817));function i(e,t){var r,i,o,a,c,u;return o=this,a=void 0,u=function*(){if(!e.body||!e.headers)throw new TypeError("Could not process invalid HTTP response");const o=e.body.getReader(),a=+(e.headers.get("Content-Length")||0);a||t.setProgress(.5,1);let c=0,u=0;const l=[];for(;!(null===(r=t.getAbortSignal())||void 0===r?void 0:r.aborted);){const{done:e,value:r}=yield o.read();if(e)break;r&&(l.push(r),c+=r.length,c-u>10240&&(u=c,a?(t.setProgress(c,a),t.setMessage(`Downloading: ${(0,s.X)(c)} / ${(0,s.X)(a)}`)):t.setMessage(`Downloading ${(c/1024).toFixed(1)} Kb`)))}if(null===(i=t.getAbortSignal())||void 0===i?void 0:i.aborted)throw n.lK.from({});t.setCompleted();const d=new Uint8Array(c);let h=0;for(const e of l)d.set(e,h),h+=e.length;return d},new((c=void 0)||(c=Promise))((function(e,t){function r(e){try{s(u.next(e))}catch(e){t(e)}}function n(e){try{s(u.throw(e))}catch(e){t(e)}}function s(t){var s;t.done?e(t.value):(s=t.value,s instanceof c?s:new c((function(e){e(s)}))).then(r,n)}s((u=u.apply(o,a||[])).next())}))}},93138:(e,t,r)=>{r.d(t,{nK:()=>s,pI:()=>i,wp:()=>o,kC:()=>u});var n=r(83963);function s(e,t=70){var r,n;if(null==e)return"";if(e.length>t){const s=e.split(" ");let i=s[0]||"";for(let e=1,o=s.length;e<o&&!(i.length+(null!==(n=null===(r=s[e])||void 0===r?void 0:r.length)&&void 0!==n?n:0)+1>=t);++e)e>0&&(i+=" "),i+=s[e];const o=i.indexOf(".");return i.length>t?i=i.substr(0,t):o>-1&&(i=i.substr(0,o)),i+"..."}return e}const i=e=>{return t=void 0,r=void 0,s=function*(){try{e=yield e.response.json()}catch(e){}return o(e)},new((n=void 0)||(n=Promise))((function(e,i){function o(e){try{c(s.next(e))}catch(e){i(e)}}function a(e){try{c(s.throw(e))}catch(e){i(e)}}function c(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(e){e(r)}))).then(o,a)}c((s=s.apply(t,r||[])).next())}));var t,r,n,s},o=e=>{if("string"==typeof e)return e;try{const t=c(e);if("string"==typeof t)return t}catch(e){}try{return JSON.stringify(e)}catch(e){}return String(e)},a=[e=>{if((0,n.Je)(e)&&e.clientErrorHistory[0]){const t=e.clientErrorHistory[0];return`${t.message} ${t.userHint}`}},e=>e.error.message,e=>e.error,e=>e.message,e=>e.response.error,e=>e.response.message,e=>e.response],c=e=>{for(const t of a)try{const r=t(e);if("string"==typeof r)return r}catch(e){}};function u([e,...t]){return e?e.toUpperCase()+t.join(""):""}},87254:(e,t,r)=>{r.d(t,{K:()=>n});function n(e){var t,n,s,i,o,a;return s=this,i=void 0,a=function*(){let s;const i=/\.(e|bind)\(.*?(".+?"|[0-9]+)/g,o=[];for(;null!=(s=i.exec(e));)switch(s[1]){case"e":o.push({chunk:JSON.parse(s[2])});break;case"bind":o.push({module:JSON.parse(s[2])})}let a=null;try{for(var c,u=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,s){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,s,(t=e[r](t)).done,t.value)}))}}}(o);!(c=yield u.next()).done;){const e=c.value;"chunk"in e?yield r.e(e.chunk):a=yield r(e.module)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&(yield n.call(u))}finally{if(t)throw t.error}}return a},new((o=void 0)||(o=Promise))((function(e,t){function r(e){try{c(a.next(e))}catch(e){t(e)}}function n(e){try{c(a.throw(e))}catch(e){t(e)}}function c(t){var s;t.done?e(t.value):(s=t.value,s instanceof o?s:new o((function(e){e(s)}))).then(r,n)}c((a=a.apply(s,i||[])).next())}))}}}]);